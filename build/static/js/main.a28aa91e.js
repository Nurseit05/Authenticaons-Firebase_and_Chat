/*! For license information please see main.a28aa91e.js.LICENSE.txt */
!function(){"use strict";var e={532:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},457:function(e,t,n){n(532)},110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=d(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function j(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==Se||null!==_e)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,ze=null,je={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,_t,It,Et=!1,Tt=[],Ct=null,At=null,Rt=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function zt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Rt&&Ut(Rt)&&(Rt=null),Nt.forEach(zt),Pt.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Rt&&Vt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return _n}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Nn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),zn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function $n(e){if(H(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,we(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Ir(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=ze,Ue=!1,ze=null,e}function zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ne((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Rn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Kr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Hr(h))p++;for(h=0,v=d;v;v=Hr(v))h++;for(;0<p-h;)l=Hr(l),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Hr(l),d=Hr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Un);case"textInput":return(e=t.data)===Un&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ii(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ei(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ri=Ti;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ai),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var Ui=null,zi=!1,ji=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,zi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{bt=t,ji=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ri:Ci.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=zc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Uc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=_i(Ja),eo=_i(Ja),to=_i(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ei(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Do.bind(null,n,r,i,t),void 0,null),null===Rs)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}vo.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Go(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Uo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Rs)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Rs.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Yo,useContext:Ia,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:Xo,useReducer:Ro,useRef:jo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],To().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),du(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Io(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Os),Os|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ni(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Io(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Ni(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Ra=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ai.current||Ra?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Ra||Ba(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Ni(t,s=Pi(n)?Ri:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Wa(t,o,r,s),Ra=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ai.current||Ra?("function"===typeof h&&(ja(t,n,h,r),p=t.memoizedState),(c=Ra||Ba(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Nu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Ou,Du,Lu,Mu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Mu,e):zu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Rs)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Xi,Hi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=zu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=zu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)zr(Lr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&zr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Ou(e,t),null===e&&Br(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&zr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(d=Zu=f;null!==Zu;){switch(p=(h=Zu).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){xs(d);continue}}null!==p?(p.return=h,Zu=p):xs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Ss(i):null!==s?(s.return=o,Zu=s):Ss(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(h){Ic(t,t.return,h)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Ss(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var _s,Is=Math.ceil,Es=k.ReactCurrentDispatcher,Ts=k.ReactCurrentOwner,Cs=k.ReactCurrentBatchConfig,As=0,Rs=null,Ns=null,Ps=0,Os=0,Ds=_i(0),Ls=0,Ms=null,Fs=0,Us=0,zs=0,js=null,Vs=null,Bs=0,qs=1/0,Ws=null,Ks=!1,Gs=null,Hs=null,Qs=!1,$s=null,Ys=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&As)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ps?Ps&-Ps:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Rs||(e===Rs&&(0===(2&As)&&(Us|=n),4===Ls&&sc(e,Ps)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=Xe()+500,zi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Rs?Ps:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&As)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Rs?Ps:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Rs===e&&Ps===t||(Ws=null,qs=Xe()+500,hc(e,t));;)try{bc();break}catch(s){pc(e,s)}wa(),Es.current=o,As=i,null!==Ns?t=0:(Rs=null,Ps=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,hc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,hc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Vs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Vs,Ws),t);break}xc(e,Vs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Vs,Ws),r);break}xc(e,Vs,Ws);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&uc(t)),e}function uc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function sc(e,t){for(t&=~zs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,hc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Vs,Ws),ic(e,Xe()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=Xe()+500,zi&&Bi())}}function fc(e){null!==$s&&0===$s.tag&&0===(6&As)&&Sc();var t=As;As|=1;var n=Cs.transition,r=bt;try{if(Cs.transition=null,bt=1,e)return e()}finally{bt=r,Cs.transition=n,0===(6&(As=t))&&Bi()}}function dc(){Os=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rs=e,Ns=e=Dc(e.current,null),Ps=Os=t,Ls=0,Ms=null,zs=Us=Fs=0,Vs=js=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Ts.current=null,null===n||null===n.return){Ls=1,Ms=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ps,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function vc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Rs||0===(268435455&Fs)&&0===(268435455&Us)||sc(Rs,Ps)}function yc(e,t){var n=As;As|=2;var r=vc();for(Rs===e&&Ps===t||(Ws=null,hc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Es.current=r,null!==Ns)throw Error(a(261));return Rs=null,Ps=0,Ls}function gc(){for(;null!==Ns;)kc(Ns)}function bc(){for(;null!==Ns&&!$e();)kc(Ns)}function kc(e){var t=_s(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?wc(e):Ns=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ls=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=bt,i=Cs.transition;try{Cs.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==$s);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Rs&&(Ns=Rs=null,Ps=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Rc(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=bt;bt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Ye(),As=s,bt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,$s=e,Ys=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Bi()}(e,t,n,r)}finally{Cs.transition=i,bt=r}return null}function Sc(){if(null!==$s){var e=kt(Ys),t=Cs.transition,n=bt;try{if(Cs.transition=null,bt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ys=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Zu=d;else for(;null!==Zu;){var h=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==h){h.return=p,Zu=h;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(As=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cs.transition=t}}return!1}function _c(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(130023424&Ps)===Ps&&500>Xe()-Bs?hc(e,0):zs|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Rc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Pc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Pc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case N:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),ha();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Nu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Nu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),qa(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&As)&&(qs=Xe()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},_t=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?S():(_=!1,I=null)}}else _=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){y(R,0)};function O(e){I=e,_||(_=!0,S())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){n.d(r,{_:function(){return HU}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return tu},SDK_VERSION:function(){return ds},_DEFAULT_ENTRY_NAME:function(){return Zu},_addComponent:function(){return rs},_addOrOverwriteComponent:function(){return is},_apps:function(){return ts},_clearComponents:function(){return ss},_components:function(){return ns},_getProvider:function(){return os},_registerComponent:function(){return as},_removeServiceInstance:function(){return us},deleteApp:function(){return ms},getApp:function(){return ps},getApps:function(){return vs},initializeApp:function(){return hs},onLog:function(){return bs},registerVersion:function(){return gs},setLogLevel:function(){return ks}});var t,i=n(791),a=n.t(i,2),o=n(250);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||c(e,t)||l()}function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function h(e){return function(e){if(Array.isArray(e))return s(e)}(e)||d(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}(this,n)}}function I(e,t,n){return I=x()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},I.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)},E(e)}function T(e){return u(e)||d(e)||c(e)||l()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var R,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function O(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function L(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function M(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function U(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-h;h=e,d&&d({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:M(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(A({},l.state,{idx:h}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(N,v),d=e,function(){u.removeEventListener(N,v),d=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=L(y.location,e,n);r&&r(i,e);var a=D(i,h=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&d&&d({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=L(y.location,e,n);r&&r(i,e);var a=D(i,h=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(R||(R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function z(e,t,n){void 0===n&&(n="/");var r=Z(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],J(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=re([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),j(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:$(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(V(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function V(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=V(i.join("/")),s=[];return s.push.apply(s,h(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,h(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,q=3,W=2,K=1,G=10,H=-2,Q=function(e){return"*"===e};function $(e,t){var n=e.split("/"),r=n.length;return n.some(Q)&&(r+=H),t&&(r+=W),n.filter((function(e){return!Q(e)})).reduce((function(e,t){return e+(B.test(t)?q:""===t?K:G)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=X({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function X(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);O("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=f(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return O(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function J(e){try{return decodeURI(e)}catch(t){return O(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(P(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ae(a),hash:oe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(E(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var de=i.createContext(null);var he=i.createContext(null);var pe=i.createContext(null);var ve=i.createContext(null);var me=i.createContext(null);var ye=i.createContext({outlet:null,matches:[],isDataRoute:!1});var ge=i.createContext(null);function be(){return null!=i.useContext(me)}function ke(){return be()||P(!1),i.useContext(me).location}function we(e){i.useContext(ve).static||i.useLayoutEffect(e)}function xe(){return i.useContext(ye).isDataRoute?function(){var e=Ne(Ae.UseNavigateStable).router,t=Oe(Re.UseNavigateStable),n=i.useRef(!1);we((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,fe({fromRouteId:t},i)))}),[e,t]);return r}():function(){be()||P(!1);var e=i.useContext(de),t=i.useContext(ve),n=t.basename,r=t.navigator,a=i.useContext(ye).matches,o=ke().pathname,u=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),s=i.useRef(!1);return we((function(){s.current=!0})),i.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var a=ne(t,JSON.parse(u),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:re([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,u,o,e])}()}function Se(e,n,r){be()||P(!1);var a,o=i.useContext(ve).navigator,u=i.useContext(ye).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,ke());if(n){var d,h="string"===typeof n?F(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||P(!1),a=h}else a=f;var p=a.pathname||"/",v=z(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Ce(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:re([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:re([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,r);return n&&m?i.createElement(me.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function _e(){var e=function(){var e,t=i.useContext(ge),n=Pe(Re.UseRouteError),r=Oe(Re.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Ie=i.createElement(_e,null),Ee=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return g(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(ye.Provider,{value:this.props.routeContext},i.createElement(ge.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Te(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(de);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ye.Provider,{value:t},r)}function Ce(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(r=n)?void 0:r.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||P(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,a){var s=r.route.id?null==u?void 0:u[r.route.id]:null,c=null;n&&(c=r.route.errorElement||Ie);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Te,{match:r,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Ee,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}var Ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ae||{}),Re=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Re||{});function Ne(e){var t=i.useContext(de);return t||P(!1),t}function Pe(e){var t=i.useContext(he);return t||P(!1),t}function Oe(e){var t=function(e){var t=i.useContext(ye);return t||P(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||P(!1),n.route.id}a.startTransition;function De(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;be()||P(!1);var o=i.useContext(ye).matches,u=ke().pathname,s=xe(),c=ne(t,te(o).map((function(e){return e.pathnameBase})),u,"path"===a),l=JSON.stringify(c);return i.useEffect((function(){return s(JSON.parse(l),{replace:n,state:r,relative:a})}),[s,l,a,n,r]),null}function Le(e){P(!1)}function Me(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;be()&&P(!1);var h=r.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=F(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,k=v.hash,w=void 0===k?"":k,x=v.state,S=void 0===x?null:x,_=v.key,I=void 0===_?"default":_,E=i.useMemo((function(){var e=Z(y,h);return null==e?null:{location:{pathname:e,search:b,hash:w,state:S,key:I},navigationType:c}}),[h,y,b,w,S,I,c]);return null==E?null:i.createElement(ve.Provider,{value:p},i.createElement(me.Provider,{children:o,value:E}))}function Fe(e){var t=e.children,n=e.location;return Se(je(t),n)}var Ue=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Ue||{}),ze=new Promise((function(){}));i.Component;function je(e,t){void 0===t&&(t=[]);var n=[];return i.Children.forEach(e,(function(e,r){if(i.isValidElement(e)){var a=[].concat(h(t),[r]);if(e.type!==i.Fragment){e.type!==Le&&P(!1),e.props.index&&e.props.children&&P(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=je(e.props.children,a)),n.push(o)}else n.push.apply(n,je(e.props.children,a))}})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Ve=a.startTransition;function Be(e){var t,n=e.basename,r=e.children,a=e.future,o=e.window,u=i.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),U((function(e,t){var n=e.location;return L("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:M(t)}),null,t)));var s=u.current,c=f(i.useState({action:s.action,location:s.location}),2),l=c[0],d=c[1],h=(a||{}).v7_startTransition,p=i.useCallback((function(e){h&&Ve?Ve((function(){return d(e)})):d(e)}),[d,h]);return i.useLayoutEffect((function(){return s.listen(p)}),[s,p]),i.createElement(Me,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var qe,We;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(qe||(qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(We||(We={}));function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function He(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=He(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Qe=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=He(e))&&(r&&(r+=" "),r+=t);return r};function $e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function Ye(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Xe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Je=Ye((function(e){return Xe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var Ze=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),et=Math.abs,tt=String.fromCharCode,nt=Object.assign;function rt(e){return e.trim()}function it(e,t,n){return e.replace(t,n)}function at(e,t){return e.indexOf(t)}function ot(e,t){return 0|e.charCodeAt(t)}function ut(e,t,n){return e.slice(t,n)}function st(e){return e.length}function ct(e){return e.length}function lt(e,t){return t.push(e),e}var ft=1,dt=1,ht=0,pt=0,vt=0,mt="";function yt(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:ft,column:dt,length:o,return:""}}function gt(e,t){return nt(yt("",null,null,"",null,null,0),e,{length:-e.length},t)}function bt(){return vt=pt>0?ot(mt,--pt):0,dt--,10===vt&&(dt=1,ft--),vt}function kt(){return vt=pt<ht?ot(mt,pt++):0,dt++,10===vt&&(dt=1,ft++),vt}function wt(){return ot(mt,pt)}function xt(){return pt}function St(e,t){return ut(mt,e,t)}function _t(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function It(e){return ft=dt=1,ht=st(mt=e),pt=0,[]}function Et(e){return mt="",e}function Tt(e){return rt(St(pt-1,Rt(91===e?e+2:40===e?e+1:e)))}function Ct(e){for(;(vt=wt())&&vt<33;)kt();return _t(e)>2||_t(vt)>3?"":" "}function At(e,t){for(;--t&&kt()&&!(vt<48||vt>102||vt>57&&vt<65||vt>70&&vt<97););return St(e,xt()+(t<6&&32==wt()&&32==kt()))}function Rt(e){for(;kt();)switch(vt){case e:return pt;case 34:case 39:34!==e&&39!==e&&Rt(vt);break;case 40:41===e&&Rt(e);break;case 92:kt()}return pt}function Nt(e,t){for(;kt()&&e+vt!==57&&(e+vt!==84||47!==wt()););return"/*"+St(t,pt-1)+"*"+tt(47===e?e:kt())}function Pt(e){for(;!_t(wt());)kt();return St(e,pt)}var Ot="-ms-",Dt="-moz-",Lt="-webkit-",Mt="comm",Ft="rule",Ut="decl",zt="@keyframes";function jt(e,t){for(var n="",r=ct(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Vt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ut:return e.return=e.return||e.value;case Mt:return"";case zt:return e.return=e.value+"{"+jt(e.children,r)+"}";case Ft:e.value=e.props.join(",")}return st(n=jt(e.children,r))?e.return=e.value+"{"+n+"}":""}function Bt(e){return Et(qt("",null,null,null,[""],e=It(e),0,[0],e))}function qt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,d=0,h=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,x=r,S=b;m;)switch(p=g,g=kt()){case 40:if(108!=p&&58==ot(S,f-1)){-1!=at(S+=it(Tt(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Tt(g);break;case 9:case 10:case 13:case 32:S+=Ct(p);break;case 92:S+=At(xt()-1,7);continue;case 47:switch(wt()){case 42:case 47:lt(Kt(Nt(kt(),xt()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=st(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(S=it(S,/\f/g,"")),h>0&&st(S)-f&&lt(h>32?Gt(S+";",r,n,f-1):Gt(it(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(lt(x=Wt(S,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)qt(S,t,x,x,k,a,f,u,w);else switch(99===d&&110===ot(S,3)?100:d){case 100:case 108:case 109:case 115:qt(e,x,x,r&&lt(Wt(e,x,x,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:qt(S,x,x,x,[""],w,0,u,w)}}c=l=h=0,v=y=1,b=S="",f=o;break;case 58:f=1+st(S),h=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==bt())continue;switch(S+=tt(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(st(S)-1)*y,y=1;break;case 64:45===wt()&&(S+=Tt(kt())),d=wt(),l=f=st(b=S+=Pt(xt())),g++;break;case 45:45===p&&2==st(S)&&(v=0)}}return a}function Wt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,d=0===i?a:[""],h=ct(d),p=0,v=0,m=0;p<r;++p)for(var y=0,g=ut(e,f+1,f=et(v=o[p])),b=e;y<h;++y)(b=rt(v>0?d[y]+" "+g:it(g,/&\f/g,d[y])))&&(s[m++]=b);return yt(e,t,n,0===i?Ft:u,s,c,l)}function Kt(e,t,n){return yt(e,t,n,Mt,tt(vt),ut(e,2,-2),0)}function Gt(e,t,n,r){return yt(e,t,n,Ut,ut(e,0,r),ut(e,r+1,-1),r)}var Ht=function(e,t,n){for(var r=0,i=0;r=i,i=wt(),38===r&&12===i&&(t[n]=1),!_t(i);)kt();return St(e,pt)},Qt=function(e,t){return Et(function(e,t){var n=-1,r=44;do{switch(_t(r)){case 0:38===r&&12===wt()&&(t[n]=1),e[n]+=Ht(pt-1,t,n);break;case 2:e[n]+=Tt(r);break;case 4:if(44===r){e[++n]=58===wt()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=tt(r)}}while(r=kt());return e}(It(e),t))},$t=new WeakMap,Yt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$t.get(n))&&!r){$t.set(e,!0);for(var i=[],a=Qt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},Xt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Jt(e,t){switch(function(e,t){return 45^ot(e,0)?(((t<<2^ot(e,0))<<2^ot(e,1))<<2^ot(e,2))<<2^ot(e,3):0}(e,t)){case 5103:return Lt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Lt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Lt+e+Dt+e+Ot+e+e;case 6828:case 4268:return Lt+e+Ot+e+e;case 6165:return Lt+e+Ot+"flex-"+e+e;case 5187:return Lt+e+it(e,/(\w+).+(:[^]+)/,Lt+"box-$1$2"+Ot+"flex-$1$2")+e;case 5443:return Lt+e+Ot+"flex-item-"+it(e,/flex-|-self/,"")+e;case 4675:return Lt+e+Ot+"flex-line-pack"+it(e,/align-content|flex-|-self/,"")+e;case 5548:return Lt+e+Ot+it(e,"shrink","negative")+e;case 5292:return Lt+e+Ot+it(e,"basis","preferred-size")+e;case 6060:return Lt+"box-"+it(e,"-grow","")+Lt+e+Ot+it(e,"grow","positive")+e;case 4554:return Lt+it(e,/([^-])(transform)/g,"$1"+Lt+"$2")+e;case 6187:return it(it(it(e,/(zoom-|grab)/,Lt+"$1"),/(image-set)/,Lt+"$1"),e,"")+e;case 5495:case 3959:return it(e,/(image-set\([^]*)/,Lt+"$1$`$1");case 4968:return it(it(e,/(.+:)(flex-)?(.*)/,Lt+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Lt+e+e;case 4095:case 3583:case 4068:case 2532:return it(e,/(.+)-inline(.+)/,Lt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(st(e)-1-t>6)switch(ot(e,t+1)){case 109:if(45!==ot(e,t+4))break;case 102:return it(e,/(.+:)(.+)-([^]+)/,"$1"+Lt+"$2-$3$1"+Dt+(108==ot(e,t+3)?"$3":"$2-$3"))+e;case 115:return~at(e,"stretch")?Jt(it(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ot(e,t+1))break;case 6444:switch(ot(e,st(e)-3-(~at(e,"!important")&&10))){case 107:return it(e,":",":"+Lt)+e;case 101:return it(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Lt+(45===ot(e,14)?"inline-":"")+"box$3$1"+Lt+"$2$3$1"+Ot+"$2box$3")+e}break;case 5936:switch(ot(e,t+11)){case 114:return Lt+e+Ot+it(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Lt+e+Ot+it(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Lt+e+Ot+it(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Lt+e+Ot+e+e}return e}var Zt=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ut:e.return=Jt(e.value,e.length);break;case zt:return jt([gt(e,{value:it(e.value,"@","@"+Lt)})],r);case Ft:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jt([gt(e,{props:[it(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return jt([gt(e,{props:[it(t,/:(plac\w+)/,":"+Lt+"input-$1")]}),gt(e,{props:[it(t,/:(plac\w+)/,":-moz-$1")]}),gt(e,{props:[it(t,/:(plac\w+)/,Ot+"input-$1")]})],r)}return""}))}}],en=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Zt;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[Vt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=ct(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([Yt,Xt].concat(r,l));a=function(e,t,n,r){s=n,function(e){jt(Bt(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Ze({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return d.sheet.hydrate(u),d};var tn={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nn=/[A-Z]|^ms/g,rn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,an=function(e){return 45===e.charCodeAt(1)},on=function(e){return null!=e&&"boolean"!==typeof e},un=Ye((function(e){return an(e)?e:e.replace(nn,"-$&").toLowerCase()})),sn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(rn,(function(e,t,n){return ln={name:t,styles:n,next:ln},t}))}return 1===tn[e]||an(e)||"number"!==typeof t||0===t?t:t+"px"};function cn(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ln={name:n.name,styles:n.styles,next:ln},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ln={name:r.name,styles:r.styles,next:ln},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=cn(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":on(o)&&(r+=un(a)+":"+sn(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=cn(e,t,o);switch(a){case"animation":case"animationName":r+=un(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)on(o[s])&&(r+=un(a)+":"+sn(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=ln,a=n(e);return ln=i,cn(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var ln,fn=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var dn=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";ln=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=cn(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=cn(n,t,e[o]),r&&(i+=a[o]);fn.lastIndex=0;for(var u,s="";null!==(u=fn.exec(i));)s+="-"+u[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s;return{name:c,styles:i,next:ln}},hn=!!a.useInsertionEffect&&a.useInsertionEffect,pn=hn||function(e){return e()},vn=hn||i.useLayoutEffect,mn=i.createContext("undefined"!==typeof HTMLElement?en({key:"css"}):null);mn.Provider;var yn=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(mn);return e(t,r,n)}))};var gn=i.createContext({});var bn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},kn=function(e,t,n){bn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},wn=Je,xn=function(e){return"theme"!==e},Sn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?wn:xn},_n=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},In=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return bn(t,n,r),pn((function(){return kn(t,n,r)})),null},En=function e(t,n){var r,a,o=t.__emotion_real===t,u=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var s=_n(t,n,o),c=s||Sn(u),l=!c("as");return function(){var f=arguments,d=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)d.push.apply(d,f);else{0,d.push(f[0][0]);for(var h=f.length,p=1;p<h;p++)d.push(f[p],f[0][p])}var v=yn((function(e,t,n){var r=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=i.useContext(gn)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=dn(d.concat(f),t.registered,h);o+=t.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Sn(r):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=n,i.createElement(i.Fragment,null,i.createElement(In,{cache:t,serialized:v,isStringTag:"string"===typeof r}),i.createElement(r,y))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=d,v.__emotion_forwardProp=s,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,r){return e(t,Ge({},n,r,{shouldForwardProp:_n(v,r,!0)})).apply(void 0,d)},v}}.bind();function Tn(e,t){return En(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){En[e]=En(e)}));function Cn(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function An(e){if(!Cn(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=An(e[n])})),t}function Rn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Ge({},e):e;return Cn(e)&&Cn(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Cn(t[i])&&i in e&&Cn(e[i])?r[i]=Rn(e[i],t[i],n):n.clone?r[i]=Cn(t[i])?An(t[i]):t[i]:r[i]=t[i])})),r}function Nn(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn=["values","unit","step"],On=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return Ge({},e,Nn({},t.key,t.val))}),{})};var Dn={borderRadius:4},Ln={xs:0,sm:600,md:900,lg:1200,xl:1536},Mn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Ln[e],"px)")}};function Fn(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Mn;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||Mn;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Ln).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function Un(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function zn(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function jn(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}function Vn(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Bn(e){if("string"!==typeof e)throw new Error(Vn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function qn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function Wn(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:qn(e,n)||i,t&&(r=t(r,i,e)),r}var Kn=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=qn(e.theme,i)||{};return Fn(e,n,(function(e){var n=Wn(o,a,e);return e===n&&"string"===typeof e&&(n=Wn(o,a,"".concat(t).concat("default"===e?"":Bn(e)),e)),!1===r?n:Nn({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var Gn=function(e,t){return t?Rn(e,t,{clone:!1}):e};var Hn={m:"margin",p:"padding"},Qn={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$n={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Yn=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!$n[e])return[e];e=$n[e]}var t=f(e.split(""),2),n=t[0],r=t[1],i=Hn[n],a=Qn[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),Xn=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jn=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Zn=[].concat(Xn,Jn);function er(e,t,n,r){var i,a=null!=(i=qn(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function tr(e){return er(e,"spacing",8)}function nr(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function rr(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=nr(t,n),e}),{})}}(Yn(n),r);return Fn(e,e[n],i)}function ir(e,t){var n=tr(e.theme);return Object.keys(e).map((function(r){return rr(e,t,r,n)})).reduce(Gn,{})}function ar(e){return ir(e,Xn)}function or(e){return ir(e,Jn)}function ur(e){return ir(e,Zn)}ar.propTypes={},ar.filterProps=Xn,or.propTypes={},or.filterProps=Jn,ur.propTypes={},ur.filterProps=Zn;var sr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Gn(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function cr(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var lr=Kn({prop:"border",themeKey:"borders",transform:cr}),fr=Kn({prop:"borderTop",themeKey:"borders",transform:cr}),dr=Kn({prop:"borderRight",themeKey:"borders",transform:cr}),hr=Kn({prop:"borderBottom",themeKey:"borders",transform:cr}),pr=Kn({prop:"borderLeft",themeKey:"borders",transform:cr}),vr=Kn({prop:"borderColor",themeKey:"palette"}),mr=Kn({prop:"borderTopColor",themeKey:"palette"}),yr=Kn({prop:"borderRightColor",themeKey:"palette"}),gr=Kn({prop:"borderBottomColor",themeKey:"palette"}),br=Kn({prop:"borderLeftColor",themeKey:"palette"}),kr=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=er(e.theme,"shape.borderRadius",4);return Fn(e,e.borderRadius,(function(e){return{borderRadius:nr(t,e)}}))}return null};kr.propTypes={},kr.filterProps=["borderRadius"];sr(lr,fr,dr,hr,pr,vr,mr,yr,gr,br,kr);var wr=function(e){if(void 0!==e.gap&&null!==e.gap){var t=er(e.theme,"spacing",8);return Fn(e,e.gap,(function(e){return{gap:nr(t,e)}}))}return null};wr.propTypes={},wr.filterProps=["gap"];var xr=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=er(e.theme,"spacing",8);return Fn(e,e.columnGap,(function(e){return{columnGap:nr(t,e)}}))}return null};xr.propTypes={},xr.filterProps=["columnGap"];var Sr=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=er(e.theme,"spacing",8);return Fn(e,e.rowGap,(function(e){return{rowGap:nr(t,e)}}))}return null};Sr.propTypes={},Sr.filterProps=["rowGap"];sr(wr,xr,Sr,Kn({prop:"gridColumn"}),Kn({prop:"gridRow"}),Kn({prop:"gridAutoFlow"}),Kn({prop:"gridAutoColumns"}),Kn({prop:"gridAutoRows"}),Kn({prop:"gridTemplateColumns"}),Kn({prop:"gridTemplateRows"}),Kn({prop:"gridTemplateAreas"}),Kn({prop:"gridArea"}));function _r(e,t){return"grey"===t?t:e}sr(Kn({prop:"color",themeKey:"palette",transform:_r}),Kn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_r}),Kn({prop:"backgroundColor",themeKey:"palette",transform:_r}));function Ir(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var Er=Kn({prop:"width",transform:Ir}),Tr=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Fn(e,e.maxWidth,(function(t){var n,r,i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||Ln[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:Ir(t)}}))}return null};Tr.filterProps=["maxWidth"];var Cr=Kn({prop:"minWidth",transform:Ir}),Ar=Kn({prop:"height",transform:Ir}),Rr=Kn({prop:"maxHeight",transform:Ir}),Nr=Kn({prop:"minHeight",transform:Ir}),Pr=(Kn({prop:"size",cssProperty:"width",transform:Ir}),Kn({prop:"size",cssProperty:"height",transform:Ir}),sr(Er,Tr,Cr,Ar,Rr,Nr,Kn({prop:"boxSizing"})),{border:{themeKey:"borders",transform:cr},borderTop:{themeKey:"borders",transform:cr},borderRight:{themeKey:"borders",transform:cr},borderBottom:{themeKey:"borders",transform:cr},borderLeft:{themeKey:"borders",transform:cr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:kr},color:{themeKey:"palette",transform:_r},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_r},backgroundColor:{themeKey:"palette",transform:_r},p:{style:or},pt:{style:or},pr:{style:or},pb:{style:or},pl:{style:or},px:{style:or},py:{style:or},padding:{style:or},paddingTop:{style:or},paddingRight:{style:or},paddingBottom:{style:or},paddingLeft:{style:or},paddingX:{style:or},paddingY:{style:or},paddingInline:{style:or},paddingInlineStart:{style:or},paddingInlineEnd:{style:or},paddingBlock:{style:or},paddingBlockStart:{style:or},paddingBlockEnd:{style:or},m:{style:ar},mt:{style:ar},mr:{style:ar},mb:{style:ar},ml:{style:ar},mx:{style:ar},my:{style:ar},margin:{style:ar},marginTop:{style:ar},marginRight:{style:ar},marginBottom:{style:ar},marginLeft:{style:ar},marginX:{style:ar},marginY:{style:ar},marginInline:{style:ar},marginInlineStart:{style:ar},marginInlineEnd:{style:ar},marginBlock:{style:ar},marginBlockStart:{style:ar},marginBlockEnd:{style:ar},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:wr},rowGap:{style:Sr},columnGap:{style:xr},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ir},maxWidth:{style:Tr},minWidth:{transform:Ir},height:{transform:Ir},maxHeight:{transform:Ir},minHeight:{transform:Ir},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var Or=function(){function e(e,t,n,r){var i,a=(Nn(i={},e,t),Nn(i,"theme",n),i),o=r[e];if(!o)return Nn({},e,t);var u=o.cssProperty,s=void 0===u?e:u,c=o.themeKey,l=o.transform,f=o.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return Nn({},e,t);var d=qn(n,c)||{};if(f)return f(a);return Fn(a,t,(function(t){var n=Wn(d,l,t);return t===n&&"string"===typeof t&&(n=Wn(d,l,"".concat(e).concat("default"===t?"":Bn(t)),t)),!1===s?n:Nn({},s,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:Pr;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=Un(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=Gn(o,e(n,c,u,s));else{var l=Fn({theme:u},c,(function(e){return Nn({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=Gn(o,l):o[n]=t({sx:c,theme:u})}else o=Gn(o,e(n,c,u,s))})),zn(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();Or.filterProps=["sx"];var Dr=Or,Lr=["breakpoints","palette","spacing","shape"];var Mr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=Ke(e,Lr),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=Ke(e,Pn),s=On(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function d(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return Ge({keys:c,values:s,up:l,down:f,between:d,only:function(e){return c.indexOf(e)+1<c.length?d(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):d(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=tr({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),f=Rn({breakpoints:c,direction:"ltr",components:{},palette:Ge({mode:"light"},i),spacing:l,shape:Ge({},Dn,u)},s),d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return(f=h.reduce((function(e,t){return Rn(e,t)}),f)).unstable_sxConfig=Ge({},Pr,null==s?void 0:s.unstable_sxConfig),f.unstable_sx=function(e){return Dr({sx:e,theme:this})},f},Fr=["variant"];function Ur(e){return 0===e.length}function zr(e){var t=e.variant,n=Ke(e,Fr),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Ur(r)?e[t]:Bn(e[t]):"".concat(Ur(r)?t:Bn(t)).concat(Bn(e[t].toString()))})),r}var jr=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Vr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Br=Mr();function qr(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function Wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Br:n,i=e.rootShouldForwardProp,a=void 0===i?Vr:i,o=e.slotShouldForwardProp,u=void 0===o?Vr:o,s=function(e){return Dr(Ge({},e,{theme:qr(Ge({},e,{defaultTheme:r,themeId:t}))}))};return s.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i,o,c=n.name,l=n.slot,d=n.skipVariantsResolver,p=n.skipSx,v=n.overridesResolver,m=void 0===v?(i=(o=l)?o.charAt(0).toLowerCase()+o.slice(1):o)?function(e,t){return t[i]}:null:v,y=Ke(n,jr),g=void 0!==d?d:l&&"Root"!==l&&"root"!==l||!1,b=p||!1;var k=Vr;"Root"===l||"root"===l?k=a:l?k=u:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(k=void 0);var w=Tn(e,Ge({shouldForwardProp:k,label:undefined},y)),x=function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var u=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(Ge({},n,{theme:qr(Ge({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],l=n;c&&m&&u.push((function(e){var n=qr(Ge({},e,{defaultTheme:r,themeId:t})),i=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(c,n);if(i){var a={};return Object.entries(i).forEach((function(t){var r=f(t,2),i=r[0],o=r[1];a[i]="function"===typeof o?o(Ge({},e,{theme:n})):o})),m(e,a)}return null})),c&&!g&&u.push((function(e){var n=qr(Ge({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a=e.ownerState,o=void 0===a?{}:a,u=[],s=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return s&&s.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){o[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[zr(n.props)])})),u}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=zr(e.props);r[t]=e.style})),r}(c,n),n,c)})),b||u.push(s);var d=u.length-a.length;if(Array.isArray(n)&&d>0){var p=new Array(d).fill("");(l=[].concat(h(n),h(p))).raw=[].concat(h(n.raw),h(p))}else"function"===typeof n&&n.__emotion_real!==n&&(l=function(e){return n(Ge({},e,{theme:qr(Ge({},e,{defaultTheme:r,themeId:t}))}))});var v=w.apply(void 0,[l].concat(h(u)));return e.muiName&&(v.muiName=e.muiName),v};return w.withConfig&&(x.withConfig=w.withConfig),x}}function Kr(e,t){var n;return Ge({toolbar:(n={minHeight:56},Nn(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Nn(n,e.up("sm"),{minHeight:64}),n)},t)}function Gr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Hr(e){if(e.type)return e;if("#"===e.charAt(0))return Hr(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Vn(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(Vn(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Qr(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function $r(e){var t="hsl"===(e=Hr(e)).type||"hsla"===e.type?Hr(function(e){var t=(e=Hr(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Qr({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Yr(e,t){return e=Hr(e),t=Gr(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Qr(e)}function Xr(e,t){if(e=Hr(e),t=Gr(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Qr(e)}function Jr(e,t){if(e=Hr(e),t=Gr(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Qr(e)}var Zr={black:"#000",white:"#fff"},ei={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ti={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ni={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ri={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ii={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ai={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},oi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ui=["mode","contrastThreshold","tonalOffset"],si={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Zr.white,default:Zr.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ci={text:{primary:Zr.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Zr.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function li(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Jr(e.main,i):"dark"===t&&(e.dark=Xr(e.main,a)))}function fi(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=Ke(e,ui),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ii[200],light:ii[50],dark:ii[400]}:{main:ii[700],light:ii[400],dark:ii[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ti[200],light:ti[50],dark:ti[400]}:{main:ti[500],light:ti[300],dark:ti[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ni[500],light:ni[300],dark:ni[700]}:{main:ni[700],light:ni[400],dark:ni[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ai[400],light:ai[300],dark:ai[700]}:{main:ai[700],light:ai[500],dark:ai[900]}}(n),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:oi[400],light:oi[300],dark:oi[700]}:{main:oi[800],light:oi[500],dark:oi[900]}}(n),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:ri[400],light:ri[300],dark:ri[700]}:{main:"#ed6c02",light:ri[500],dark:ri[900]}}(n);function p(e){var t=function(e,t){var n=$r(e),r=$r(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ci.text.primary)>=i?ci.text.primary:si.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=Ge({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(Vn(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(Vn(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return li(t,"light",u,o),li(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},m={dark:ci,light:si};return Rn(Ge({common:Ge({},Zr),mode:n,primary:v({color:s,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:h,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:d,name:"success"}),grey:ei,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},m[n]),u)}var di=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var hi={textTransform:"uppercase"},pi='"Roboto", "Helvetica", "Arial", sans-serif';function vi(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?pi:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,d=void 0===f?500:f,h=n.fontWeightBold,p=void 0===h?700:h,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,b=Ke(n,di);var k=o/14,w=g||function(e){return"".concat(e/m*k,"rem")},x=function(e,t,n,r,a){return Ge({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===pi?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,y);var o},S={h1:x(s,96,1.167,-1.5),h2:x(s,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(d,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(d,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(d,14,1.75,.4,hi),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,hi),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rn(Ge({htmlFontSize:m,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:d,fontWeightBold:p},S),b,{clone:!1})}function mi(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var yi=["none",mi(0,2,1,-1,0,1,1,0,0,1,3,0),mi(0,3,1,-2,0,2,2,0,0,1,5,0),mi(0,3,3,-2,0,3,4,0,0,1,8,0),mi(0,2,4,-1,0,4,5,0,0,1,10,0),mi(0,3,5,-1,0,5,8,0,0,1,14,0),mi(0,3,5,-1,0,6,10,0,0,1,18,0),mi(0,4,5,-2,0,7,10,1,0,2,16,1),mi(0,5,5,-3,0,8,10,1,0,3,14,2),mi(0,5,6,-3,0,9,12,1,0,3,16,2),mi(0,6,6,-3,0,10,14,1,0,4,18,3),mi(0,6,7,-4,0,11,15,1,0,4,20,3),mi(0,7,8,-4,0,12,17,2,0,5,22,4),mi(0,7,8,-4,0,13,19,2,0,5,24,4),mi(0,7,9,-4,0,14,21,2,0,5,26,4),mi(0,8,9,-5,0,15,22,2,0,6,28,5),mi(0,8,10,-5,0,16,24,2,0,6,30,5),mi(0,8,11,-5,0,17,26,2,0,6,32,5),mi(0,9,11,-5,0,18,28,2,0,7,34,6),mi(0,9,12,-6,0,19,29,2,0,7,36,6),mi(0,10,13,-6,0,20,31,3,0,8,38,7),mi(0,10,13,-6,0,21,33,3,0,8,40,7),mi(0,10,14,-6,0,22,35,3,0,8,42,7),mi(0,11,14,-7,0,23,36,3,0,9,44,8),mi(0,11,15,-7,0,24,38,3,0,9,46,8)],gi=["duration","easing","delay"],bi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ki={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wi(e){return"".concat(Math.round(e),"ms")}function xi(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Si(e){var t=Ge({},bi,e.easing),n=Ge({},ki,e.duration);return Ge({getAutoHeightDuration:xi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;Ke(r,gi);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:wi(a)," ").concat(u," ").concat("string"===typeof c?c:wi(c))})).join(",")}},e,{easing:t,duration:n})}var _i={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ii=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=Ke(e,Ii);if(e.vars)throw new Error(Vn(18));var l=fi(i),f=Mr(e),d=Rn(f,{mixins:Kr(f.breakpoints,n),palette:l,shadows:yi.slice(),typography:vi(l,s),transitions:Si(o),zIndex:Ge({},_i)});d=Rn(d,c);for(var h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return(d=p.reduce((function(e,t){return Rn(e,t)}),d)).unstable_sxConfig=Ge({},Pr,null==c?void 0:c.unstable_sxConfig),d.unstable_sx=function(e){return Dr({sx:e,theme:this})},d}var Ti=Ei,Ci=Ti(),Ai="$$material",Ri=function(e){return Vr(e)&&"classes"!==e},Ni=Vr,Pi=Wr({themeId:Ai,defaultTheme:Ci,rootShouldForwardProp:Ri});function Oi(e,t){var n=Ge({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=Ge({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=Ge({},a),Object.keys(i).forEach((function(e){n[r][e]=Oi(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}var Di=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=i.useContext(gn);return n&&(e=n,0!==Object.keys(e).length)?n:t},Li=Mr();var Mi=function(){return Di(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li)};function Fi(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Mi(r);i&&(a=a[i]||a);var o=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Oi(t.components[n].defaultProps,r):r}({theme:a,name:n,props:t});return o}function Ui(e){return Fi({props:e.props,name:e.name,defaultTheme:Ci,themeId:Ai})}var zi=Bn,ji=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Vi=function(e){return e},Bi=function(){var e=Vi;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Vi}}}(),qi={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Wi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=qi[t];return r?"".concat(n,"-").concat(r):"".concat(Bi.generate(e),"-").concat(t)}function Ki(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=Wi(e,t,n)})),r}function Gi(e){return Wi("MuiPaper",e)}Ki("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Hi=n(184),Qi=["className","component","elevation","square","variant"],$i=Pi("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return Ge({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&Ge({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(Yr("#fff",ji(r.elevation)),", ").concat(Yr("#fff",ji(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),Yi=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,d=Ke(n,Qi),h=Ge({},n,{component:a,elevation:u,square:c,variant:f}),p=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return $e({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Gi,i)}(h);return(0,Hi.jsx)($i,Ge({as:a,ownerState:h,className:Qe(p.root,r),ref:t},d))})),Xi=Yi;function Ji(e){return Wi("MuiAppBar",e)}Ki("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var Zi=["className","color","enableColorOnDark","position"],ea=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},ta=Pi(Xi,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(zi(n.position))],t["color".concat(zi(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return Ge({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&Ge({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&Ge({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&Ge({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:ea(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:ea(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:ea(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:ea(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),na=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiAppBar"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.enableColorOnDark,u=void 0!==o&&o,s=n.position,c=void 0===s?"fixed":s,l=Ke(n,Zi),f=Ge({},n,{color:a,position:c,enableColorOnDark:u}),d=function(e){var t=e.color,n=e.position,r=e.classes;return $e({root:["root","color".concat(zi(t)),"position".concat(zi(n))]},Ji,r)}(f);return(0,Hi.jsx)(ta,Ge({square:!0,component:"header",ownerState:f,elevation:4,className:Qe(d.root,r,"fixed"===c&&"mui-fixed"),ref:t},l))})),ra=na;function ia(e){return Wi("MuiToolbar",e)}Ki("MuiToolbar",["root","gutters","regular","dense"]);var aa=["className","component","disableGutters","variant"],oa=Pi("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Ge({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&Nn({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),ua=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiToolbar"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.variant,c=void 0===s?"regular":s,l=Ke(n,aa),f=Ge({},n,{component:a,disableGutters:u,variant:c}),d=function(e){var t=e.classes;return $e({root:["root",!e.disableGutters&&"gutters",e.variant]},ia,t)}(f);return(0,Hi.jsx)(oa,Ge({as:a,className:Qe(d.root,r),ref:t,ownerState:f},l))})),sa=ua,ca=["sx"],la=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:Pr;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function fa(e){var t,n=e.sx,r=Ke(e,ca),i=la(r),a=i.systemProps,o=i.otherProps;return t=Array.isArray(n)?[a].concat(h(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Cn(e)?Ge({},a,e):a}:Ge({},a,n),Ge({},o,{sx:t})}function da(){var e=Mi(Ci);return e[Ai]||e}var ha=i.createContext();function pa(e){return Wi("MuiGrid",e)}var va=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ma=Ki("MuiGrid",["root","container","item","zeroMinWidth"].concat(h([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),h(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),h(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),h(va.map((function(e){return"grid-xs-".concat(e)}))),h(va.map((function(e){return"grid-sm-".concat(e)}))),h(va.map((function(e){return"grid-md-".concat(e)}))),h(va.map((function(e){return"grid-lg-".concat(e)}))),h(va.map((function(e){return"grid-xl-".concat(e)}))))),ya=ma,ga=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ba(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function ka(e){var t=e.breakpoints,n=e.values,r="";Object.keys(n).forEach((function(e){""===r&&0!==n[e]&&(r=e)}));var i=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));return i.slice(0,i.indexOf(r))}var wa=Pi("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.spacing,u=n.wrap,s=n.zeroMinWidth,c=n.breakpoints,l=[];r&&(l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach((function(t){var i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(o,c,t));var f=[];return c.forEach((function(e){var r=n[e];r&&f.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,a&&t.item,s&&t.zeroMinWidth].concat(h(l),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==u&&t["wrap-xs-".concat(String(u))]],f)}})((function(e){var t=e.ownerState;return Ge({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme;return Fn({theme:t},jn({values:e.ownerState.direction,breakpoints:t.breakpoints.values}),(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(ya.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var o,u=jn({values:i,breakpoints:t.breakpoints.values});"object"===typeof u&&(o=ka({breakpoints:t.breakpoints.values,values:u})),a=Fn({theme:t},u,(function(e,n){var r,i=t.spacing(e);return"0px"!==i?Nn({marginTop:"-".concat(ba(i))},"& > .".concat(ya.item),{paddingTop:ba(i)}):null!=(r=o)&&r.includes(n)?{}:Nn({marginTop:0},"& > .".concat(ya.item),{paddingTop:0})}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var o,u=jn({values:i,breakpoints:t.breakpoints.values});"object"===typeof u&&(o=ka({breakpoints:t.breakpoints.values,values:u})),a=Fn({theme:t},u,(function(e,n){var r,i=t.spacing(e);return"0px"!==i?Nn({width:"calc(100% + ".concat(ba(i),")"),marginLeft:"-".concat(ba(i))},"& > .".concat(ya.item),{paddingLeft:ba(i)}):null!=(r=o)&&r.includes(n)?{}:Nn({width:"100%",marginLeft:0},"& > .".concat(ya.item),{paddingLeft:0})}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var a={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=jn({values:r.columns,breakpoints:n.breakpoints.values}),u="object"===typeof o?o[i]:o;if(void 0===u||null===u)return e;var s="".concat(Math.round(t/u*1e8)/1e6,"%"),c={};if(r.container&&r.item&&0!==r.columnSpacing){var l=n.spacing(r.columnSpacing);if("0px"!==l){var f="calc(".concat(s," + ").concat(ba(l),")");c={flexBasis:f,maxWidth:f}}}a=Ge({flexBasis:s,flexGrow:0,maxWidth:s},c)}return 0===n.breakpoints.values[i]?Object.assign(e,a):e[n.breakpoints.up(i)]=a,e}),{})}));var xa=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.spacing,o=e.wrap,u=e.zeroMinWidth,s=e.breakpoints,c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var r=e[t];if(Number(r)>0){var i="spacing-".concat(t,"-").concat(String(r));n.push(i)}})),n}(a,s));var l=[];return s.forEach((function(t){var n=e[t];n&&l.push("grid-".concat(t,"-").concat(String(n)))})),$e({root:["root",n&&"container",i&&"item",u&&"zeroMinWidth"].concat(h(c),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==o&&"wrap-xs-".concat(String(o))],l)},pa,t)},Sa=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiGrid"}),r=da().breakpoints,a=fa(n),o=a.className,u=a.columns,s=a.columnSpacing,c=a.component,l=void 0===c?"div":c,f=a.container,d=void 0!==f&&f,h=a.direction,p=void 0===h?"row":h,v=a.item,m=void 0!==v&&v,y=a.rowSpacing,g=a.spacing,b=void 0===g?0:g,k=a.wrap,w=void 0===k?"wrap":k,x=a.zeroMinWidth,S=void 0!==x&&x,_=Ke(a,ga),I=y||b,E=s||b,T=i.useContext(ha),C=d?u||12:T,A={},R=Ge({},_);r.keys.forEach((function(e){null!=_[e]&&(A[e]=_[e],delete R[e])}));var N=Ge({},a,{columns:C,container:d,direction:p,item:m,rowSpacing:I,columnSpacing:E,wrap:w,zeroMinWidth:S,spacing:b},A,{breakpoints:r.keys}),P=xa(N);return(0,Hi.jsx)(ha.Provider,{value:C,children:(0,Hi.jsx)(wa,Ge({ownerState:N,className:Qe(P.root,o),as:l,ref:t},R))})})),_a=Sa;function Ia(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Ea(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){Ia(t,e)}))}}),t)}var Ta=Ea,Ca="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;var Aa,Ra=function(e){var t=i.useRef(e);return Ca((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},Na=Ra,Pa=!0,Oa=!1,Da={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function La(e){e.metaKey||e.altKey||e.ctrlKey||(Pa=!0)}function Ma(){Pa=!1}function Fa(){"hidden"===this.visibilityState&&Oa&&(Pa=!0)}function Ua(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Pa||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Da[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var za=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",La,!0),t.addEventListener("mousedown",Ma,!0),t.addEventListener("pointerdown",Ma,!0),t.addEventListener("touchstart",Ma,!0),t.addEventListener("visibilitychange",Fa,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Ua(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Oa=!0,window.clearTimeout(Aa),Aa=window.setTimeout((function(){Oa=!1}),100),t.current=!1,!0)},ref:e}};function ja(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Va(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}var Ba=i.createContext(null);function qa(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function Wa(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Ka(e,t,n){var r=qa(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,r);return Object.keys(a).forEach((function(o){var u=a[o];if((0,i.isValidElement)(u)){var s=o in t,c=o in r,l=t[o],f=(0,i.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,i.isValidElement)(l)&&(a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:l.props.in,exit:Wa(u,"exit",e),enter:Wa(u,"enter",e)})):a[o]=(0,i.cloneElement)(u,{in:!1}):a[o]=(0,i.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:Wa(u,"exit",e),enter:Wa(u,"enter",e)})}})),a}var Ga=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Ha=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(S(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Va(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,qa(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Wa(e,"appear",n),enter:Wa(e,"enter",n),exit:Wa(e,"exit",n)})}))):Ka(e,a,o),firstRender:!1}},n.handleExited=function(e,t){var n=qa(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Ge({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Ke(e,["component","childFactory"]),a=this.state.contextValue,o=Ga(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Ba.Provider,{value:a},o):i.createElement(Ba.Provider,{value:a},i.createElement(t,r,o))},t}(i.Component);Ha.propTypes={},Ha.defaultProps={component:"div",childFactory:function(e){return e}};var Qa=Ha,$a=(n(110),yn((function(e,t){var n=e.styles,r=dn([n],void 0,i.useContext(gn)),a=i.useRef();return vn((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,i],function(){n.flush()}}),[t]),vn((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&kn(t,r.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null})));function Ya(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dn(t)}var Xa=function(){var e=Ya.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ja=function(e){var t=e.className,n=e.classes,r=e.pulsate,a=void 0!==r&&r,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,d=e.timeout,h=f(i.useState(!1),2),p=h[0],v=h[1],m=Qe(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=Qe(n.child,p&&n.childLeaving,a&&n.childPulsate);return c||p||v(!0),i.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,d);return function(){clearTimeout(e)}}}),[l,c,d]),(0,Hi.jsx)("span",{className:m,style:y,children:(0,Hi.jsx)("span",{className:g})})};var Za,eo,to,no,ro,io,ao,oo,uo=Ki("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),so=["center","classes","className"],co=Xa(ro||(ro=Za||(Za=ja(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),lo=Xa(io||(io=eo||(eo=ja(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),fo=Xa(ao||(ao=to||(to=ja(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),ho=Pi("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),po=Pi(Ja,{name:"MuiTouchRipple",slot:"Ripple"})(oo||(oo=no||(no=ja(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),uo.rippleVisible,co,550,(function(e){return e.theme.transitions.easing.easeInOut}),uo.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),uo.child,uo.childLeaving,lo,550,(function(e){return e.theme.transitions.easing.easeInOut}),uo.childPulsate,fo,(function(e){return e.theme.transitions.easing.easeInOut})),vo=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiTouchRipple"}),r=n.center,a=void 0!==r&&r,o=n.classes,u=void 0===o?{}:o,s=n.className,c=Ke(n,so),l=f(i.useState([]),2),d=l[0],p=l[1],v=i.useRef(0),m=i.useRef(null);i.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var y=i.useRef(!1),g=i.useRef(0),b=i.useRef(null),k=i.useRef(null);i.useEffect((function(){return function(){g.current&&clearTimeout(g.current)}}),[]);var w=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat(h(e),[(0,Hi.jsx)(po,{classes:{ripple:Qe(u.ripple,uo.ripple),rippleVisible:Qe(u.rippleVisible,uo.rippleVisible),ripplePulsate:Qe(u.ripplePulsate,uo.ripplePulsate),child:Qe(u.child,uo.child),childLeaving:Qe(u.childLeaving,uo.childLeaving),childPulsate:Qe(u.childPulsate,uo.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},v.current)])})),v.current+=1,m.current=a}),[u]),x=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var l,f,d,h=c?null:k.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,x=v.clientY;l=Math.round(m-p.left),f=Math.round(x-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var S=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(S,2)+Math.pow(_,2))}null!=e&&e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},g.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,w]),S=i.useCallback((function(){x({},{pulsate:!0})}),[x]),_=i.useCallback((function(e,t){if(clearTimeout(g.current),"touchend"===(null==e?void 0:e.type)&&b.current)return b.current(),b.current=null,void(g.current=setTimeout((function(){_(e,t)})));b.current=null,p((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:S,start:x,stop:_}}),[S,x,_]),(0,Hi.jsx)(ho,Ge({className:Qe(uo.root,u.root,s),ref:k},c,{children:(0,Hi.jsx)(Qa,{component:null,exit:!0,children:d})}))})),mo=vo;function yo(e){return Wi("MuiButtonBase",e)}var go,bo=Ki("MuiButtonBase",["root","disabled","focusVisible"]),ko=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],wo=Pi("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Nn(go={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(bo.disabled),{pointerEvents:"none",cursor:"default"}),Nn(go,"@media print",{colorAdjust:"exact"}),go)),xo=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiButtonBase"}),r=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,c=n.component,l=void 0===c?"button":c,d=n.disabled,h=void 0!==d&&d,p=n.disableRipple,v=void 0!==p&&p,m=n.disableTouchRipple,y=void 0!==m&&m,g=n.focusRipple,b=void 0!==g&&g,k=n.LinkComponent,w=void 0===k?"a":k,x=n.onBlur,S=n.onClick,_=n.onContextMenu,I=n.onDragLeave,E=n.onFocus,T=n.onFocusVisible,C=n.onKeyDown,A=n.onKeyUp,R=n.onMouseDown,N=n.onMouseLeave,P=n.onMouseUp,O=n.onTouchEnd,D=n.onTouchMove,L=n.onTouchStart,M=n.tabIndex,F=void 0===M?0:M,U=n.TouchRippleProps,z=n.touchRippleRef,j=n.type,V=Ke(n,ko),B=i.useRef(null),q=i.useRef(null),W=Ta(q,z),K=za(),G=K.isFocusVisibleRef,H=K.onFocus,Q=K.onBlur,$=K.ref,Y=f(i.useState(!1),2),X=Y[0],J=Y[1];h&&X&&J(!1),i.useImperativeHandle(r,(function(){return{focusVisible:function(){J(!0),B.current.focus()}}}),[]);var Z=f(i.useState(!1),2),ee=Z[0],te=Z[1];i.useEffect((function(){te(!0)}),[]);var ne=ee&&!v&&!h;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return Na((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}i.useEffect((function(){X&&b&&!v&&ee&&q.current.pulsate()}),[v,b,X,ee]);var ie=re("start",R),ae=re("stop",_),oe=re("stop",I),ue=re("stop",P),se=re("stop",(function(e){X&&e.preventDefault(),N&&N(e)})),ce=re("start",L),le=re("stop",O),fe=re("stop",D),de=re("stop",(function(e){Q(e),!1===G.current&&J(!1),x&&x(e)}),!1),he=Na((function(e){B.current||(B.current=e.currentTarget),H(e),!0===G.current&&(J(!0),T&&T(e)),E&&E(e)})),pe=function(){var e=B.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ve=i.useRef(!1),me=Na((function(e){b&&!ve.current&&X&&q.current&&" "===e.key&&(ve.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&pe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&pe()&&"Enter"===e.key&&!h&&(e.preventDefault(),S&&S(e))})),ye=Na((function(e){b&&" "===e.key&&q.current&&X&&!e.defaultPrevented&&(ve.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),A&&A(e),S&&e.target===e.currentTarget&&pe()&&" "===e.key&&!e.defaultPrevented&&S(e)})),ge=l;"button"===ge&&(V.href||V.to)&&(ge=w);var be={};"button"===ge?(be.type=void 0===j?"button":j,be.disabled=h):(V.href||V.to||(be.role="button"),h&&(be["aria-disabled"]=h));var ke=Ta(t,$,B);var we=Ge({},n,{centerRipple:o,component:l,disabled:h,disableRipple:v,disableTouchRipple:y,focusRipple:b,tabIndex:F,focusVisible:X}),xe=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=$e({root:["root",t&&"disabled",n&&"focusVisible"]},yo,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(we);return(0,Hi.jsxs)(wo,Ge({as:ge,className:Qe(xe.root,s),ownerState:we,onBlur:de,onClick:S,onContextMenu:ae,onFocus:he,onKeyDown:me,onKeyUp:ye,onMouseDown:ie,onMouseLeave:se,onMouseUp:ue,onDragLeave:oe,onTouchEnd:le,onTouchMove:fe,onTouchStart:ce,ref:ke,tabIndex:h?-1:F,type:j},be,V,{children:[u,ne?(0,Hi.jsx)(mo,Ge({ref:W,center:o},U)):null]}))})),So=xo;function _o(e){return Wi("MuiButton",e)}var Io=Ki("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Eo=i.createContext({});var To=i.createContext(void 0),Co=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ao=function(e){return Ge({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Ro=Pi(So,{shouldForwardProp:function(e){return Ri(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(zi(n.color))],t["size".concat(zi(n.size))],t["".concat(n.variant,"Size").concat(zi(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode?i.palette.grey[300]:i.palette.grey[800],u="light"===i.palette.mode?i.palette.grey.A100:i.palette.grey[700];return Ge({},i.typography.button,(Nn(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":Ge({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Yr(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Yr(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Yr(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:i.vars?i.vars.palette.Button.inheritContainedHoverBg:u,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":Ge({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Io.focusVisible),Ge({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Nn(t,"&.".concat(Io.disabled),Ge({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(Yr(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:i.vars?i.vars.palette.Button.inheritContainedBg:o,boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Nn(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Io.focusVisible),{boxShadow:"none"}),Nn(t,"&:active",{boxShadow:"none"}),Nn(t,"&.".concat(Io.disabled),{boxShadow:"none"}),t)})),No=Pi("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(zi(n.size))]]}})((function(e){var t=e.ownerState;return Ge({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Ao(t))})),Po=Pi("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(zi(n.size))]]}})((function(e){var t=e.ownerState;return Ge({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Ao(t))})),Oo=i.forwardRef((function(e,t){var n=i.useContext(Eo),r=i.useContext(To),a=Ui({props:Oi(n,e),name:"MuiButton"}),o=a.children,u=a.color,s=void 0===u?"primary":u,c=a.component,l=void 0===c?"button":c,f=a.className,d=a.disabled,h=void 0!==d&&d,p=a.disableElevation,v=void 0!==p&&p,m=a.disableFocusRipple,y=void 0!==m&&m,g=a.endIcon,b=a.focusVisibleClassName,k=a.fullWidth,w=void 0!==k&&k,x=a.size,S=void 0===x?"medium":x,_=a.startIcon,I=a.type,E=a.variant,T=void 0===E?"text":E,C=Ke(a,Co),A=Ge({},a,{color:s,component:l,disabled:h,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:S,type:I,variant:T}),R=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return Ge({},o,$e({root:["root",a,"".concat(a).concat(zi(t)),"size".concat(zi(i)),"".concat(a,"Size").concat(zi(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(zi(i))],endIcon:["endIcon","iconSize".concat(zi(i))]},_o,o))}(A),N=_&&(0,Hi.jsx)(No,{className:R.startIcon,ownerState:A,children:_}),P=g&&(0,Hi.jsx)(Po,{className:R.endIcon,ownerState:A,children:g}),O=r||"";return(0,Hi.jsxs)(Ro,Ge({ownerState:A,className:Qe(n.className,R.root,f,O),component:l,disabled:h,focusRipple:!y,focusVisibleClassName:Qe(R.focusVisible,b),ref:t,type:I},C,{classes:R,children:[N,o,P]}))})),Do=Oo;function Lo(){return Lo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Lo.apply(this,arguments)}function Mo(){Mo=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof g?t:g,o=Object.create(a.prototype),u=new N(r||[]);return i(o,"_invoke",{value:T(e,n,u)}),o}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",y={};function g(){}function b(){}function k(){}var w={};c(w,o,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==n&&r.call(S,o)&&(w=S);var _=k.prototype=g.prototype=Object.create(w);function I(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=f(e[i],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==v(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,n,r){var i=d;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var u=r.delegate;if(u){var s=C(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=f(t,n,r);if("normal"===c.type){if(i=r.done?m:h,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=m,r.method="throw",r.arg=c.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=f(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=k,i(_,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:b,configurable:!0}),b.displayName=c(k,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},I(E.prototype),c(E.prototype,u,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new E(l(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function Fo(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Uo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Fo(a,r,i,o,u,"next",e)}function u(e){Fo(a,r,i,o,u,"throw",e)}o(void 0)}))}}var zo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},jo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Vo;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Vo=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return g(n)}(E(Error)),Bo=function(e){return function(e){var t=zo(e);return jo.encodeByteArray(t,!0)}(e).replace(/\./g,"")},qo=function(e){try{return jo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Wo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Wo(e[n],t[n]));return e}var Ko=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Go=function(){try{return Ko()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&qo(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ho=function(){var e;return null===(e=Go())||void 0===e?void 0:e.config},Qo=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return g(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function $o(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yo(){var e,t=null===(e=Go())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Xo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Jo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Zo(){var e=$o();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function eu(){try{return"object"===typeof indexedDB}catch(e){return!1}}var tu=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(S(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(S(a),nu.prototype.create),a}return g(n)}(E(Error)),nu=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return g(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ru,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new tu(n,a,t)}}]),e}();var ru=/\{\$([^}]+)}/g;function iu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function au(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ou(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(uu(u)&&uu(s)){if(!ou(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function uu(e){return null!==e&&"object"===typeof e}function su(e){for(var t=[],n=function(){var e=f(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function cu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=f(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function lu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function fu(e,t){var n=new du(e,t);return n.subscribe.bind(n)}var du=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return g(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=hu),void 0===r.error&&(r.error=hu),void 0===r.complete&&(r.complete=hu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function hu(){}function pu(e){return e&&e._delegate?e._delegate:e}var vu=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return g(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mu="[DEFAULT]",yu=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return g(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qo;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mu})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=f(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(h(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),h(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=f(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gu(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;return this.component?this.component.multipleInstances?e:mu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function gu(e){return e===mu?void 0:e}var bu,ku,wu=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return g(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ku||(ku={}));var Su={debug:ku.DEBUG,verbose:ku.VERBOSE,info:ku.INFO,warn:ku.WARN,error:ku.ERROR,silent:ku.SILENT},_u=ku.INFO,Iu=(Nn(bu={},ku.DEBUG,"log"),Nn(bu,ku.VERBOSE,"log"),Nn(bu,ku.INFO,"info"),Nn(bu,ku.WARN,"warn"),Nn(bu,ku.ERROR,"error"),bu),Eu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Iu[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tu=function(){function e(t){p(this,e),this.name=t,this._logLevel=_u,this._logHandler=Eu,this._userLogHandler=null,xu.push(this)}return g(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ku))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Su[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ku.DEBUG].concat(t)),this._logHandler.apply(this,[this,ku.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ku.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ku.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ku.INFO].concat(t)),this._logHandler.apply(this,[this,ku.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ku.WARN].concat(t)),this._logHandler.apply(this,[this,ku.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ku.ERROR].concat(t)),this._logHandler.apply(this,[this,ku.ERROR].concat(t))}}]),e}();function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ru,Nu,Pu=function(e,t){return t.some((function(t){return e instanceof t}))};var Ou=new WeakMap,Du=new WeakMap,Lu=new WeakMap,Mu=new WeakMap,Fu=new WeakMap;var Uu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Du.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Lu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function zu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nu||(Nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bu(this),n),Vu(Ou.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vu(e.apply(Bu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Bu(this),t].concat(r));return Lu.set(a,t.sort?t.sort():[t]),Vu(a)}}function ju(e){return"function"===typeof e?zu(e):(e instanceof IDBTransaction&&function(e){if(!Du.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Du.set(e,t)}}(e),Pu(e,Ru||(Ru=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Uu):e)}function Vu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Vu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ou.set(t,e)})).catch((function(){})),Fu.set(t,e),t}(e);if(Mu.has(e))return Mu.get(e);var t=ju(e);return t!==e&&(Mu.set(e,t),Fu.set(t,e)),t}var Bu=function(e){return Fu.get(e)};var qu,Wu,Ku=["get","getKey","getAll","getAllKeys","count"],Gu=["put","add","delete","clear"],Hu=new Map;function Qu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Hu.get(t))return Hu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ku.includes(n))){var a=function(){var e=Uo(Mo().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Hu.set(t,a),a}}}Uu=function(e){return Au(Au({},e),{},{get:function(t,n,r){return Qu(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qu(t,n)||e.has(t,n)}})}(Uu);var $u=function(){function e(t){p(this,e),this.container=t}return g(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Yu="@firebase/app",Xu="0.9.19",Ju=new Tu("@firebase/app"),Zu="[DEFAULT]",es=(Nn(qu={},Yu,"fire-core"),Nn(qu,"@firebase/app-compat","fire-core-compat"),Nn(qu,"@firebase/analytics","fire-analytics"),Nn(qu,"@firebase/analytics-compat","fire-analytics-compat"),Nn(qu,"@firebase/app-check","fire-app-check"),Nn(qu,"@firebase/app-check-compat","fire-app-check-compat"),Nn(qu,"@firebase/auth","fire-auth"),Nn(qu,"@firebase/auth-compat","fire-auth-compat"),Nn(qu,"@firebase/database","fire-rtdb"),Nn(qu,"@firebase/database-compat","fire-rtdb-compat"),Nn(qu,"@firebase/functions","fire-fn"),Nn(qu,"@firebase/functions-compat","fire-fn-compat"),Nn(qu,"@firebase/installations","fire-iid"),Nn(qu,"@firebase/installations-compat","fire-iid-compat"),Nn(qu,"@firebase/messaging","fire-fcm"),Nn(qu,"@firebase/messaging-compat","fire-fcm-compat"),Nn(qu,"@firebase/performance","fire-perf"),Nn(qu,"@firebase/performance-compat","fire-perf-compat"),Nn(qu,"@firebase/remote-config","fire-rc"),Nn(qu,"@firebase/remote-config-compat","fire-rc-compat"),Nn(qu,"@firebase/storage","fire-gcs"),Nn(qu,"@firebase/storage-compat","fire-gcs-compat"),Nn(qu,"@firebase/firestore","fire-fst"),Nn(qu,"@firebase/firestore-compat","fire-fst-compat"),Nn(qu,"fire-js","fire-js"),Nn(qu,"firebase","fire-js-all"),qu),ts=new Map,ns=new Map;function rs(e,t){try{e.container.addComponent(t)}catch(n){Ju.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function is(e,t){e.container.addOrOverwriteComponent(t)}function as(e){var t=e.name;if(ns.has(t))return Ju.debug("There were multiple attempts to register component ".concat(t,".")),!1;ns.set(t,e);var n,r=C(ts.values());try{for(r.s();!(n=r.n()).done;){rs(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function os(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function us(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zu;os(e,t).clearInstance(n)}function ss(){ns.clear()}var cs=(Nn(Wu={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),Nn(Wu,"bad-app-name","Illegal App name: '{$appName}"),Nn(Wu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Nn(Wu,"app-deleted","Firebase App named '{$appName}' already deleted"),Nn(Wu,"no-options","Need to provide options, when not being deployed to hosting via source."),Nn(Wu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Nn(Wu,"invalid-log-argument","First argument to `onLog` must be null or a function."),Nn(Wu,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Nn(Wu,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Nn(Wu,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Nn(Wu,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wu),ls=new nu("app","Firebase",cs),fs=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vu("app",(function(){return i}),"PUBLIC"))}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}]),e}(),ds="10.4.0";function hs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Zu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ls.create("bad-app-name",{appName:String(i)});if(n||(n=Ho()),!n)throw ls.create("no-options");var a=ts.get(i);if(a){if(ou(n,a.options)&&ou(r,a.config))return a;throw ls.create("duplicate-app",{appName:i})}var o,u=new wu(i),s=C(ns.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new fs(n,r,u);return ts.set(i,l),l}function ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zu,t=ts.get(e);if(!t&&e===Zu&&Ho())return hs();if(!t)throw ls.create("no-app",{appName:e});return t}function vs(){return Array.from(ts.values())}function ms(e){return ys.apply(this,arguments)}function ys(){return(ys=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ts.has(n)){e.next=6;break}return ts.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t,n){var r,i=null!==(r=es[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ju.warn(u.join(" "))}as(new vu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function bs(e,t){if(null!==e&&"function"!==typeof e)throw ls.create("invalid-log-argument");!function(e,t){var n,r=C(xu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Su[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ku[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ks(e){var t;t=e,xu.forEach((function(e){e.setLogLevel(t)}))}var ws="firebase-heartbeat-database",xs=1,Ss="firebase-heartbeat-store",_s=null;function Is(){return _s||(_s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Vu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Vu(u.result),e.oldVersion,e.newVersion,Vu(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(ws,xs,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ss)}}).catch((function(e){throw ls.create("idb-open",{originalErrorMessage:e.message})}))),_s}function Es(e){return Ts.apply(this,arguments)}function Ts(){return Ts=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return n=e.sent,e.next=6,n.transaction(Ss).objectStore(Ss).get(Rs(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof tu?Ju.warn(e.t0.message):(i=ls.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ju.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Ts.apply(this,arguments)}function Cs(e,t){return As.apply(this,arguments)}function As(){return As=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Is();case 3:return r=e.sent,i=r.transaction(Ss,"readwrite"),a=i.objectStore(Ss),e.next=8,a.put(n,Rs(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof tu?Ju.warn(e.t0.message):(o=ls.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ju.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),As.apply(this,arguments)}function Rs(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ns=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ls(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return g(e,[{key:"triggerHeartbeat",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ps(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ps(),n=Os(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Bo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ps(){return(new Date).toISOString().substring(0,10)}function Os(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ms(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),Ms(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ds,Ls=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return g(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eu()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Es(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Cs(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Cs(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(h(r.heartbeats),h(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ms(e){return Bo(JSON.stringify({version:2,heartbeats:e})).length}Ds="",as(new vu("platform-logger",(function(e){return new $u(e)}),"PRIVATE")),as(new vu("heartbeat",(function(e){return new Ns(e)}),"PRIVATE")),gs(Yu,Xu,Ds),gs(Yu,Xu,"esm2017"),gs("fire-js","");function Fs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Us,zs={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},js="EMAIL_SIGNIN",Vs="PASSWORD_RESET",Bs="RECOVER_EMAIL",qs="REVERT_SECOND_FACTOR_ADDITION",Ws="VERIFY_AND_CHANGE_EMAIL",Ks="VERIFY_EMAIL";function Gs(e){return void 0!==e&&void 0!==e.getResponse}function Hs(e){return void 0!==e&&void 0!==e.enterprise}var Qs=g((function e(t){if(p(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function $s(){return Nn({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ys=function(){var e;return Nn(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Nn(e,"argument-error",""),Nn(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Nn(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Nn(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Nn(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Nn(e,"cordova-not-ready","Cordova framework is not ready."),Nn(e,"cors-unsupported","This browser is not supported."),Nn(e,"credential-already-in-use","This credential is already associated with a different user account."),Nn(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Nn(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Nn(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Nn(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Nn(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Nn(e,"email-already-in-use","The email address is already in use by another account."),Nn(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Nn(e,"expired-action-code","The action code has expired."),Nn(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Nn(e,"internal-error","An internal AuthError has occurred."),Nn(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Nn(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Nn(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Nn(e,"invalid-auth-event","An internal AuthError has occurred."),Nn(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Nn(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Nn(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Nn(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Nn(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Nn(e,"invalid-email","The email address is badly formatted."),Nn(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Nn(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Nn(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Nn(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Nn(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Nn(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Nn(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Nn(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Nn(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Nn(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Nn(e,"wrong-password","The password is invalid or the user does not have a password."),Nn(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Nn(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Nn(e,"invalid-provider-id","The specified provider ID is invalid."),Nn(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Nn(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Nn(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Nn(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Nn(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Nn(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Nn(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Nn(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Nn(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Nn(e,"missing-continue-uri","A continue URL must be provided in the request."),Nn(e,"missing-iframe-start","An internal AuthError has occurred."),Nn(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Nn(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Nn(e,"missing-password","A non-empty password must be provided"),Nn(e,"missing-multi-factor-info","No second factor identifier is provided."),Nn(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Nn(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Nn(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Nn(e,"app-deleted","This instance of FirebaseApp has been deleted."),Nn(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Nn(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Nn(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Nn(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Nn(e,"no-auth-event","An internal AuthError has occurred."),Nn(e,"no-such-provider","User was not linked to an account with the given provider."),Nn(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Nn(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Nn(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Nn(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Nn(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Nn(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Nn(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Nn(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Nn(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Nn(e,"rejected-credential","The request contains malformed or mismatching credentials."),Nn(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Nn(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Nn(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Nn(e,"timeout","The operation has timed out."),Nn(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Nn(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Nn(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Nn(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Nn(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Nn(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Nn(e,"unverified-email","The operation requires a verified email."),Nn(e,"user-cancelled","The user did not grant your application the permissions it requested."),Nn(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Nn(e,"user-disabled","The user account has been disabled by an administrator."),Nn(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Nn(e,"user-signed-out",""),Nn(e,"weak-password","The password must be 6 characters long or more."),Nn(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Nn(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Nn(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Nn(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Nn(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Nn(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Nn(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Nn(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Nn(e,"invalid-req-type","Invalid request parameters."),Nn(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),Nn(e,"unsupported-password-policy-schema-version","The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK."),Nn(e,"password-does-not-meet-requirements","The password does not meet the requirements."),e},Xs=$s,Js=new nu("auth","Firebase",$s()),Zs=new Tu("@firebase/auth");function ec(e){if(Zs.logLevel<=ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zs.warn.apply(Zs,["Auth (".concat(ds,"): ").concat(e)].concat(n))}}function tc(e){if(Zs.logLevel<=ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Zs.error.apply(Zs,["Auth (".concat(ds,"): ").concat(e)].concat(n))}}function nc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw oc.apply(void 0,[e].concat(n))}function rc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return oc.apply(void 0,[e].concat(n))}function ic(e,t,n){var r=Object.assign(Object.assign({},Xs()),Nn({},t,n));return new nu("auth","Firebase",r).create(t,{appName:e.name})}function ac(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&nc(e,"argument-error"),ic(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function oc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=h(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(h(o)))}return Js.create.apply(Js,[e].concat(n))}function uc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw oc.apply(void 0,[t].concat(r))}}function sc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw tc(t),new Error(t)}function cc(e,t){e||sc(t)}function lc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fc(){return"http:"===dc()||"https:"===dc()}function dc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var hc=function(){function e(t,n){p(this,e),this.shortDelay=t,this.longDelay=n,cc(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($o())||Jo()}return g(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fc()||Xo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function pc(e,t){cc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var vc=function(){function e(){p(this,e)}return g(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void sc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void sc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void sc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),mc=(Nn(Us={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Nn(Us,"MISSING_CUSTOM_TOKEN","internal-error"),Nn(Us,"INVALID_IDENTIFIER","invalid-email"),Nn(Us,"MISSING_CONTINUE_URI","internal-error"),Nn(Us,"INVALID_PASSWORD","wrong-password"),Nn(Us,"MISSING_PASSWORD","missing-password"),Nn(Us,"EMAIL_EXISTS","email-already-in-use"),Nn(Us,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Nn(Us,"INVALID_IDP_RESPONSE","invalid-credential"),Nn(Us,"INVALID_PENDING_TOKEN","invalid-credential"),Nn(Us,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Nn(Us,"MISSING_REQ_TYPE","internal-error"),Nn(Us,"EMAIL_NOT_FOUND","user-not-found"),Nn(Us,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Nn(Us,"EXPIRED_OOB_CODE","expired-action-code"),Nn(Us,"INVALID_OOB_CODE","invalid-action-code"),Nn(Us,"MISSING_OOB_CODE","internal-error"),Nn(Us,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Nn(Us,"INVALID_ID_TOKEN","invalid-user-token"),Nn(Us,"TOKEN_EXPIRED","user-token-expired"),Nn(Us,"USER_NOT_FOUND","user-token-expired"),Nn(Us,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Nn(Us,"PASSWORD_DOES_NOT_MEET_REQUIREMENTS","password-does-not-meet-requirements"),Nn(Us,"INVALID_CODE","invalid-verification-code"),Nn(Us,"INVALID_SESSION_INFO","invalid-verification-id"),Nn(Us,"INVALID_TEMPORARY_PROOF","invalid-credential"),Nn(Us,"MISSING_SESSION_INFO","missing-verification-id"),Nn(Us,"SESSION_EXPIRED","code-expired"),Nn(Us,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Nn(Us,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Nn(Us,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Nn(Us,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Nn(Us,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Nn(Us,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Nn(Us,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Nn(Us,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Nn(Us,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Nn(Us,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Nn(Us,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Nn(Us,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Nn(Us,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Nn(Us,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Nn(Us,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Nn(Us,"MISSING_CLIENT_TYPE","missing-client-type"),Nn(Us,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Nn(Us,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Nn(Us,"INVALID_REQ_TYPE","invalid-req-type"),Us),yc=new hc(3e4,6e4);function gc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function bc(e,t,n,r){return kc.apply(this,arguments)}function kc(){return kc=Uo(Mo().mark((function e(t,n,r,i){var a,o=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",wc(t,a,Uo(Mo().mark((function e(){var a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=su(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",vc.fetch()(Ic(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function wc(e,t,n){return xc.apply(this,arguments)}function xc(){return xc=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s,c,l,d,h,p;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},mc),n),e.prev=2,a=new Ec(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Tc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=f(c,2),d=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Tc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Tc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Tc(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw ic(t,p,h);case 34:nc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof tu)){e.next=41;break}throw e.t0;case 41:nc(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),xc.apply(this,arguments)}function Sc(e,t,n,r){return _c.apply(this,arguments)}function _c(){return _c=Uo(Mo().mark((function e(t,n,r,i){var a,o,u=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,bc(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&nc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Ic(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?pc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ec=function(){function e(t){var n=this;p(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(rc(n.auth,"network-request-failed"))}),yc.get())}))}return g(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Tc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=rc(e,t,r);return i.customData._tokenResponse=n,i}function Cc(e){return Ac.apply(this,arguments)}function Ac(){return Ac=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Rc(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"GET","/v2/recaptchaConfig",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Pc(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t){return Fc.apply(this,arguments)}function Fc(){return Fc=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Uc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function zc(){return zc=Uo(Mo().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=pu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,uc((a=Vc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Uc(jc(a.auth_time)),issuedAtTime:Uc(jc(a.iat)),expirationTime:Uc(jc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function jc(e){return 1e3*Number(e)}function Vc(e){var t=f(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return tc("JWT malformed, contained fewer than 3 sections"),null;try{var a=qo(r);return a?JSON.parse(a):(tc("Failed to decode base64 JWT payload"),null)}catch(o){return tc("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Bc(e,t){return qc.apply(this,arguments)}function qc(){return qc=Uo(Mo().mark((function e(t,n){var r=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof tu&&Wc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),qc.apply(this,arguments)}function Wc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Kc=function(){function e(t){p(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return g(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gc=function(){function e(t,n){p(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return g(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Hc(e){return Qc.apply(this,arguments)}function Qc(){return Qc=Uo(Mo().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Bc(t,Mc(r,{idToken:i}));case 6:uc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Fs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=Yc(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Gc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(){return($c=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pu(t),e.next=3,Hc(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(h(n),h(t))}function Xc(e,t){return Jc.apply(this,arguments)}function Jc(){return Jc=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(t,{},Uo(Mo().mark((function e(){var r,i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=su({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ic(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",vc.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}var Zc=function(){function e(){p(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return g(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){uc(e.idToken,"internal-error"),uc("undefined"!==typeof e.idToken,"internal-error"),uc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Vc(e);return uc(t,"internal-error"),uc("undefined"!==typeof t.exp,"internal-error"),uc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Uo(Mo().mark((function e(t){var n,r=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],uc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return sc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(uc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(uc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(uc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function el(e,t){uc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var tl=function(){function e(t){p(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Fs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?h(a.providerData):[],this.metadata=new Gc(a.createdAt||void 0,a.lastLoginAt||void 0)}return g(e,[{key:"getIdToken",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(uc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return zc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return $c.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(uc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){uc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Hc(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Bc(this,Pc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;uc(b&&S,t,"internal-error");var _=Zc.fromJSON(this.name,S);uc("string"===typeof b,t,"internal-error"),el(f,t.name),el(d,t.name),uc("boolean"===typeof k,t,"internal-error"),uc("boolean"===typeof w,t,"internal-error"),el(h,t.name),el(p,t.name),el(v,t.name),el(m,t.name),el(y,t.name),el(g,t.name);var I=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Uo(Mo().mark((function t(n,r){var i,a,o,u=arguments;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Zc).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Hc(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),nl=new Map;function rl(e){cc(e instanceof Function,"Expected a class definition");var t=nl.get(e);return t?(cc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nl.set(e,t),t)}var il=function(){function e(){p(this,e),this.type="NONE",this.storage={}}return g(e,[{key:"_isAvailable",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();il.type="NONE";var al=il;function ol(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ul=function(){function e(t,n,r){p(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ol(this.userKey,a.apiKey,o),this.fullPersistenceKey=ol("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return g(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?tl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Uo(Mo().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(rl(al),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||rl(al),u=ol(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=tl._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function sl(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pl(t))return"Blackberry";if(vl(t))return"Webos";if(ll(t))return"Safari";if((t.includes("chrome/")||fl(t))&&!t.includes("edge/"))return"Chrome";if(hl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/firefox\//i.test(e)}function ll(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/crios\//i.test(e)}function dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/iemobile/i.test(e)}function hl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/android/i.test(e)}function pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/blackberry/i.test(e)}function vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/webos/i.test(e)}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return ml(e)||hl(e)||vl(e)||pl(e)||/windows phone/i.test(e)||dl(e)}function gl(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=sl($o());break;case"Worker":t="".concat(sl($o()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ds,"/").concat(r)}var bl=function(){function e(t){p(this,e),this.auth=t,this.queue=[]}return g(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function kl(e){return wl.apply(this,arguments)}function wl(){return wl=Uo(Mo().mark((function e(t){var n,r=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bc(t,"GET","/v2/passwordPolicy",gc(t,n)));case 2:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}var xl=function(){function e(t){var n,r,i,a;p(this,e);var o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(a=t.forceUpgradeOnSignin)&&void 0!==a&&a,this.schemaVersion=t.schemaVersion}return g(e,[{key:"validatePassword",value:function(e){var t,n,r,i,a,o,u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(n=u.meetsMaxPasswordLength)||void 0===n||n),u.isValid&&(u.isValid=null===(r=u.containsLowercaseLetter)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsUppercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(o=u.containsNonAlphanumericCharacter)||void 0===o||o),u}},{key:"validatePasswordLengthOptions",value:function(e,t){var n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}},{key:"validatePasswordCharacterOptions",value:function(e,t){var n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(var r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}},{key:"updatePasswordCharacterOptionsStatuses",value:function(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}]),e}(),Sl=function(){function e(t,n,r,i){p(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Il(this),this.idTokenSubscription=new Il(this),this.beforeStateQueue=new bl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Js,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return g(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=rl(t)),this._initializationPromise=this.queue(Uo(Mo().mark((function r(){var i,a;return Mo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ul.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return uc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hc(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?pu(t):null)&&uc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Uo(Mo().mark((function e(t){var n,r=this,i=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&uc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Uo(Mo().mark((function n(){return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(rl(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"validatePassword",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._getPasswordPolicyInternal()){e.next=3;break}return e.next=3,this._updatePasswordPolicy();case 3:if((n=this._getPasswordPolicyInternal()).schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION){e.next=6;break}return e.abrupt("return",Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})));case 6:return e.abrupt("return",n.validatePassword(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPasswordPolicyInternal",value:function(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}},{key:"_updatePasswordPolicy",value:function(){var e=Uo(Mo().mark((function e(){var t,n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(this);case 2:t=e.sent,n=new xl(t),null===this.tenantId?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new nu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return uc(n=t&&rl(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ul.create(this,[rl(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Uo(Mo().mark((function e(t){var n=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(uc(u,this,"internal-error"),u.then((function(){o||a(i.currentUser)})),"function"===typeof t){var s=e.addObserver(t,n,r);return function(){o=!0,s()}}var c=e.addObserver(t);return function(){o=!0,c()}}},{key:"directlySetCurrentUser",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return uc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gl(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nn({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Uo(Mo().mark((function e(){var t,n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&ec("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _l(e){return pu(e)}var Il=function(){function e(t){var n=this;p(this,e),this.auth=t,this.observer=null,this.addObserver=fu((function(e){return n.observer=e}))}return g(e,[{key:"next",get:function(){return uc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function El(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=rc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Tl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Cl=function(){function e(t){p(this,e),this.type="recaptcha-enterprise",this.auth=_l(t)}return g(e,[{key:"verify",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Hs(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Uo(Mo().mark((function e(n,r){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rc(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Qs(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Hs(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));El("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Al(e,t,n){return Rl.apply(this,arguments)}function Rl(){return Rl=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Cl(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Rl.apply(this,arguments)}function Nl(e,t,n){var r=_l(e);uc(r._canInitEmulator,r,"emulator-config-failed"),uc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Pl(t),o=function(e){var t=Pl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ol(r.substr(a.length+1))}}var o=f(r.split(":"),2);return{host:o[0],port:Ol(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ol(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dl=function(){function e(t,n){p(this,e),this.providerId=t,this.signInMethod=n}return g(e,[{key:"toJSON",value:function(){return sc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return sc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return sc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return sc("not implemented")}}]),e}();function Ll(e,t){return Ml.apply(this,arguments)}function Ml(){return Ml=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:resetPassword",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Fl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function zl(e,t){return jl.apply(this,arguments)}function jl(){return jl=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:update",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function Vl(e,t){return Bl.apply(this,arguments)}function Bl(){return Bl=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithPassword",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:sendOobCode",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Kl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Hl(e,t){return Ql.apply(this,arguments)}function Ql(){return Ql=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Xl(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ql(t,n));case 1:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return ef=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithEmailLink",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithEmailLink",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),nf.apply(this,arguments)}var rf=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return p(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return g(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Al(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Vl(t,i));case 11:return e.abrupt("return",Vl(t,r).catch(function(){var e=Uo(Mo().mark((function e(n){var i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Al(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Vl(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Zl(t,{email:this._email,oobCode:this._password}));case 13:nc(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:nc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dl);function af(e,t){return of.apply(this,arguments)}function of(){return of=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithIdp",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}var uf=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return g(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return af(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,af(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,af(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=su(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Fs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dl);function sf(e,t){return cf.apply(this,arguments)}function cf(){return cf=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:sendVerificationCode",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(){return lf=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithPhoneNumber",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(){return ff=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sc(t,"POST","/v1/accounts:signInWithPhoneNumber",gc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Tc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}var df=Nn({},"USER_NOT_FOUND","user-not-found");function hf(){return hf=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithPhoneNumber",gc(t,r),df));case 2:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}var pf=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone","phone")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return lf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ff.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dl);var vf=function(){function e(t){var n,r,i,a,o,u;p(this,e);var s=cu(lu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);uc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return g(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=cu(lu(e)).link,n=t?cu(lu(t)).deep_link_id:null,r=cu(lu(e)).deep_link_id;return(r?cu(lu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var mf=function(){function e(){p(this,e),this.providerId=e.PROVIDER_ID}return g(e,null,[{key:"credential",value:function(e,t){return rf._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=vf.parseLink(t);return uc(n,"argument-error"),rf._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();mf.PROVIDER_ID="password",mf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var yf=function(){function e(t){p(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return g(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),gf=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).scopes=[],e}return g(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return h(this.scopes)}}]),n}(yf),bf=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return uc(e.idToken||e.accessToken,"argument-error"),uf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return uc("providerId"in t&&"signInMethod"in t,"argument-error"),uf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(gf),kf=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,"facebook.com")}return g(n,null,[{key:"credential",value:function(e){return uf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(gf);kf.FACEBOOK_SIGN_IN_METHOD="facebook.com",kf.PROVIDER_ID="facebook.com";var wf=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return g(n,null,[{key:"credential",value:function(e,t){return uf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(gf);wf.GOOGLE_SIGN_IN_METHOD="google.com",wf.PROVIDER_ID="google.com";var xf=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,"github.com")}return g(n,null,[{key:"credential",value:function(e){return uf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(gf);xf.GITHUB_SIGN_IN_METHOD="github.com",xf.PROVIDER_ID="github.com";var Sf=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return g(n,[{key:"_getIdTokenResponse",value:function(e){return af(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,af(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,af(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dl),_f=function(e){k(n,e);var t=_(n);function n(e){return p(this,n),uc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return g(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Sf.fromJSON(e);return uc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Sf._create(r,n)}catch(i){return null}}}]),n}(yf),If=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,"twitter.com")}return g(n,null,[{key:"credential",value:function(e,t){return uf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(gf);function Ef(e,t){return Tf.apply(this,arguments)}function Tf(){return Tf=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signUp",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}If.TWITTER_SIGN_IN_METHOD="twitter.com",If.PROVIDER_ID="twitter.com";var Cf=function(){function e(t){p(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return g(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Uo(Mo().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,tl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Af(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Uo(Mo().mark((function t(n,r,i){var a;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Af(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Af(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Rf(){return Rf=Uo(Mo().mark((function e(t){var n,r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Cf({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ef(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Cf._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}var Nf=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,u;return p(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(S(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return g(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(tu);function Pf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Nf._fromErrorAndOperation(e,n,t,r);throw n}))}function Of(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Df(e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pu(t),e.next=3,Uf(!0,r,n);case 3:return e.t0=Dc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Of(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Mf(e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=Uo(Mo().mark((function e(t,n){var r,i,a=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Bc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Cf._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Uf(e,t,n){return zf.apply(this,arguments)}function zf(){return(zf=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc(n);case 2:i=Of(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",uc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jf(e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Bc(t,Pf(i,a,n,t),r);case 6:return uc((o=e.sent).idToken,i,"internal-error"),uc(u=Vc(o.idToken),i,"internal-error"),s=u.sub,uc(t.uid===s,i,"user-mismatch"),e.abrupt("return",Cf._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&nc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vf.apply(this,arguments)}function Bf(e,t){return qf.apply(this,arguments)}function qf(){return qf=Uo(Mo().mark((function e(t,n){var r,i,a,o,u=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Pf(t,i,n);case 4:return a=e.sent,e.next=7,Cf._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}function Wf(e,t){return Kf.apply(this,arguments)}function Kf(){return Kf=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(_l(t),n));case 1:case"end":return e.stop()}}),e)}))),Kf.apply(this,arguments)}function Gf(e,t){return Hf.apply(this,arguments)}function Hf(){return(Hf=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pu(t),e.next=3,Uf(!1,r,n.providerId);case 3:return e.abrupt("return",Mf(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qf(e,t){return $f.apply(this,arguments)}function $f(){return($f=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(pu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sc(t,"POST","/v1/accounts:signInWithCustomToken",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Jf(){return Jf=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l(t),e.next=3,Yf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Cf._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}var Zf=function(){function e(t,n){p(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return g(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ed._fromServerResponse(e,t):"totpInfo"in t?td._fromServerResponse(e,t):nc(e,"internal-error")}}]),e}(),ed=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Zf),td=function(e){k(n,e);var t=_(n);function n(e){return p(this,n),t.call(this,"totp",e)}return g(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Zf);function nd(e,t,n){var r;uc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),uc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(uc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(uc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function rd(e){return id.apply(this,arguments)}function id(){return id=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=_l(t))._getPasswordPolicyInternal()){e.next=4;break}return e.next=4,n._updatePasswordPolicy();case 4:case"end":return e.stop()}}),e)}))),id.apply(this,arguments)}function ad(){return ad=Uo(Mo().mark((function e(t,n,r){var i,a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_l(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Al(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&nd(a,u,r),e.next=9,Hl(a,u);case 9:e.next=14;break;case 11:return r&&nd(a,o,r),e.next=14,Hl(a,o).catch(function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Al(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&nd(a,n,r),e.next=8,Hl(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}function od(){return od=Uo(Mo().mark((function e(t,n,r){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ll(pu(t),{oobCode:n,newPassword:r}).catch(function(){var e=Uo(Mo().mark((function e(n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&rd(t),n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),od.apply(this,arguments)}function ud(){return ud=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zl(pu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ud.apply(this,arguments)}function sd(e,t){return cd.apply(this,arguments)}function cd(){return cd=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pu(t),e.next=3,Ll(r,{oobCode:n});case 3:i=e.sent,uc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return uc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:uc(i.mfaInfo,r,"internal-error");case 13:uc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Zf._fromServerResponse(_l(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(){return ld=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(pu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}function fd(e,t,n){return dd.apply(this,arguments)}function dd(){return dd=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_l(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Al(a,o,"signUpPassword");case 5:s=e.sent,u=Ef(a,s),e.next=10;break;case 9:u=Ef(a,o).catch(function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=6;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Al(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Ef(a,n));case 6:throw t;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){throw e.code==="auth/".concat("password-does-not-meet-requirements")&&rd(t),e}));case 12:return c=e.sent,e.next=15,Cf._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}function hd(){return hd=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){uc(t.handleCodeInApp,a,"argument-error"),t&&nd(a,e,t)},a=_l(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Al(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,$l(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,$l(a,o).catch(function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Al(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,$l(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function pd(){return pd=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),uc((a=mf.credentialWithLink(n,r||lc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Wf(i,a));case 4:case"end":return e.stop()}}),e)}))),pd.apply(this,arguments)}function vd(e,t){return md.apply(this,arguments)}function md(){return md=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:createAuthUri",gc(t,n)));case 1:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(){return yd=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fc()?lc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,vd(pu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),yd.apply(this,arguments)}function gd(){return(gd=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&nd(r.auth,a,n),e.next=8,Kl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(){return(bd=Uo(Mo().mark((function e(t,n,r){var i,a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&nd(i.auth,o,r),e.next=8,Xl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(e,t){return wd.apply(this,arguments)}function wd(){return wd=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(){return(xd=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s,c;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=pu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Bc(a,kd(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sd(e,t,n){return _d.apply(this,arguments)}function _d(){return _d=Uo(Mo().mark((function e(t,n,r){var i,a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Bc(t,Fl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}var Id=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ed=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i)).username=a,o}return g(n)}(Id),Td=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"facebook.com",r)}return g(n)}(Id),Cd=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return g(n)}(Ed),Ad=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"google.com",r)}return g(n)}(Id),Rd=function(e){k(n,e);var t=_(n);function n(e,r,i){return p(this,n),t.call(this,e,"twitter.com",r,i)}return g(n)}(Ed);function Nd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Vc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Id(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Td(a,i);case"github.com":return new Cd(a,i);case"google.com":return new Ad(a,i);case"twitter.com":return new Rd(a,i,e.screenName||null);case"custom":case"anonymous":return new Id(a,null);default:return new Id(a,r,i)}}(n)}var Pd=function(){function e(t,n,r){p(this,e),this.type=t,this.credential=n,this.user=r}return g(e,[{key:"toJSON",value:function(){return{multiFactorSession:Nn({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Od=function(){function e(t,n,r){p(this,e),this.session=t,this.hints=n,this.signInResolver=r}return g(e,[{key:"resolveSignIn",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=_l(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Zf._fromServerResponse(r,e)}));uc(i.mfaPendingCredential,r,"internal-error");var o=Pd._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Uo(Mo().mark((function e(t){var a,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Cf._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return uc(n.user,r,"internal-error"),e.abrupt("return",Cf._forOperation(n.user,n.operationType,u));case 17:nc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Dd(e,t){return bc(e,"POST","/v2/accounts/mfaEnrollment:start",gc(e,t))}function Ld(e,t){return bc(e,"POST","/v2/accounts/mfaEnrollment:start",gc(e,t))}function Md(e,t){return bc(e,"POST","/v2/accounts/mfaEnrollment:finalize",gc(e,t))}function Fd(e,t){return bc(e,"POST","/v2/accounts/mfaEnrollment:withdraw",gc(e,t))}var Ud=function(){function e(t){var n=this;p(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Zf._fromServerResponse(t.auth,e)})))}))}return g(e,[{key:"getSession",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pd,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Bc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Bc(this.user,Fd(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),zd=new WeakMap;var jd="__sak",Vd=function(){function e(t,n){p(this,e),this.storageRetriever=t,this.type=n}return g(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Bd=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$o();return ll(e)||ml(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=yl(),e._shouldAllowMigration=!0,e}return g(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Zo()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Uo(Mo().mark((function e(t,r){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(w(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Uo(Mo().mark((function e(t){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(w(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(w(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Vd);Bd.type="LOCAL";var qd=Bd,Wd=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return g(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Vd);Wd.type="SESSION";var Kd=Wd;function Gd(e){return Promise.all(e.map(function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Hd=function(){function e(t){p(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return g(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i,a,o,u,s,c;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Gd(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Qd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hd.receivers=[];var $d=function(){function e(t){p(this,e),this.target=t,this.handlers=new Set}return g(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Qd("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Yd(){return window}function Xd(e){Yd().location.href=e}function Jd(){return"undefined"!==typeof Yd().WorkerGlobalScope&&"function"===typeof Yd().importScripts}function Zd(){return eh.apply(this,arguments)}function eh(){return(eh=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function th(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var nh="firebaseLocalStorageDb",rh="firebaseLocalStorage",ih="fbase_key",ah=function(){function e(t){p(this,e),this.request=t}return g(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function oh(e,t){return e.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function uh(){var e=indexedDB.deleteDatabase(nh);return new ah(e).toPromise()}function sh(){var e=indexedDB.open(nh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(rh,{keyPath:ih})}catch(r){n(r)}})),e.addEventListener("success",Uo(Mo().mark((function n(){var r;return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(rh)){n.next=12;break}return r.close(),n.next=5,uh();case 5:return n.t0=t,n.next=8,sh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ch(e,t,n){return lh.apply(this,arguments)}function lh(){return lh=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oh(t,!0).put((Nn(i={},ih,n),Nn(i,"value",r),i)),e.abrupt("return",new ah(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t){return dh.apply(this,arguments)}function dh(){return dh=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oh(t,!1).get(n),e.next=3,new ah(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),dh.apply(this,arguments)}function hh(e,t){var n=oh(e,!0).delete(t);return new ah(n).toPromise()}var ph=function(){function e(){p(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return g(e,[{key:"_openDb",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,sh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Uo(Mo().mark((function e(){var t=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Hd._getInstance(Jd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Uo(Mo().mark((function e(n,r){var i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new $d(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&th()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,sh();case 5:return t=e.sent,e.next=8,ch(t,jd,"1");case 8:return e.next=10,hh(t,jd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Uo(Mo().mark((function e(t,n){var r=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ch(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return fh(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Uo(Mo().mark((function e(t){var n=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return hh(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=oh(e,!1).getAll();return new ah(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ph.type="LOCAL";var vh=ph;function mh(e,t){return bc(e,"POST","/v2/accounts/mfaSignIn:start",gc(e,t))}function yh(e,t){return bc(e,"POST","/v2/accounts/mfaSignIn:finalize",gc(e,t))}var gh=1e12,bh=function(){function e(t){p(this,e),this.auth=t,this.counter=gh,this._widgets=new Map}return g(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new kh(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gh;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gh;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gh,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),kh=function(){function e(t,n,r){var i=this;p(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;uc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return g(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wh=Tl("rcb"),xh=new hc(3e4,6e4),Sh=function(){function e(){var t;p(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Yd().grecaptcha)||void 0===t?void 0:t.render)}return g(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return uc(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Gs(Yd().grecaptcha)?Promise.resolve(Yd().grecaptcha):new Promise((function(r,i){var a=Yd().setTimeout((function(){i(rc(e,"network-request-failed"))}),xh.get());Yd()[wh]=function(){Yd().clearTimeout(a),delete Yd()[wh];var o=Yd().grecaptcha;if(o&&Gs(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(rc(e,"internal-error"))},El("".concat("https://www.google.com/recaptcha/api.js?","?").concat(su({onload:wh,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(rc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Yd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var _h=function(){function e(){p(this,e)}return g(e,[{key:"load",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new bh(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ih="recaptcha",Eh={theme:"light",type:"image"},Th=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Eh);p(this,e),this.parameters=r,this.type=Ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_l(t),this.isInvisible="invisible"===this.parameters.size,uc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;uc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _h:new Sh,this.validateStartingState()}return g(e,[{key:"verify",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){uc(!this.parameters.sitekey,this.auth,"argument-error"),uc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),uc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Yd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){uc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Uo(Mo().mark((function e(){var t,n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc(fc()&&!Jd(),this.auth,"internal-error"),e.next=3,Ch();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Cc(this.auth);case 8:uc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return uc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ch(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ah=function(){function e(t,n){p(this,e),this.verificationId=t,this.onConfirmation=n}return g(e,[{key:"confirm",value:function(e){var t=pf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Rh(){return Rh=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_l(t),e.next=3,Dh(i,n,pu(r));case 3:return a=e.sent,e.abrupt("return",new Ah(a,(function(e){return Wf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Rh.apply(this,arguments)}function Nh(e,t,n){return Ph.apply(this,arguments)}function Ph(){return(Ph=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),e.next=3,Uf(!1,i,"phone");case 3:return e.next=5,Dh(i.auth,n,pu(r));case 5:return a=e.sent,e.abrupt("return",new Ah(a,(function(e){return Gf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oh(){return(Oh=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pu(t),e.next=3,Dh(i.auth,n,pu(r));case 3:return a=e.sent,e.abrupt("return",new Ah(a,(function(e){return Qf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(e,t,n){return Lh.apply(this,arguments)}function Lh(){return Lh=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,uc("string"===typeof a,t,"argument-error"),uc(r.type===Ih,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return uc("enroll"===u.type,t,"internal-error"),e.next=13,Dd(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return uc("signin"===u.type,t,"internal-error"),uc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,mh(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,sf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Lh.apply(this,arguments)}function Mh(){return(Mh=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mf(pu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fh=function(){function e(t){p(this,e),this.providerId=e.PROVIDER_ID,this.auth=_l(t)}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return Dh(this.auth,e,pu(t))}}],[{key:"credential",value:function(e,t){return pf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?pf._fromTokenResponse(n,r):null}}]),e}();function Uh(e,t){return t?rl(t):(uc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fh.PROVIDER_ID="phone",Fh.PHONE_SIGN_IN_METHOD="phone";var zh=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"custom","custom")).params=e,r}return g(n,[{key:"_getIdTokenResponse",value:function(e){return af(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return af(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return af(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dl);function jh(e){return Bf(e.auth,new zh(e),e.bypassAuthState)}function Vh(e){var t=e.auth,n=e.user;return uc(n,t,"internal-error"),jf(n,new zh(e),e.bypassAuthState)}function Bh(e){return qh.apply(this,arguments)}function qh(){return qh=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,uc(r=t.user,n,"internal-error"),e.abrupt("return",Mf(r,new zh(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}var Wh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];p(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return g(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Uo(Mo().mark((function t(n,r){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jh;case"linkViaPopup":case"linkViaRedirect":return Bh;case"reauthViaPopup":case"reauthViaRedirect":return Vh;default:nc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Kh=new hc(2e3,1e4);function Gh(e,t,n){return Hh.apply(this,arguments)}function Hh(){return Hh=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_l(t),ac(t,n,yf),a=Uh(i,r),o=new Xh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Qh(){return(Qh=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ac((i=pu(t)).auth,n,yf),a=Uh(i.auth,r),o=new Xh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e,t,n){return Yh.apply(this,arguments)}function Yh(){return(Yh=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ac((i=pu(t)).auth,n,yf),a=Uh(i.auth,r),o=new Xh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xh=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o){var u;return p(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=S(u),u}return g(n,[{key:"executeNotNull",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return uc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Uo(Mo().mark((function e(){var t,n=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cc(1===this.filter.length,"Popup operations only handle one event"),t=Qd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(rc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(rc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(rc(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Kh.get())}()}}]),n}(Wh);Xh.currentPopupAction=null;var Jh="pendingRedirect",Zh=new Map,ep=function(e){k(n,e);var t=_(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return g(n,[{key:"execute",value:function(){var e=Uo(Mo().mark((function e(){var t,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,tp(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Lo(w(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Uo(Mo().mark((function e(t){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Lo(w(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Lo(w(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wh);function tp(e,t){return np.apply(this,arguments)}function np(){return np=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=up(n),i=op(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),np.apply(this,arguments)}function rp(e,t){return ip.apply(this,arguments)}function ip(){return ip=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",op(t)._set(up(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t){Zh.set(e._key(),t)}function op(e){return rl(e._redirectPersistence)}function up(e){return ol(Jh,e.config.apiKey,e.name)}function sp(e,t,n){return function(e,t,n){return cp.apply(this,arguments)}(e,t,n)}function cp(){return cp=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_l(t),ac(t,n,yf),e.next=4,i._initializationPromise;case 4:return a=Uh(i,r),e.next=7,rp(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t,n){return function(e,t,n){return fp.apply(this,arguments)}(e,t,n)}function fp(){return(fp=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ac((i=pu(t)).auth,n,yf),e.next=4,i.auth._initializationPromise;case 4:return a=Uh(i.auth,r),e.next=7,rp(a,i.auth);case 7:return e.next=9,gp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dp(e,t,n){return function(e,t,n){return hp.apply(this,arguments)}(e,t,n)}function hp(){return(hp=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ac((i=pu(t)).auth,n,yf),e.next=4,i.auth._initializationPromise;case 4:return a=Uh(i.auth,r),e.next=7,Uf(!1,i,n.providerId);case 7:return e.next=9,rp(a,i.auth);case 9:return e.next=11,gp(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return vp=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_l(t)._initializationPromise;case 2:return e.abrupt("return",mp(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function mp(e,t){return yp.apply(this,arguments)}function yp(){return yp=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=_l(t),a=Uh(i,n),o=new ep(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function gp(e){return bp.apply(this,arguments)}function bp(){return(bp=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kp=function(){function e(t){p(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return g(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!xp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(rc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(wp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function wp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function xp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Sp(e){return _p.apply(this,arguments)}function _p(){return _p=Uo(Mo().mark((function e(t){var n,r=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",bc(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}var Ip=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ep=/^https?/;function Tp(){return Tp=Uo(Mo().mark((function e(t){var n,r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sp(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Cp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:nc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Tp.apply(this,arguments)}function Cp(e){var t=lc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ep.test(r))return!1;if(Ip.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ap=new hc(3e4,6e4);function Rp(){var e=Yd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=h(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Np=null;function Pp(e){return Np=Np||function(e){return new Promise((function(t,n){var r,i,a;function o(){Rp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Rp(),n(rc(e,"network-request-failed"))},timeout:Ap.get()})}if(null===(i=null===(r=Yd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Yd().gapi)||void 0===a?void 0:a.load)){var u=Tl("iframefcb");return Yd()[u]=function(){gapi.load?o():n(rc(e,"network-request-failed"))},El("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Np=null,e}))}(e),Np}var Op=new hc(5e3,15e3),Dp="__/auth/iframe",Lp="emulator/auth/iframe",Mp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Up(e){var t=e.config;uc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?pc(t,Lp):"https://".concat(e.config.authDomain,"/").concat(Dp),r={apiKey:t.apiKey,appName:e.name,v:ds},i=Fp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(su(r).slice(1))}function zp(e){return jp.apply(this,arguments)}function jp(){return jp=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pp(t);case 2:return n=e.sent,uc(r=Yd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Up(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mp,dontclear:!0},(function(e){return new Promise(function(){var n=Uo(Mo().mark((function n(r,i){var a,o,u;return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Yd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=rc(t,"network-request-failed"),o=Yd().setTimeout((function(){i(a)}),Op.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}var Vp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bp=function(){function e(t){p(this,e),this.window=t,this.associatedEvent=null}return g(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function qp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Vp),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$o().toLowerCase();n&&(u=fl(c)?"_blank":n),cl(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=f(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ml(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Bp(null);var d=window.open(t||"",u,l);uc(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Bp(d)}var Wp="__/auth/handler",Kp="emulator/auth/handler",Gp=encodeURIComponent("fac");function Hp(e,t,n,r,i,a){return Qp.apply(this,arguments)}function Qp(){return Qp=Uo(Mo().mark((function e(t,n,r,i,a,o){var u,s,c,l,d,h,p,v,m,y,g,b,k;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uc(t.config.authDomain,t,"auth-domain-config-required"),uc(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:ds,eventId:a},n instanceof yf)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",au(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),s=0,c=Object.entries(o||{});s<c.length;s++)l=f(c[s],2),d=l[0],h=l[1],u[d]=h;for(n instanceof gf&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(Gp,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat($p(t),"?").concat(su(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function $p(e){var t=e.config;return t.emulator?pc(t,Kp):"https://".concat(t.authDomain,"/").concat(Wp)}var Yp="webStorageSupport",Xp=function(){function e(){p(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kd,this._completeRedirectFn=mp,this._overrideRedirectResult=ap}return g(e,[{key:"_openPopup",value:function(){var e=Uo(Mo().mark((function e(t,n,r,i){var a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Hp(t,n,r,lc(),i);case 3:return o=e.sent,e.abrupt("return",qp(t,o,Qd()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Uo(Mo().mark((function e(t,n,r,i){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Hp(t,n,r,lc(),i);case 4:return Xd(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(cc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zp(t);case 2:return n=e.sent,r=new kp(t),n.register("authEvent",(function(e){return uc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Yp,{type:Yp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Yp];void 0!==i&&t(!!i),nc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Tp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return yl()||ll()||ml()}}]),e}(),Jp=Xp,Zp=function(){function e(t){p(this,e),this.factorId=t}return g(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return sc("unexpected MultiFactorSessionType")}}}]),e}(),ev=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,"phone")).credential=e,r}return g(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return bc(e,"POST","/v2/accounts/mfaEnrollment:finalize",gc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return bc(e,"POST","/v2/accounts/mfaSignIn:finalize",gc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Zp),tv=function(){function e(){p(this,e)}return g(e,null,[{key:"assertion",value:function(e){return ev._fromCredential(e)}}]),e}();tv.FACTOR_ID="phone";var nv=function(){function e(){p(this,e)}return g(e,null,[{key:"assertionForEnrollment",value:function(e,t){return rv._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return rv._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,Ld(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",iv._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();nv.FACTOR_ID="totp";var rv=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return g(n,[{key:"_finalizeEnroll",value:function(){var e=Uo(Mo().mark((function e(t,n,r){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Md(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uc(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",yh(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Zp),iv=function(){function e(t,n,r,i,a,o,u){p(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return g(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(av(e)||av(t))&&(r=!0),r&&(av(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),av(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function av(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ov="@firebase/auth",uv="1.3.0",sv=function(){function e(t){p(this,e),this.auth=t,this.internalListeners=new Map}return g(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){uc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var cv;!function(e){var t;null===(t=Go())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function lv(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function fv(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}cv="Browser",as(new vu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;uc(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:cv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gl(cv)},l=new Sl(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),as(new vu("auth-internal",(function(e){return function(e){return new sv(e)}(_l(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),gs(ov,uv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(cv)),gs(ov,uv,"esm2017");var dv=function(){return dv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dv.apply(this,arguments)},hv=function(e){return{loading:void 0===e||null===e,value:e}},pv=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return dv(dv({},e),{error:t.error,loading:!1,value:void 0});case"reset":return hv(t.defaultValue);case"value":return dv(dv({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),hv(t)),r=n[0],a=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,i.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,i.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},vv=function(e,t){var n=pv((function(){return e.currentUser})),r=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;return(0,i.useEffect)((function(){var n=function(e,t,n,r){return pu(e).onAuthStateChanged(t,n,r)}(e,(function(e){return lv(void 0,void 0,void 0,(function(){var n;return fv(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]),[s,a,r]},mv=function(){var e=(0,i.useContext)(HU).auth,t=f(vv(e),1)[0];return(0,Hi.jsx)(ra,{position:"static",children:(0,Hi.jsx)(sa,{variant:"dense",children:(0,Hi.jsx)(_a,{container:!0,justifyContent:"flex-end",children:t?(0,Hi.jsx)(Do,{onClick:function(){return e.signOut()},style:{color:"black"},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):(0,Hi.jsx)(Do,{style:{color:"black"},variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})},yv=Wr(),gv=["className","component","disableGutters","fixed","maxWidth","classes"],bv=Mr(),kv=yv("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Bn(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),wv=function(e){return Fi({props:e,name:"MuiContainer",defaultTheme:bv})};var xv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?kv:t,r=e.useThemeProps,a=void 0===r?wv:r,o=e.componentName,u=void 0===o?"MuiContainer":o,s=n((function(e){var t=e.theme;return Ge({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.ownerState.disableGutters&&Nn({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return Ge({},"xs"===n.maxWidth&&Nn({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&Nn({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),c=i.forwardRef((function(e,t){var n=a(e),r=n.className,i=n.component,o=void 0===i?"div":i,c=n.disableGutters,l=void 0!==c&&c,f=n.fixed,d=void 0!==f&&f,h=n.maxWidth,p=void 0===h?"lg":h,v=Ke(n,gv),m=Ge({},n,{component:o,disableGutters:l,fixed:d,maxWidth:p}),y=function(e,t){var n=e.classes,r=e.fixed,i=e.disableGutters,a=e.maxWidth;return $e({root:["root",a&&"maxWidth".concat(Bn(String(a))),r&&"fixed",i&&"disableGutters"]},(function(e){return Wi(t,e)}),n)}(m,u);return(0,Hi.jsx)(s,Ge({as:o,ownerState:m,className:Qe(y.root,r),ref:t},v))}));return c}({createStyledComponent:Pi("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(zi(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:function(e){return Ui({props:e,name:"MuiContainer"})}}),Sv=xv;function _v(e){return Wi("MuiSvgIcon",e)}Ki("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Iv=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ev=Pi("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(zi(n.color))],t["fontSize".concat(zi(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(i=p.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(o=p.typography)||null==(u=o.pxToRem)?void 0:u.call(o,24))||"1.5rem",large:(null==(s=p.typography)||null==(c=s.pxToRem)?void 0:c.call(s,35))||"2.1875rem"}[v.fontSize],color:null!=(l=null==(f=(p.vars||p).palette)||null==(f=f[v.color])?void 0:f.main)?l:{action:null==(d=(p.vars||p).palette)||null==(d=d.action)?void 0:d.active,disabled:null==(h=(p.vars||p).palette)||null==(h=h.action)?void 0:h.disabled,inherit:void 0}[v.color]}})),Tv=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiSvgIcon"}),r=n.children,a=n.className,o=n.color,u=void 0===o?"inherit":o,s=n.component,c=void 0===s?"svg":s,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,h=n.inheritViewBox,p=void 0!==h&&h,v=n.titleAccess,m=n.viewBox,y=void 0===m?"0 0 24 24":m,g=Ke(n,Iv),b=i.isValidElement(r)&&"svg"===r.type,k=Ge({},n,{color:u,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:b}),w={};p||(w.viewBox=y);var x=function(e){var t=e.color,n=e.fontSize,r=e.classes;return $e({root:["root","inherit"!==t&&"color".concat(zi(t)),"fontSize".concat(zi(n))]},_v,r)}(k);return(0,Hi.jsxs)(Ev,Ge({as:c,className:Qe(x.root,a),focusable:"false",color:d,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},w,g,b&&r.props,{ownerState:k,children:[b?r.props.children:r,v?(0,Hi.jsx)("title",{children:v}):null]}))}));Tv.muiName="SvgIcon";var Cv=Tv;function Av(e,t){function n(n,r){return(0,Hi.jsx)(Cv,Ge({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=Cv.muiName,i.memo(i.forwardRef(n))}var Rv=Av((0,Hi.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Nv(e){return Wi("MuiAvatar",e)}Ki("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Pv=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Ov=Pi("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return Ge({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&Ge({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),Dv=Pi("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Lv=Pi(Rv,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Mv=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiAvatar"}),r=n.alt,a=n.children,o=n.className,u=n.component,s=void 0===u?"div":u,c=n.imgProps,l=n.sizes,d=n.src,h=n.srcSet,p=n.variant,v=void 0===p?"circular":p,m=Ke(n,Pv),y=null,g=function(e){var t=e.crossOrigin,n=e.referrerPolicy,r=e.src,a=e.srcSet,o=f(i.useState(!1),2),u=o[0],s=o[1];return i.useEffect((function(){if(r||a){s(!1);var e=!0,i=new Image;return i.onload=function(){e&&s("loaded")},i.onerror=function(){e&&s("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,a&&(i.srcset=a),function(){e=!1}}}),[t,n,r,a]),u}(Ge({},c,{src:d,srcSet:h})),b=d||h,k=b&&"error"!==g,w=Ge({},n,{colorDefault:!k,component:s,variant:v}),x=function(e){var t=e.classes;return $e({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},Nv,t)}(w);return y=k?(0,Hi.jsx)(Dv,Ge({alt:r,srcSet:h,src:d,sizes:l,ownerState:w,className:x.img},c)):null!=a?a:b&&r?r[0]:(0,Hi.jsx)(Lv,{ownerState:w,className:x.fallback}),(0,Hi.jsx)(Ov,Ge({as:s,ownerState:w,className:Qe(x.root,o),ref:t},m,{children:y}))})),Fv=Mv,Uv=0;var zv=a["useId".toString()];function jv(e){if(void 0!==zv){var t=zv();return null!=e?e:t}return function(e){var t=f(i.useState(e),2),n=t[0],r=t[1],a=e||n;return i.useEffect((function(){null==n&&r("mui-".concat(Uv+=1))}),[n]),a}(e)}var Vv=n(164);function Bv(e){return e&&e.ownerDocument||document}function qv(e){return Bv(e).defaultView||window}function Wv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r}var Kv=["onChange","maxRows","minRows","style","value"];function Gv(e){return parseInt(e,10)||0}var Hv={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Qv(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var $v=i.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,c=Ke(e,Kv),l=i.useRef(null!=s).current,d=i.useRef(null),h=Ea(t,d),p=i.useRef(null),v=i.useRef(0),m=f(i.useState({outerHeightStyle:0}),2),y=m[0],g=m[1],b=i.useCallback((function(){var t=d.current,n=qv(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var i=p.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var a=n.boxSizing,u=Gv(n.paddingBottom)+Gv(n.paddingTop),s=Gv(n.borderBottomWidth)+Gv(n.borderTopWidth),c=i.scrollHeight;i.value="x";var l=i.scrollHeight,f=c;return o&&(f=Math.max(Number(o)*l,f)),r&&(f=Math.min(Number(r)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===a?u+s:0),overflow:Math.abs(f-c)<=1}}),[r,o,e.placeholder]),k=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return v.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(v.current+=1,{overflow:r,outerHeightStyle:n}):e},w=i.useCallback((function(){var e=b();Qv(e)||g((function(t){return k(t,e)}))}),[b]);Ca((function(){var e,t,n=function(){v.current=0,function(){var e=b();Qv(e)||Vv.flushSync((function(){g((function(t){return k(t,e)}))}))}()},r=Wv(n),i=d.current,a=qv(i);return a.addEventListener("resize",r),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(n)).observe(i),function(){r.clear(),cancelAnimationFrame(e),a.removeEventListener("resize",r),t&&t.disconnect()}}),[b]),Ca((function(){w()})),i.useEffect((function(){v.current=0}),[s]);return(0,Hi.jsxs)(i.Fragment,{children:[(0,Hi.jsx)("textarea",Ge({value:s,onChange:function(e){v.current=0,l||w(),n&&n(e)},ref:h,rows:o,style:Ge({height:y.outerHeightStyle,overflow:y.overflow?"hidden":void 0},u)},c)),(0,Hi.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:Ge({},Hv,u,{paddingTop:0,paddingBottom:0})})]})}));function Yv(e){return"string"===typeof e}function Xv(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Jv=i.createContext(void 0);function Zv(){return i.useContext(Jv)}var em=Ca;function tm(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Hi.jsx)($a,{styles:i})}var nm=function(e){var t=e.styles,n=e.themeId,r=e.defaultTheme,i=Mi(void 0===r?{}:r),a="function"===typeof t?t(n&&i[n]||i):t;return(0,Hi.jsx)(tm,{styles:a})};var rm=function(e){return(0,Hi.jsx)(nm,Ge({},e,{defaultTheme:Ci,themeId:Ai}))};function im(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function am(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(im(e.value)&&""!==e.value||t&&im(e.defaultValue)&&""!==e.defaultValue)}function om(e){return Wi("MuiInputBase",e)}var um=Ki("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),sm=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cm=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(zi(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},lm=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},fm=Pi("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cm})((function(e){var t=e.theme,n=e.ownerState;return Ge({},t.typography.body1,Nn({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(um.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&Ge({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),dm=Pi("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lm})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a=Ge({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),o={opacity:"0 !important"},u=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return Ge((Nn(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(um.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),Nn(t,"&.".concat(um.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),Nn(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),hm=(0,Hi.jsx)(rm,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),pm=i.forwardRef((function(e,t){var n,r=Ui({props:e,name:"MuiInputBase"}),a=r["aria-describedby"],o=r.autoComplete,u=r.autoFocus,s=r.className,c=r.components,l=void 0===c?{}:c,d=r.componentsProps,h=void 0===d?{}:d,p=r.defaultValue,v=r.disabled,m=r.disableInjectingGlobalStyles,y=r.endAdornment,g=r.fullWidth,b=void 0!==g&&g,k=r.id,w=r.inputComponent,x=void 0===w?"input":w,S=r.inputProps,_=void 0===S?{}:S,I=r.inputRef,E=r.maxRows,T=r.minRows,C=r.multiline,A=void 0!==C&&C,R=r.name,N=r.onBlur,P=r.onChange,O=r.onClick,D=r.onFocus,L=r.onKeyDown,M=r.onKeyUp,F=r.placeholder,U=r.readOnly,z=r.renderSuffix,j=r.rows,V=r.slotProps,B=void 0===V?{}:V,q=r.slots,W=void 0===q?{}:q,K=r.startAdornment,G=r.type,H=void 0===G?"text":G,Q=r.value,$=Ke(r,sm),Y=null!=_.value?_.value:Q,X=i.useRef(null!=Y).current,J=i.useRef(),Z=i.useCallback((function(e){0}),[]),ee=Ta(J,I,_.ref,Z),te=f(i.useState(!1),2),ne=te[0],re=te[1],ie=Zv();var ae=Xv({props:r,muiFormControl:ie,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ae.focused=ie?ie.focused:ne,i.useEffect((function(){!ie&&v&&ne&&(re(!1),N&&N())}),[ie,v,ne,N]);var oe=ie&&ie.onFilled,ue=ie&&ie.onEmpty,se=i.useCallback((function(e){am(e)?oe&&oe():ue&&ue()}),[oe,ue]);em((function(){X&&se({value:Y})}),[Y,se,X]);i.useEffect((function(){se(J.current)}),[]);var ce=x,le=_;A&&"input"===ce&&(le=Ge(j?{type:void 0,minRows:j,maxRows:j}:{type:void 0,maxRows:E,minRows:T},le),ce=$v);i.useEffect((function(){ie&&ie.setAdornedStart(Boolean(K))}),[ie,K]);var fe=Ge({},r,{color:ae.color||"primary",disabled:ae.disabled,endAdornment:y,error:ae.error,focused:ae.focused,formControl:ie,fullWidth:b,hiddenLabel:ae.hiddenLabel,multiline:A,size:ae.size,startAdornment:K,type:H}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,p=e.type;return $e({root:["root","color".concat(zi(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl",d&&"medium"!==d&&"size".concat(zi(d)),l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",f&&"readOnly"]},om,t)}(fe),he=W.root||l.Root||fm,pe=B.root||h.root||{},ve=W.input||l.Input||dm;return le=Ge({},le,null!=(n=B.input)?n:h.input),(0,Hi.jsxs)(i.Fragment,{children:[!m&&hm,(0,Hi.jsxs)(he,Ge({},pe,!Yv(he)&&{ownerState:Ge({},fe,pe.ownerState)},{ref:t,onClick:function(e){J.current&&e.currentTarget===e.target&&J.current.focus(),O&&O(e)}},$,{className:Qe(de.root,pe.className,s,U&&"MuiInputBase-readOnly"),children:[K,(0,Hi.jsx)(Jv.Provider,{value:null,children:(0,Hi.jsx)(ve,Ge({ownerState:fe,"aria-invalid":ae.error,"aria-describedby":a,autoComplete:o,autoFocus:u,defaultValue:p,disabled:ae.disabled,id:k,onAnimationStart:function(e){se("mui-auto-fill-cancel"===e.animationName?J.current:{value:"x"})},name:R,placeholder:F,readOnly:U,required:ae.required,rows:j,value:Y,onKeyDown:L,onKeyUp:M,type:H},le,!Yv(ve)&&{as:ce,ownerState:Ge({},fe,le.ownerState)},{ref:ee,className:Qe(de.input,le.className,U&&"MuiInputBase-readOnly"),onBlur:function(e){N&&N(e),_.onBlur&&_.onBlur(e),ie&&ie.onBlur?ie.onBlur(e):re(!1)},onChange:function(e){if(!X){var t=e.target||J.current;if(null==t)throw new Error(Vn(1));se({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];_.onChange&&_.onChange.apply(_,[e].concat(r)),P&&P.apply(void 0,[e].concat(r))},onFocus:function(e){ae.disabled?e.stopPropagation():(D&&D(e),_.onFocus&&_.onFocus(e),ie&&ie.onFocus?ie.onFocus(e):re(!0))}}))}),y,z?z(Ge({},ae,{startAdornment:K})):null]}))]})})),vm=pm;function mm(e){return Wi("MuiInput",e)}var ym=Ge({},um,Ki("MuiInput",["root","underline","input"])),gm=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],bm=Pi(fm,{shouldForwardProp:function(e){return Ri(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(cm(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),Ge({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Nn(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(ym.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Nn(t,"&.".concat(ym.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),Nn(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Nn(t,"&:hover:not(.".concat(ym.disabled,", .").concat(ym.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Nn(t,"&.".concat(ym.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),km=Pi(dm,{name:"MuiInput",slot:"Input",overridesResolver:lm})({}),wm=i.forwardRef((function(e,t){var n,r,i,a,o=Ui({props:e,name:"MuiInput"}),u=o.disableUnderline,s=o.components,c=void 0===s?{}:s,l=o.componentsProps,f=o.fullWidth,d=void 0!==f&&f,h=o.inputComponent,p=void 0===h?"input":h,v=o.multiline,m=void 0!==v&&v,y=o.slotProps,g=o.slots,b=void 0===g?{}:g,k=o.type,w=void 0===k?"text":k,x=Ke(o,gm),S=function(e){var t=e.classes;return Ge({},t,$e({root:["root",!e.disableUnderline&&"underline"],input:["input"]},mm,t))}(o),_={root:{ownerState:{disableUnderline:u}}},I=(null!=y?y:l)?Rn(null!=y?y:l,_):_,E=null!=(n=null!=(r=b.root)?r:c.Root)?n:bm,T=null!=(i=null!=(a=b.input)?a:c.Input)?i:km;return(0,Hi.jsx)(vm,Ge({slots:{root:E,input:T},slotProps:I,fullWidth:d,inputComponent:p,multiline:m,ref:t,type:w},x,{classes:S}))}));wm.muiName="Input";var xm=wm;function Sm(e){return Wi("MuiFilledInput",e)}var _m=Ge({},um,Ki("MuiFilledInput",["root","underline","input"])),Im=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Em=Pi(fm,{shouldForwardProp:function(e){return Ri(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(h(cm(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,u=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Ge((Nn(t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}}},"&.".concat(_m.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:s}),Nn(t,"&.".concat(_m.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:l}),t),!a.disableUnderline&&(Nn(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[a.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(_m.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Nn(n,"&.".concat(_m.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),Nn(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):u),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Nn(n,"&:hover:not(.".concat(_m.disabled,", .").concat(_m.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),Nn(n,"&.".concat(_m.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&Ge({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Tm=Pi(dm,{name:"MuiFilledInput",slot:"Input",overridesResolver:lm})((function(e){var t=e.theme,n=e.ownerState;return Ge({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&Nn({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Cm=i.forwardRef((function(e,t){var n,r,i,a,o=Ui({props:e,name:"MuiFilledInput"}),u=o.components,s=void 0===u?{}:u,c=o.componentsProps,l=o.fullWidth,f=void 0!==l&&l,d=o.inputComponent,h=void 0===d?"input":d,p=o.multiline,v=void 0!==p&&p,m=o.slotProps,y=o.slots,g=void 0===y?{}:y,b=o.type,k=void 0===b?"text":b,w=Ke(o,Im),x=Ge({},o,{fullWidth:f,inputComponent:h,multiline:v,type:k}),S=function(e){var t=e.classes;return Ge({},t,$e({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Sm,t))}(o),_={root:{ownerState:x},input:{ownerState:x}},I=(null!=m?m:c)?Rn(null!=m?m:c,_):_,E=null!=(n=null!=(r=g.root)?r:s.Root)?n:Em,T=null!=(i=null!=(a=g.input)?a:s.Input)?i:Tm;return(0,Hi.jsx)(vm,Ge({slots:{root:E,input:T},componentsProps:I,fullWidth:f,inputComponent:h,multiline:v,ref:t,type:k},w,{classes:S}))}));Cm.muiName="Input";var Am,Rm=Cm,Nm=["children","classes","className","label","notched"],Pm=Pi("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Om=Pi("legend")((function(e){var t=e.ownerState,n=e.theme;return Ge({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&Ge({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Dm(e){return Wi("MuiOutlinedInput",e)}var Lm=Ge({},um,Ki("MuiOutlinedInput",["root","notchedOutline","input"])),Mm=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Fm=Pi(fm,{shouldForwardProp:function(e){return Ri(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:cm})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Ge((Nn(t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},"&:hover .".concat(Lm.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),Nn(t,"@media (hover: none)",Nn({},"&:hover .".concat(Lm.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),Nn(t,"&.".concat(Lm.focused," .").concat(Lm.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),Nn(t,"&.".concat(Lm.error," .").concat(Lm.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),Nn(t,"&.".concat(Lm.disabled," .").concat(Lm.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&Ge({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),Um=Pi((function(e){var t=e.className,n=e.label,r=e.notched,i=Ke(e,Nm),a=null!=n&&""!==n,o=Ge({},e,{notched:r,withLabel:a});return(0,Hi.jsx)(Pm,Ge({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,Hi.jsx)(Om,{ownerState:o,children:a?(0,Hi.jsx)("span",{children:n}):Am||(Am=(0,Hi.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),zm=Pi(dm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lm})((function(e){var t=e.theme,n=e.ownerState;return Ge({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&Nn({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),jm=i.forwardRef((function(e,t){var n,r,a,o,u,s=Ui({props:e,name:"MuiOutlinedInput"}),c=s.components,l=void 0===c?{}:c,f=s.fullWidth,d=void 0!==f&&f,h=s.inputComponent,p=void 0===h?"input":h,v=s.label,m=s.multiline,y=void 0!==m&&m,g=s.notched,b=s.slots,k=void 0===b?{}:b,w=s.type,x=void 0===w?"text":w,S=Ke(s,Mm),_=function(e){var t=e.classes;return Ge({},t,$e({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Dm,t))}(s),I=Zv(),E=Xv({props:s,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=Ge({},s,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:I,fullWidth:d,hiddenLabel:E.hiddenLabel,multiline:y,size:E.size,type:x}),C=null!=(n=null!=(r=k.root)?r:l.Root)?n:Fm,A=null!=(a=null!=(o=k.input)?o:l.Input)?a:zm;return(0,Hi.jsx)(vm,Ge({slots:{root:C,input:A},renderSuffix:function(e){return(0,Hi.jsx)(Um,{ownerState:T,className:_.notchedOutline,label:null!=v&&""!==v&&E.required?u||(u=(0,Hi.jsxs)(i.Fragment,{children:[v,"\u2009","*"]})):v,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:p,multiline:y,ref:t,type:x},S,{classes:Ge({},_,{notchedOutline:null})}))}));jm.muiName="Input";var Vm=jm;function Bm(e){return Wi("MuiFormLabel",e)}var qm=Ki("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Wm=["children","className","color","component","disabled","error","filled","focused","required"],Km=Pi("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Ge({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return Ge({color:(n.vars||n).palette.text.secondary},n.typography.body1,(Nn(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(qm.focused),{color:(n.vars||n).palette[r.color].main}),Nn(t,"&.".concat(qm.disabled),{color:(n.vars||n).palette.text.disabled}),Nn(t,"&.".concat(qm.error),{color:(n.vars||n).palette.error.main}),t))})),Gm=Pi("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Nn({},"&.".concat(qm.error),{color:(t.vars||t).palette.error.main})})),Hm=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=Ke(n,Wm),s=Xv({props:n,muiFormControl:Zv(),states:["color","required","focused","disabled","error","filled"]}),c=Ge({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return $e({root:["root","color".concat(zi(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},Bm,t)}(c);return(0,Hi.jsxs)(Km,Ge({as:o,ownerState:c,className:Qe(l.root,i),ref:t},u,{children:[r,s.required&&(0,Hi.jsxs)(Gm,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),Qm=Hm;function $m(e){return Wi("MuiInputLabel",e)}Ki("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Ym=["disableAnimation","margin","shrink","variant","className"],Xm=Pi(Qm,{shouldForwardProp:function(e){return Ri(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Nn({},"& .".concat(qm.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Ge({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Ge({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Ge({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Ge({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Jm=i.forwardRef((function(e,t){var n=Ui({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=n.className,u=Ke(n,Ym),s=Zv(),c=a;"undefined"===typeof c&&s&&(c=s.filled||s.focused||s.adornedStart);var l=Xv({props:n,muiFormControl:s,states:["size","variant","required"]}),f=Ge({},n,{disableAnimation:i,formControl:s,shrink:c,size:l.size,variant:l.variant,required:l.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,a=e.disableAnimation,o=e.variant,u=e.required;return Ge({},t,$e({root:["root",n&&"formControl",!a&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat(zi(r)),o],asterisk:[u&&"asterisk"]},$m,t))}(f);return(0,Hi.jsx)(Xm,Ge({"data-shrink":c,ownerState:f,ref:t,className:Qe(d.root,o)},u,{classes:d}))})),Zm=Jm;var ey=function(e,t){var n,r;return i.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)};function ty(e){return Wi("MuiFormControl",e)}Ki("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var ny=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ry=Pi("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Ge({},t.root,t["margin".concat(zi(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return Ge({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),iy=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiFormControl"}),r=n.children,a=n.className,o=n.color,u=void 0===o?"primary":o,s=n.component,c=void 0===s?"div":s,l=n.disabled,d=void 0!==l&&l,h=n.error,p=void 0!==h&&h,v=n.focused,m=n.fullWidth,y=void 0!==m&&m,g=n.hiddenLabel,b=void 0!==g&&g,k=n.margin,w=void 0===k?"none":k,x=n.required,S=void 0!==x&&x,_=n.size,I=void 0===_?"medium":_,E=n.variant,T=void 0===E?"outlined":E,C=Ke(n,ny),A=Ge({},n,{color:u,component:c,disabled:d,error:p,fullWidth:y,hiddenLabel:b,margin:w,required:S,size:I,variant:T}),R=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return $e({root:["root","none"!==n&&"margin".concat(zi(n)),r&&"fullWidth"]},ty,t)}(A),N=f(i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){if(ey(t,["Input","Select"])){var n=ey(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),P=N[0],O=N[1],D=f(i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){ey(t,["Input","Select"])&&(am(t.props,!0)||am(t.props.inputProps,!0))&&(e=!0)})),e})),2),L=D[0],M=D[1],F=f(i.useState(!1),2),U=F[0],z=F[1];d&&U&&z(!1);var j,V=void 0===v||d?U:v,B=i.useMemo((function(){return{adornedStart:P,setAdornedStart:O,color:u,disabled:d,error:p,filled:L,focused:V,fullWidth:y,hiddenLabel:b,size:I,onBlur:function(){z(!1)},onEmpty:function(){M(!1)},onFilled:function(){M(!0)},onFocus:function(){z(!0)},registerEffect:j,required:S,variant:T}}),[P,u,d,p,L,V,y,b,j,S,I,T]);return(0,Hi.jsx)(Jv.Provider,{value:B,children:(0,Hi.jsx)(ry,Ge({as:c,ownerState:A,className:Qe(R.root,a),ref:t},C,{children:r}))})})),ay=iy;function oy(e){return Wi("MuiFormHelperText",e)}var uy,sy=Ki("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),cy=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ly=Pi("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(zi(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return Ge({color:(n.vars||n).palette.text.secondary},n.typography.caption,(Nn(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(sy.disabled),{color:(n.vars||n).palette.text.disabled}),Nn(t,"&.".concat(sy.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),fy=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=Ke(n,cy),s=Xv({props:n,muiFormControl:Zv(),states:["variant","size","disabled","error","filled","focused","required"]}),c=Ge({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return $e({root:["root",i&&"disabled",a&&"error",r&&"size".concat(zi(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},oy,t)}(c);return(0,Hi.jsx)(ly,Ge({as:o,ownerState:c,className:Qe(l.root,i),ref:t},u,{children:" "===r?uy||(uy=(0,Hi.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),dy=(n(457),Bv);function hy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}function py(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}var vy=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function my(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,a=e.skipResolvingSlotProps,o=void 0!==a&&a,u=Ke(e,vy),s=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),c=function(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,a=e.className;if(!t){var o=Qe(null==i?void 0:i.className,null==r?void 0:r.className,a,null==n?void 0:n.className),u=Ge({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=Ge({},n,i,r);return o.length>0&&(s.className=o),Object.keys(u).length>0&&(s.style=u),{props:s,internalRef:void 0}}var c=hy(Ge({},i,r)),l=py(r),f=py(i),d=t(c),h=Qe(null==d?void 0:d.className,null==n?void 0:n.className,a,null==i?void 0:i.className,null==r?void 0:r.className),p=Ge({},null==d?void 0:d.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),v=Ge({},d,n,f,l);return h.length>0&&(v.className=h),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:d.ref}}(Ge({},u,{externalSlotProps:s})),l=function(e,t,n){return void 0===e||Yv(e)?t:Ge({},t,{ownerState:Ge({},t.ownerState,n)})}(n,Ge({},c.props,{ref:Ea(c.internalRef,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return l}var yy=i.createContext({});function gy(e){return Wi("MuiList",e)}Ki("MuiList",["root","padding","dense","subheader"]);var by=["children","className","component","dense","disablePadding","subheader"],ky=Pi("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return Ge({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),wy=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiList"}),r=n.children,a=n.className,o=n.component,u=void 0===o?"ul":o,s=n.dense,c=void 0!==s&&s,l=n.disablePadding,f=void 0!==l&&l,d=n.subheader,h=Ke(n,by),p=i.useMemo((function(){return{dense:c}}),[c]),v=Ge({},n,{component:u,dense:c,disablePadding:f}),m=function(e){var t=e.classes;return $e({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},gy,t)}(v);return(0,Hi.jsx)(yy.Provider,{value:p,children:(0,Hi.jsxs)(ky,Ge({as:u,className:Qe(m.root,a),ref:t,ownerState:v},h,{children:[d,r]}))})}));function xy(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var Sy=xy,_y=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Iy(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ey(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ty(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Cy(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&Ty(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var Ay=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,d=e.disableListWrap,h=void 0!==d&&d,p=e.onKeyDown,v=e.variant,m=void 0===v?"selectedMenu":v,y=Ke(e,_y),g=i.useRef(null),b=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});em((function(){a&&g.current.focus()}),[a]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(Sy(dy(e)),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}}),[]);var k=Ta(g,t),w=-1;i.Children.forEach(s,(function(e,t){i.isValidElement(e)?(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===w)&&(w=t),w===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(w+=1)>=s.length&&(w=-1)):w===t&&(w+=1)>=s.length&&(w=-1)}));var x=i.Children.map(s,(function(e,t){if(t===w){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return(0,Hi.jsx)(wy,Ge({role:"menu",ref:k,className:c,onKeyDown:function(e){var t=g.current,n=e.key,r=dy(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Cy(t,r,h,f,Iy);else if("ArrowUp"===n)e.preventDefault(),Cy(t,r,h,f,Ey);else if("Home"===n)e.preventDefault(),Cy(t,null,h,f,Iy);else if("End"===n)e.preventDefault(),Cy(t,null,h,f,Ey);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&Ty(r,i);i.previousKeyMatched&&(u||Cy(t,r,!1,f,Iy,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},y,{children:x}))})),Ry=Ay,Ny=Wv,Py=qv,Oy=!1,Dy="unmounted",Ly="exited",My="entering",Fy="entered",Uy="exiting",zy=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Ly,r.appearStatus=My):i=Fy:i=t.unmountOnExit||t.mountOnEnter?Dy:Ly,r.state={status:i},r.nextCallback=null,r}Va(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Dy?{status:Ly}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==My&&n!==Fy&&(t=My):n!==My&&n!==Fy||(t=Uy)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===My){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Vv.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ly&&this.setState({status:Dy})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Vv.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Oy?this.safeSetState({status:Fy},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:My},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Fy},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Vv.findDOMNode(this);t&&!Oy?(this.props.onExit(r),this.safeSetState({status:Uy},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ly},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ly},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Vv.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Dy)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ke(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Ba.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function jy(){}zy.contextType=Ba,zy.propTypes={},zy.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jy,onEntering:jy,onEntered:jy,onExit:jy,onExiting:jy,onExited:jy},zy.UNMOUNTED=Dy,zy.EXITED=Ly,zy.ENTERING=My,zy.ENTERED=Fy,zy.EXITING=Uy;var Vy=zy,By=function(e){return e.scrollTop};function qy(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var Wy=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Ky(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Gy={entering:{opacity:1,transform:Ky(1)},entered:{opacity:1,transform:"none"}},Hy="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Qy=i.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,a=void 0===r||r,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,d=e.onExit,h=e.onExited,p=e.onExiting,v=e.style,m=e.timeout,y=void 0===m?"auto":m,g=e.TransitionComponent,b=void 0===g?Vy:g,k=Ke(e,Wy),w=i.useRef(),x=i.useRef(),S=da(),_=i.useRef(null),I=Ta(_,o.ref,t),E=function(e){return function(t){if(e){var n=_.current;void 0===t?e(n):e(n,t)}}},T=E(f),C=E((function(e,t){By(e);var n,r=qy({style:v,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:Hy?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),A=E(l),R=E(p),N=E((function(e){var t,n=qy({style:v,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:Hy?t:.666*t,delay:Hy?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=Ky(.75),d&&d(e)})),P=E(h);return i.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,Hi.jsx)(b,Ge({appear:a,in:s,nodeRef:_,onEnter:C,onEntered:A,onEntering:T,onExit:N,onExited:P,onExiting:R,addEndListener:function(e){"auto"===y&&(w.current=setTimeout(e,x.current||0)),n&&n(_.current,e)},timeout:"auto"===y?null:y},k,{children:function(e,t){return i.cloneElement(o,Ge({style:Ge({opacity:0,transform:Ky(.75),visibility:"exited"!==e||s?void 0:"hidden"},Gy[e],v,o.props.style),ref:I},t))}}))}));Qy.muiSupportAuto=!0;var $y=Qy;function Yy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}function Xy(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Jy(e){return parseInt(qv(e).getComputedStyle(e).paddingRight,10)||0}function Zy(e,t,n,r,i){var a=[t,n].concat(h(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Xy(e,i)}))}function eg(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function tg(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=Bv(e);return t.body===e?qv(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=xy(Bv(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Jy(r)+i,"px");var a=Bv(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Jy(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=Bv(r).body;else{var u=r.parentElement,s=qv(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var ng=function(){function e(){p(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return g(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Xy(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Zy(t,e.mount,e.modalRef,r,!0);var i=eg(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=eg(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=tg(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=eg(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Xy(e.modalRef,t),Zy(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&Xy(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var rg=new ng;function ig(e){var t=e.container,n=e.disableEscapeKeyDown,r=void 0!==n&&n,a=e.disableScrollLock,o=void 0!==a&&a,u=e.manager,s=void 0===u?rg:u,c=e.closeAfterTransition,l=void 0!==c&&c,d=e.onTransitionEnter,h=e.onTransitionExited,p=e.children,v=e.onClose,m=e.open,y=e.rootRef,g=i.useRef({}),b=i.useRef(null),k=i.useRef(null),w=Ea(k,y),x=f(i.useState(!m),2),S=x[0],_=x[1],I=function(e){return!!e&&e.props.hasOwnProperty("in")}(p),E=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(E=!1);var T=function(){return g.current.modalRef=k.current,g.current.mount=b.current,g.current},C=function(){s.mount(T(),{disableScrollLock:o}),k.current&&(k.current.scrollTop=0)},A=Ra((function(){var e=function(e){return"function"===typeof e?e():e}(t)||Bv(b.current).body;s.add(T(),e),k.current&&C()})),R=i.useCallback((function(){return s.isTopModal(T())}),[s]),N=Ra((function(e){b.current=e,e&&(m&&R()?C():k.current&&Xy(k.current,E))})),P=i.useCallback((function(){s.remove(T(),E)}),[E,s]);i.useEffect((function(){return function(){P()}}),[P]),i.useEffect((function(){m?A():I&&l||P()}),[m,P,I,l,A]);var O=function(e){return function(t){var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&R()&&(r||(t.stopPropagation(),v&&v(t,"escapeKeyDown")))}},D=function(e){return function(t){var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&v&&v(t,"backdropClick")}};return{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=hy(e);delete n.onTransitionEnter,delete n.onTransitionExited;var r=Ge({},n,t);return Ge({role:"presentation"},r,{onKeyDown:O(r),ref:w})},getBackdropProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ge({"aria-hidden":!0},e,{onClick:D(e),open:m})},getTransitionProps:function(){return{onEnter:Yy((function(){_(!1),d&&d()}),null==p?void 0:p.props.onEnter),onExited:Yy((function(){_(!0),h&&h(),l&&P()}),null==p?void 0:p.props.onExited)}},rootRef:w,portalRef:N,isTopModal:R,exited:S,hasTransition:I}}var ag=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function og(e){var t=[],n=[];return Array.from(e.querySelectorAll(ag)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function ug(){return!0}function sg(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?og:c,f=e.isEnabled,d=void 0===f?ug:f,h=e.open,p=i.useRef(!1),v=i.useRef(null),m=i.useRef(null),y=i.useRef(null),g=i.useRef(null),b=i.useRef(!1),k=i.useRef(null),w=Ea(t.ref,k),x=i.useRef(null);i.useEffect((function(){h&&k.current&&(b.current=!r)}),[r,h]),i.useEffect((function(){if(h&&k.current){var e=Bv(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[h]),i.useEffect((function(){if(h&&k.current){var e=Bv(k.current),t=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())},n=function(){var t=k.current;if(null!==t)if(e.hasFocus()&&d()&&!p.current){if(!t.contains(e.activeElement)&&(!o||e.activeElement===v.current||e.activeElement===m.current)){if(e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(b.current){var n=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(n=l(k.current)),n.length>0){var r,i,a=Boolean((null==(r=x.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=x.current)?void 0:i.key)),u=n[0],s=n[n.length-1];"string"!==typeof u&&"string"!==typeof s&&(a?s.focus():u.focus())}else t.focus()}}}else p.current=!1};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}}),[r,o,s,d,h,l]);var S=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,Hi.jsxs)(i.Fragment,{children:[(0,Hi.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:v,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,Hi.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:m,"data-testid":"sentinelEnd"})]})}var cg=i.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,o=void 0!==a&&a,u=f(i.useState(null),2),s=u[0],c=u[1],l=Ea(i.isValidElement(n)?n.ref:null,t);if(Ca((function(){o||c(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),Ca((function(){if(s&&!o)return Ia(t,s),function(){Ia(t,null)}}),[t,s,o]),o){if(i.isValidElement(n)){var d={ref:l};return i.cloneElement(n,d)}return(0,Hi.jsx)(i.Fragment,{children:n})}return(0,Hi.jsx)(i.Fragment,{children:s?Vv.createPortal(n,s):s})}));var lg=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],fg={entering:{opacity:1},entered:{opacity:1}},dg=i.forwardRef((function(e,t){var n=da(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,d=e.onEntered,h=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?r:g,k=e.TransitionComponent,w=void 0===k?Vy:k,x=Ke(e,lg),S=i.useRef(null),_=Ta(S,s.ref,t),I=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},E=I(h),T=I((function(e,t){By(e);var r=qy({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),f&&f(e,t)})),C=I(d),A=I(m),R=I((function(e){var t=qy({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),N=I(v);return(0,Hi.jsx)(w,Ge({appear:u,in:l,nodeRef:S,onEnter:T,onEntered:C,onEntering:E,onExit:R,onExited:N,onExiting:A,addEndListener:function(e){a&&a(S.current,e)},timeout:b},x,{children:function(e,t){return i.cloneElement(s,Ge({style:Ge({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},fg[e],y,s.props.style),ref:_},t))}}))})),hg=dg;function pg(e){return Wi("MuiBackdrop",e)}Ki("MuiBackdrop",["root","invisible"]);var vg=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],mg=Pi("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return Ge({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),yg=i.forwardRef((function(e,t){var n,r,i,a=Ui({props:e,name:"MuiBackdrop"}),o=a.children,u=a.className,s=a.component,c=void 0===s?"div":s,l=a.components,f=void 0===l?{}:l,d=a.componentsProps,h=void 0===d?{}:d,p=a.invisible,v=void 0!==p&&p,m=a.open,y=a.slotProps,g=void 0===y?{}:y,b=a.slots,k=void 0===b?{}:b,w=a.TransitionComponent,x=void 0===w?hg:w,S=a.transitionDuration,_=Ke(a,vg),I=Ge({},a,{component:c,invisible:v}),E=function(e){var t=e.classes;return $e({root:["root",e.invisible&&"invisible"]},pg,t)}(I),T=null!=(n=g.root)?n:h.root;return(0,Hi.jsx)(x,Ge({in:m,timeout:S},_,{children:(0,Hi.jsx)(mg,Ge({"aria-hidden":!0},T,{as:null!=(r=null!=(i=k.root)?i:f.Root)?r:c,className:Qe(E.root,u,null==T?void 0:T.className),ownerState:Ge({},I,null==T?void 0:T.ownerState),classes:E,ref:t,children:o}))}))}));function gg(e){return Wi("MuiModal",e)}Ki("MuiModal",["root","hidden","backdrop"]);var bg=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],kg=Pi("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Ge({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),wg=Pi(yg,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),xg=i.forwardRef((function(e,t){var n,r,a,o,u,s,c=Ui({name:"MuiModal",props:e}),l=c.BackdropComponent,f=void 0===l?wg:l,d=c.BackdropProps,h=c.className,p=c.closeAfterTransition,v=void 0!==p&&p,m=c.children,y=c.container,g=c.component,b=c.components,k=void 0===b?{}:b,w=c.componentsProps,x=void 0===w?{}:w,S=c.disableAutoFocus,_=void 0!==S&&S,I=c.disableEnforceFocus,E=void 0!==I&&I,T=c.disableEscapeKeyDown,C=void 0!==T&&T,A=c.disablePortal,R=void 0!==A&&A,N=c.disableRestoreFocus,P=void 0!==N&&N,O=c.disableScrollLock,D=void 0!==O&&O,L=c.hideBackdrop,M=void 0!==L&&L,F=c.keepMounted,U=void 0!==F&&F,z=c.onBackdropClick,j=c.open,V=c.slotProps,B=c.slots,q=Ke(c,bg),W=Ge({},c,{closeAfterTransition:v,disableAutoFocus:_,disableEnforceFocus:E,disableEscapeKeyDown:C,disablePortal:R,disableRestoreFocus:P,disableScrollLock:D,hideBackdrop:M,keepMounted:U}),K=ig(Ge({},W,{rootRef:t})),G=K.getRootProps,H=K.getBackdropProps,Q=K.getTransitionProps,$=K.portalRef,Y=K.isTopModal,X=K.exited,J=K.hasTransition,Z=Ge({},W,{exited:X}),ee=function(e){var t=e.open,n=e.exited;return $e({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},gg,e.classes)}(Z),te={};if(void 0===m.props.tabIndex&&(te.tabIndex="-1"),J){var ne=Q(),re=ne.onEnter,ie=ne.onExited;te.onEnter=re,te.onExited=ie}var ae=null!=(n=null!=(r=null==B?void 0:B.root)?r:k.Root)?n:kg,oe=null!=(a=null!=(o=null==B?void 0:B.backdrop)?o:k.Backdrop)?a:f,ue=null!=(u=null==V?void 0:V.root)?u:x.root,se=null!=(s=null==V?void 0:V.backdrop)?s:x.backdrop,ce=my({elementType:ae,externalSlotProps:ue,externalForwardedProps:q,getSlotProps:G,additionalProps:{ref:t,as:g},ownerState:Z,className:Qe(h,null==ue?void 0:ue.className,null==ee?void 0:ee.root,!Z.open&&Z.exited&&(null==ee?void 0:ee.hidden))}),le=my({elementType:oe,externalSlotProps:se,additionalProps:d,getSlotProps:function(e){return H(Ge({},e,{onClick:function(t){z&&z(t),null!=e&&e.onClick&&e.onClick(t)}}))},className:Qe(null==se?void 0:se.className,null==d?void 0:d.className,null==ee?void 0:ee.backdrop),ownerState:Z});return U||j||J&&!X?(0,Hi.jsx)(cg,{ref:$,container:y,disablePortal:R,children:(0,Hi.jsxs)(ae,Ge({},ce,{children:[!M&&f?(0,Hi.jsx)(oe,Ge({},le)):null,(0,Hi.jsx)(sg,{disableEnforceFocus:E,disableAutoFocus:_,disableRestoreFocus:P,isEnabled:Y,open:j,children:i.cloneElement(m,te)})]}))}):null})),Sg=xg;function _g(e){return Wi("MuiPopover",e)}Ki("MuiPopover",["root","paper"]);var Ig=["onEntering"],Eg=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Tg=["slotProps"];function Cg(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ag(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Rg(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Ng(e){return"function"===typeof e?e():e}var Pg=Pi(Sg,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Og=Pi(Xi,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Dg=i.forwardRef((function(e,t){var n,r,a,o=Ui({props:e,name:"MuiPopover"}),u=o.action,s=o.anchorEl,c=o.anchorOrigin,l=void 0===c?{vertical:"top",horizontal:"left"}:c,d=o.anchorPosition,h=o.anchorReference,p=void 0===h?"anchorEl":h,v=o.children,m=o.className,y=o.container,g=o.elevation,b=void 0===g?8:g,k=o.marginThreshold,w=void 0===k?16:k,x=o.open,S=o.PaperProps,_=void 0===S?{}:S,I=o.slots,E=o.slotProps,T=o.transformOrigin,C=void 0===T?{vertical:"top",horizontal:"left"}:T,A=o.TransitionComponent,R=void 0===A?$y:A,N=o.transitionDuration,P=void 0===N?"auto":N,O=o.TransitionProps,D=(void 0===O?{}:O).onEntering,L=o.disableScrollLock,M=void 0!==L&&L,F=Ke(o.TransitionProps,Ig),U=Ke(o,Eg),z=null!=(n=null==E?void 0:E.paper)?n:_,j=i.useRef(),V=Ta(j,z.ref),B=Ge({},o,{anchorOrigin:l,anchorReference:p,elevation:b,marginThreshold:w,externalPaperSlotProps:z,transformOrigin:C,TransitionComponent:R,transitionDuration:P,TransitionProps:F}),q=function(e){return $e({root:["root"],paper:["paper"]},_g,e.classes)}(B),W=i.useCallback((function(){if("anchorPosition"===p)return d;var e=Ng(s),t=(e&&1===e.nodeType?e:dy(j.current).body).getBoundingClientRect();return{top:t.top+Cg(t,l.vertical),left:t.left+Ag(t,l.horizontal)}}),[s,l.horizontal,l.vertical,d,p]),K=i.useCallback((function(e){return{vertical:Cg(e,C.vertical),horizontal:Ag(e,C.horizontal)}}),[C.horizontal,C.vertical]),G=i.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=K(t);if("none"===p)return{top:null,left:null,transformOrigin:Rg(n)};var r=W(),i=r.top-n.vertical,a=r.left-n.horizontal,o=i+t.height,u=a+t.width,c=Py(Ng(s)),l=c.innerHeight-w,f=c.innerWidth-w;if(null!==w&&i<w){var d=i-w;i-=d,n.vertical+=d}else if(null!==w&&o>l){var h=o-l;i-=h,n.vertical+=h}if(null!==w&&a<w){var v=a-w;a-=v,n.horizontal+=v}else if(u>f){var m=u-f;a-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:Rg(n)}}),[s,p,W,K,w]),H=f(i.useState(x),2),Q=H[0],$=H[1],Y=i.useCallback((function(){var e=j.current;if(e){var t=G(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,$(!0)}}),[G]);i.useEffect((function(){return M&&window.addEventListener("scroll",Y),function(){return window.removeEventListener("scroll",Y)}}),[s,M,Y]);i.useEffect((function(){x&&Y()})),i.useImperativeHandle(u,(function(){return x?{updatePosition:function(){Y()}}:null}),[x,Y]),i.useEffect((function(){if(x){var e=Ny((function(){Y()})),t=Py(s);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[s,x,Y]);var X=P;"auto"!==P||R.muiSupportAuto||(X=void 0);var J=y||(s?dy(Ng(s)).body:void 0),Z=null!=(r=null==I?void 0:I.root)?r:Pg,ee=null!=(a=null==I?void 0:I.paper)?a:Og,te=my({elementType:ee,externalSlotProps:Ge({},z,{style:Q?z.style:Ge({},z.style,{opacity:0})}),additionalProps:{elevation:b,ref:V},ownerState:B,className:Qe(q.paper,null==z?void 0:z.className)}),ne=my({elementType:Z,externalSlotProps:(null==E?void 0:E.root)||{},externalForwardedProps:U,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:J,open:x},ownerState:B,className:Qe(q.root,m)}),re=ne.slotProps,ie=Ke(ne,Tg);return(0,Hi.jsx)(Z,Ge({},ie,!Yv(Z)&&{slotProps:re,disableScrollLock:M},{children:(0,Hi.jsx)(R,Ge({appear:!0,in:x,onEntering:function(e,t){D&&D(e,t),Y()},onExited:function(){$(!1)},timeout:X},F,{children:(0,Hi.jsx)(ee,Ge({},te,{children:v}))}))}))}));function Lg(e){return Wi("MuiMenu",e)}Ki("MuiMenu",["root","paper","list"]);var Mg=["onEntering"],Fg=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Ug={vertical:"top",horizontal:"right"},zg={vertical:"top",horizontal:"left"},jg=Pi(Dg,{shouldForwardProp:function(e){return Ri(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Vg=Pi(Og,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Bg=Pi(Ry,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),qg=i.forwardRef((function(e,t){var n,r,a=Ui({props:e,name:"MuiMenu"}),o=a.autoFocus,u=void 0===o||o,s=a.children,c=a.className,l=a.disableAutoFocusItem,f=void 0!==l&&l,d=a.MenuListProps,h=void 0===d?{}:d,p=a.onClose,v=a.open,m=a.PaperProps,y=void 0===m?{}:m,g=a.PopoverClasses,b=a.transitionDuration,k=void 0===b?"auto":b,w=a.TransitionProps,x=(void 0===w?{}:w).onEntering,S=a.variant,_=void 0===S?"selectedMenu":S,I=a.slots,E=void 0===I?{}:I,T=a.slotProps,C=void 0===T?{}:T,A=Ke(a.TransitionProps,Mg),R=Ke(a,Fg),N=da(),P="rtl"===N.direction,O=Ge({},a,{autoFocus:u,disableAutoFocusItem:f,MenuListProps:h,onEntering:x,PaperProps:y,transitionDuration:k,TransitionProps:A,variant:_}),D=function(e){return $e({root:["root"],paper:["paper"],list:["list"]},Lg,e.classes)}(O),L=u&&!f&&v,M=i.useRef(null),F=-1;i.Children.map(s,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===_&&e.props.selected||-1===F)&&(F=t))}));var U=null!=(n=E.paper)?n:Vg,z=null!=(r=C.paper)?r:y,j=my({elementType:E.root,externalSlotProps:C.root,ownerState:O,className:[D.root,c]}),V=my({elementType:U,externalSlotProps:z,ownerState:O,className:D.paper});return(0,Hi.jsx)(jg,Ge({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?Ug:zg,slots:{paper:U,root:E.root},slotProps:{root:j,paper:V},open:v,ref:t,transitionDuration:k,TransitionProps:Ge({onEntering:function(e,t){M.current&&M.current.adjustStyleForScrollbar(e,N),x&&x(e,t)}},A),ownerState:O},R,{classes:g,children:(0,Hi.jsx)(Bg,Ge({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:M,autoFocus:u&&(-1===F||f),autoFocusItem:L,variant:_},h,{className:Qe(D.list,h.className),children:s}))}))})),Wg=qg;function Kg(e){return Wi("MuiNativeSelect",e)}var Gg=Ki("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Hg=["className","disabled","error","IconComponent","inputRef","variant"],Qg=function(e){var t,n=e.ownerState,r=e.theme;return Ge((Nn(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Ge({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},"&.".concat(Gg.disabled),{cursor:"default"}),Nn(t,"&[multiple]",{height:"auto"}),Nn(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),Nn(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},$g=Pi("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ri,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],n.error&&t.error,Nn({},"&.".concat(Gg.multiple),t.multiple)]}})(Qg),Yg=function(e){var t=e.ownerState,n=e.theme;return Ge(Nn({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(Gg.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Xg=Pi("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(zi(n.variant))],n.open&&t.iconOpen]}})(Yg),Jg=i.forwardRef((function(e,t){var n=e.className,r=e.disabled,a=e.error,o=e.IconComponent,u=e.inputRef,s=e.variant,c=void 0===s?"standard":s,l=Ke(e,Hg),f=Ge({},e,{disabled:r,variant:c,error:a}),d=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return $e({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(zi(n)),a&&"iconOpen",r&&"disabled"]},Kg,t)}(f);return(0,Hi.jsxs)(i.Fragment,{children:[(0,Hi.jsx)($g,Ge({ownerState:f,className:Qe(d.select,n),disabled:r,ref:u||t},l)),e.multiple?null:(0,Hi.jsx)(Xg,{as:o,ownerState:f,className:d.icon})]})})),Zg=Jg;var eb=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,i.useRef(void 0!==t).current),a=f(i.useState(n),2),o=a[0],u=a[1];return[r?t:o,i.useCallback((function(e){r||u(e)}),[])]};function tb(e){return Wi("MuiSelect",e)}var nb,rb=Ki("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ib=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ab=Pi("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Nn({},"&.".concat(rb.select),t.select),Nn({},"&.".concat(rb.select),t[n.variant]),Nn({},"&.".concat(rb.error),t.error),Nn({},"&.".concat(rb.multiple),t.multiple)]}})(Qg,Nn({},"&.".concat(rb.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),ob=Pi("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(zi(n.variant))],n.open&&t.iconOpen]}})(Yg),ub=Pi("input",{shouldForwardProp:function(e){return Ni(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function sb(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function cb(e){return null==e||"string"===typeof e&&!e.trim()}var lb=i.forwardRef((function(e,t){var n,r=e["aria-describedby"],a=e["aria-label"],o=e.autoFocus,u=e.autoWidth,s=e.children,c=e.className,l=e.defaultOpen,d=e.defaultValue,h=e.disabled,p=e.displayEmpty,v=e.error,m=void 0!==v&&v,y=e.IconComponent,g=e.inputRef,b=e.labelId,k=e.MenuProps,w=void 0===k?{}:k,x=e.multiple,S=e.name,_=e.onBlur,I=e.onChange,E=e.onClose,T=e.onFocus,C=e.onOpen,A=e.open,R=e.readOnly,N=e.renderValue,P=e.SelectDisplayProps,O=void 0===P?{}:P,D=e.tabIndex,L=e.value,M=e.variant,F=void 0===M?"standard":M,U=Ke(e,ib),z=f(eb({controlled:L,default:d,name:"Select"}),2),j=z[0],V=z[1],B=f(eb({controlled:A,default:l,name:"Select"}),2),q=B[0],W=B[1],K=i.useRef(null),G=i.useRef(null),H=f(i.useState(null),2),Q=H[0],$=H[1],Y=i.useRef(null!=A).current,X=f(i.useState(),2),J=X[0],Z=X[1],ee=Ta(t,g),te=i.useCallback((function(e){G.current=e,e&&$(e)}),[]),ne=null==Q?void 0:Q.parentNode;i.useImperativeHandle(ee,(function(){return{focus:function(){G.current.focus()},node:K.current,value:j}}),[j]),i.useEffect((function(){l&&q&&Q&&!Y&&(Z(u?null:ne.clientWidth),G.current.focus())}),[Q,u]),i.useEffect((function(){o&&G.current.focus()}),[o]),i.useEffect((function(){if(b){var e=dy(G.current).getElementById(b);if(e){var t=function(){getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[b]);var re,ie,ae=function(e,t){e?C&&C(t):E&&E(t),Y||(Z(u?null:ne.clientWidth),W(e))},oe=i.Children.toArray(s),ue=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(j)?j.slice():[];var r=j.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==n&&(V(n),I)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:S}}),I(a,e)}x||ae(!1,t)}}},se=null!==Q&&q;delete U["aria-invalid"];var ce=[],le=!1;(am({value:j})||p)&&(N?re=N(j):le=!0);var fe=oe.map((function(e){if(!i.isValidElement(e))return null;var t;if(x){if(!Array.isArray(j))throw new Error(Vn(2));t=j.some((function(t){return sb(t,e.props.value)})),t&&le&&ce.push(e.props.children)}else(t=sb(j,e.props.value))&&le&&(ie=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));le&&(re=x?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):ie);var de,he=J;!u&&Y&&Q&&(he=ne.clientWidth),de="undefined"!==typeof D?D:h?null:0;var pe=O.id||(S?"mui-component-select-".concat(S):void 0),ve=Ge({},e,{variant:F,value:j,open:se,error:m}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return $e({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(zi(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},tb,t)}(ve),ye=Ge({},w.PaperProps,null==(n=w.slotProps)?void 0:n.paper);return(0,Hi.jsxs)(i.Fragment,{children:[(0,Hi.jsx)(ab,Ge({ref:te,tabIndex:de,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":se?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[b,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!R){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ae(!0,e))}},onMouseDown:h||R?null:function(e){0===e.button&&(e.preventDefault(),G.current.focus(),ae(!0,e))},onBlur:function(e){!se&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:S}}),_(e))},onFocus:T},O,{ownerState:ve,className:Qe(O.className,me.select,c),id:pe,children:cb(re)?nb||(nb=(0,Hi.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,Hi.jsx)(ub,Ge({"aria-invalid":m,value:Array.isArray(j)?j.join(","):j,name:S,ref:K,"aria-hidden":!0,onChange:function(e){var t=oe.find((function(t){return t.props.value===e.target.value}));void 0!==t&&(V(t.props.value),I&&I(e,t))},tabIndex:-1,disabled:h,className:me.nativeInput,autoFocus:o,ownerState:ve},U)),(0,Hi.jsx)(ob,{as:y,className:me.icon,ownerState:ve}),(0,Hi.jsx)(Wg,Ge({id:"menu-".concat(S||""),anchorEl:ne,open:se,onClose:function(e){ae(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:Ge({"aria-labelledby":b,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0},w.MenuListProps),slotProps:{paper:Ge({},ye,{style:Ge({minWidth:he},null!=ye?ye.style:null)})},children:fe}))]})})),fb=lb,db=Av((0,Hi.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),hb=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],pb=["root"],vb={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return Ri(e)&&"variant"!==e},slot:"Root"},mb=Pi(xm,vb)(""),yb=Pi(Vm,vb)(""),gb=Pi(Rm,vb)(""),bb=i.forwardRef((function(e,t){var n=Ui({name:"MuiSelect",props:e}),r=n.autoWidth,a=void 0!==r&&r,o=n.children,u=n.classes,s=void 0===u?{}:u,c=n.className,l=n.defaultOpen,f=void 0!==l&&l,d=n.displayEmpty,h=void 0!==d&&d,p=n.IconComponent,v=void 0===p?db:p,m=n.id,y=n.input,g=n.inputProps,b=n.label,k=n.labelId,w=n.MenuProps,x=n.multiple,S=void 0!==x&&x,_=n.native,I=void 0!==_&&_,E=n.onClose,T=n.onOpen,C=n.open,A=n.renderValue,R=n.SelectDisplayProps,N=n.variant,P=void 0===N?"outlined":N,O=Ke(n,hb),D=I?Zg:fb,L=Xv({props:n,muiFormControl:Zv(),states:["variant","error"]}),M=L.variant||P,F=Ge({},n,{variant:M,classes:s}),U=function(e){return e.classes}(F),z=Ke(U,pb),j=y||{standard:(0,Hi.jsx)(mb,{ownerState:F}),outlined:(0,Hi.jsx)(yb,{label:b,ownerState:F}),filled:(0,Hi.jsx)(gb,{ownerState:F})}[M],V=Ta(t,j.ref);return(0,Hi.jsx)(i.Fragment,{children:i.cloneElement(j,Ge({inputComponent:D,inputProps:Ge({children:o,error:L.error,IconComponent:v,variant:M,type:void 0,multiple:S},I?{id:m}:{autoWidth:a,defaultOpen:f,displayEmpty:h,labelId:k,MenuProps:w,onClose:E,onOpen:T,open:C,renderValue:A,SelectDisplayProps:Ge({id:m},R)},g,{classes:g?Rn(z,g.classes):z},y?y.props.inputProps:{})},S&&I&&"outlined"===M?{notched:!0}:{},{ref:V,className:Qe(j.props.className,c,U.root)},!y&&{variant:M},O))})}));bb.muiName="Select";var kb=bb;function wb(e){return Wi("MuiTextField",e)}Ki("MuiTextField",["root"]);var xb,Sb=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],_b={standard:xm,filled:Rm,outlined:Vm},Ib=Pi(ay,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Eb=i.forwardRef((function(e,t){var n=Ui({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,f=n.disabled,d=void 0!==f&&f,h=n.error,p=void 0!==h&&h,v=n.FormHelperTextProps,m=n.fullWidth,y=void 0!==m&&m,g=n.helperText,b=n.id,k=n.InputLabelProps,w=n.inputProps,x=n.InputProps,S=n.inputRef,_=n.label,I=n.maxRows,E=n.minRows,T=n.multiline,C=void 0!==T&&T,A=n.name,R=n.onBlur,N=n.onChange,P=n.onFocus,O=n.placeholder,D=n.required,L=void 0!==D&&D,M=n.rows,F=n.select,U=void 0!==F&&F,z=n.SelectProps,j=n.type,V=n.value,B=n.variant,q=void 0===B?"outlined":B,W=Ke(n,Sb),K=Ge({},n,{autoFocus:a,color:c,disabled:d,error:p,fullWidth:y,multiline:C,required:L,select:U,variant:q}),G=function(e){return $e({root:["root"]},wb,e.classes)}(K);var H={};"outlined"===q&&(k&&"undefined"!==typeof k.shrink&&(H.notched=k.shrink),H.label=_),U&&(z&&z.native||(H.id=void 0),H["aria-describedby"]=void 0);var Q=jv(b),$=g&&Q?"".concat(Q,"-helper-text"):void 0,Y=_&&Q?"".concat(Q,"-label"):void 0,X=_b[q],J=(0,Hi.jsx)(X,Ge({"aria-describedby":$,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:y,multiline:C,name:A,rows:M,maxRows:I,minRows:E,type:j,value:V,id:Q,inputRef:S,onBlur:R,onChange:N,onFocus:P,placeholder:O,inputProps:w},H,x));return(0,Hi.jsxs)(Ib,Ge({className:Qe(G.root,u),disabled:d,error:p,fullWidth:y,ref:t,required:L,color:c,variant:q,ownerState:K},W,{children:[null!=_&&""!==_&&(0,Hi.jsx)(Zm,Ge({htmlFor:Q,id:Y},k,{children:_})),U?(0,Hi.jsx)(kb,Ge({"aria-describedby":$,id:Q,labelId:Y,value:V,input:J},z,{children:o})):J,g&&(0,Hi.jsx)(fy,Ge({id:$},v,{children:g}))]}))})),Tb=Eb,Cb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ab={},Rb=Rb||{},Nb=Cb||self;function Pb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ob(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Db="closure_uid_"+(1e9*Math.random()>>>0),Lb=0;function Mb(e,t,n){return e.call.apply(e.bind,arguments)}function Fb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ub(e,t,n){return(Ub=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mb:Fb).apply(null,arguments)}function zb(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function jb(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Vb(){this.s=this.s,this.o=this.o}Vb.prototype.s=!1,Vb.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Db)&&e[Db]||(e[Db]=++Lb))},Vb.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Bb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wb(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Pb(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Kb(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Kb.prototype.h=function(){this.defaultPrevented=!0};var Gb=function(){if(!Nb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Nb.addEventListener("test",(function(){}),t),Nb.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function Hb(e){return/^[\s\xa0]*$/.test(e)}function Qb(){var e=Nb.navigator;return e&&(e=e.userAgent)?e:""}function $b(e){return-1!=Qb().indexOf(e)}function Yb(e){return Yb[" "](e),e}Yb[" "]=function(){};var Xb,Jb,Zb=$b("Opera"),ek=$b("Trident")||$b("MSIE"),tk=$b("Edge"),nk=tk||ek,rk=$b("Gecko")&&!(-1!=Qb().toLowerCase().indexOf("webkit")&&!$b("Edge"))&&!($b("Trident")||$b("MSIE"))&&!$b("Edge"),ik=-1!=Qb().toLowerCase().indexOf("webkit")&&!$b("Edge");function ak(){var e=Nb.document;return e?e.documentMode:void 0}e:{var ok="",uk=function(){var e=Qb();return rk?/rv:([^\);]+)(\)|;)/.exec(e):tk?/Edge\/([\d\.]+)/.exec(e):ek?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ik?/WebKit\/(\S+)/.exec(e):Zb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(uk&&(ok=uk?uk[1]:""),ek){var sk=ak();if(null!=sk&&sk>parseFloat(ok)){Xb=String(sk);break e}}Xb=ok}if(Nb.document&&ek){var ck=ak();Jb=ck||(parseInt(Xb,10)||void 0)}else Jb=void 0;var lk=Jb;function fk(e,t){if(Kb.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(rk){e:{try{Yb(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:dk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&fk.$.h.call(this)}}jb(fk,Kb);var dk={2:"touch",3:"pen",4:"mouse"};fk.prototype.h=function(){fk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hk="closure_listenable_"+(1e6*Math.random()|0),pk=0;function vk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++pk,this.fa=this.ia=!1}function mk(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function yk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function gk(e){var t={};for(var n in e)t[n]=e[n];return t}var bk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bk.length;a++)n=bk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wk(e){this.src=e,this.g={},this.h=0}function xk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Bb(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mk(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Sk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}wk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Sk(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new vk(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var _k="closure_lm_"+(1e6*Math.random()|0),Ik={};function Ek(e,t,n,r,i){if(r&&r.once)return Ck(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ek(e,t[a],n,r,i);return null}return n=Lk(n),e&&e[hk]?e.O(t,n,Ob(r)?!!r.capture:!!r,i):Tk(e,t,n,!1,r,i)}function Tk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ob(i)?!!i.capture:!!i,u=Ok(e);if(u||(e[_k]=u=new wk(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Pk;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gb||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Nk(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ck(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ck(e,t[a],n,r,i);return null}return n=Lk(n),e&&e[hk]?e.P(t,n,Ob(r)?!!r.capture:!!r,i):Tk(e,t,n,!0,r,i)}function Ak(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ak(e,t[a],n,r,i);else r=Ob(r)?!!r.capture:!!r,n=Lk(n),e&&e[hk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Sk(a=e.g[t],n,r,i))&&(mk(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ok(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Sk(t,n,r,i)),(n=-1<e?t[e]:null)&&Rk(n))}function Rk(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[hk])xk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Nk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ok(t))?(xk(n,e),0==n.h&&(n.src=null,t[_k]=null)):mk(e)}}}function Nk(e){return e in Ik?Ik[e]:Ik[e]="on"+e}function Pk(e,t){if(e.fa)e=!0;else{t=new fk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Rk(e),e=n.call(r,t)}return e}function Ok(e){return(e=e[_k])instanceof wk?e:null}var Dk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lk(e){return"function"===typeof e?e:(e[Dk]||(e[Dk]=function(t){return e.handleEvent(t)}),e[Dk])}function Mk(){Vb.call(this),this.i=new wk(this),this.S=this,this.J=null}function Fk(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Kb(t,e);else if(t instanceof Kb)t.target=t.target||e;else{var i=t;kk(t=new Kb(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Uk(o,r,!0,t)&&i}if(i=Uk(o=t.g=e,r,!0,t)&&i,i=Uk(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Uk(o=t.g=n[a],r,!1,t)&&i}function Uk(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&xk(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}jb(Mk,Vb),Mk.prototype[hk]=!0,Mk.prototype.removeEventListener=function(e,t,n,r){Ak(this,e,t,n,r)},Mk.prototype.N=function(){if(Mk.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mk(n[r]);delete t.g[e],t.h--}}this.J=null},Mk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Mk.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zk=Nb.JSON.stringify,jk=function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return g(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Vk(){var e=$k,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Bk=function(){function e(){p(this,e),this.h=this.g=null}return g(e,[{key:"add",value:function(e,t){var n=qk.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),qk=new jk((function(){return new Wk}),(function(e){return e.reset()})),Wk=function(){function e(){p(this,e),this.next=this.g=this.h=null}return g(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Kk(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Gk(e){Nb.setTimeout((function(){throw e}),0)}var Hk,Qk=!1,$k=new Bk,Yk=function(){var e=Nb.Promise.resolve(void 0);Hk=function(){e.then(Xk)}},Xk=function(){for(var e;e=Vk();){try{e.h.call(e.g)}catch(n){Gk(n)}var t=qk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qk=!1};function Jk(e,t){Mk.call(this),this.h=e||1,this.g=t||Nb,this.j=Ub(this.qb,this),this.l=Date.now()}function Zk(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ew(e,t,n){if("function"===typeof e)n&&(e=Ub(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ub(e.handleEvent,e)}return 2147483647<Number(t)?-1:Nb.setTimeout(e,t||0)}function tw(e){e.g=ew((function(){e.g=null,e.i&&(e.i=!1,tw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}jb(Jk,Mk),(xb=Jk.prototype).ga=!1,xb.T=null,xb.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fk(this,"tick"),this.ga&&(Zk(this),this.start()))}},xb.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xb.N=function(){Jk.$.N.call(this),Zk(this),delete this.g};var nw=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return g(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:tw(this)}},{key:"N",value:function(){Lo(w(n.prototype),"N",this).call(this),this.g&&(Nb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Vb);function rw(e){Vb.call(this),this.h=e,this.g={}}jb(rw,Vb);var iw=[];function aw(e,t,n,r){Array.isArray(n)||(n&&(iw[0]=n.toString()),n=iw);for(var i=0;i<n.length;i++){var a=Ek(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ow(e){yk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rk(e)}),e),e.g={}}function uw(){this.g=!0}function sw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return zk(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}rw.prototype.N=function(){rw.$.N.call(this),ow(this)},rw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uw.prototype.Ea=function(){this.g=!1},uw.prototype.info=function(){};var cw={},lw=null;function fw(){return lw=lw||new Mk}function dw(e){Kb.call(this,cw.Ta,e)}function hw(e){var t=fw();Fk(t,new dw(t))}function pw(e,t){Kb.call(this,cw.STAT_EVENT,e),this.stat=t}function vw(e){var t=fw();Fk(t,new pw(t,e))}function mw(e,t){Kb.call(this,cw.Ua,e),this.size=t}function yw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Nb.setTimeout((function(){e()}),t)}cw.Ta="serverreachability",jb(dw,Kb),cw.STAT_EVENT="statevent",jb(pw,Kb),cw.Ua="timingevent",jb(mw,Kb);var gw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kw(){}function ww(e){return e.h||(e.h=e.i())}function xw(){}kw.prototype.h=null;var Sw,_w={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Iw(){Kb.call(this,"d")}function Ew(){Kb.call(this,"c")}function Tw(){}function Cw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new rw(this),this.P=Rw,e=nk?125:void 0,this.V=new Jk(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Aw}function Aw(){this.i=null,this.g="",this.h=!1}jb(Iw,Kb),jb(Ew,Kb),jb(Tw,kw),Tw.prototype.g=function(){return new XMLHttpRequest},Tw.prototype.i=function(){return{}},Sw=new Tw;var Rw=45e3,Nw={},Pw={};function Ow(e,t,n){e.L=1,e.v=Jw(Hw(t)),e.s=n,e.S=!0,Dw(e,null)}function Dw(e,t){e.G=Date.now(),Uw(e),e.A=Hw(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),fx(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Aw,e.g=dS(e.l,n?t:null,!e.s),0<e.O&&(e.M=new nw(Ub(e.Pa,e,e.g),e.O)),aw(e.U,e.g,"readystatechange",e.nb),t=e.I?gk(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),hw(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Lw(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Mw(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Fw(e,n))==Pw){4==t&&(e.o=4,vw(14),i=!1),sw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Nw){e.o=4,vw(15),sw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}sw(e.j,e.m,r,null),qw(e,r)}Lw(e)&&r!=Pw&&r!=Nw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,vw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iS(t),t.M=!0,vw(11))):(sw(e.j,e.m,n,"[Invalid Chunked Response]"),Bw(e),Vw(e))}function Fw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Pw:(n=Number(t.substring(n,r)),isNaN(n)?Nw:(r+=1)+n>t.length?Pw:(t=t.slice(r,r+n),e.C=r+n,t))}function Uw(e){e.Y=Date.now()+e.P,zw(e,e.P)}function zw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=yw(Ub(e.lb,e),t)}function jw(e){e.B&&(Nb.clearTimeout(e.B),e.B=null)}function Vw(e){0==e.l.H||e.J||uS(e.l,e)}function Bw(e){jw(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Zk(e.V),ow(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function qw(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||gx(n.i,e)))if(!e.K&&gx(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;oS(n),Yx(n)}rS(n),vw(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=yw(Ub(n.ib,n),6e3));if(1>=yx(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else cS(n,11)}else if((e.K||n.g==e)&&oS(n),!Hb(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(bx(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,Xw(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=fS(r,r.J?r.pa:null,r.Y),h.K){kx(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(jw(p),Uw(p)),r.g=h}else nS(r);0<n.j.length&&Jx(n)}else"stop"!=a[0]&&"close"!=a[0]||cS(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?cS(n,7):$x(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}hw()}catch(a){}}function Ww(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pb(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Pb(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Pb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(xb=Cw.prototype).setTimeout=function(e){this.P=e},xb.nb=function(e){e=e.target;var t=this.M;t&&3==qx(e)?t.l():this.Pa(e)},xb.Pa=function(e){try{if(e==this.g)e:{var t=qx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||nk||this.g&&(this.h.h||this.g.ja()||Wx(this.g)))){this.J||4!=t||7==n||hw(),jw(this);var r=this.g.da();this.ca=r;t:if(Lw(this)){var i=Wx(this.g);e="";var a=i.length,o=4==qx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bw(this),Vw(this);var u="";break t}this.h.i=new Nb.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hb(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,vw(12),Bw(this),Vw(this);break e}sw(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qw(this,r)}this.S?(Mw(this,t,u),nk&&this.i&&3==t&&(aw(this.U,this.V,"tick",this.mb),this.V.start())):(sw(this.j,this.m,u,null),qw(this,u)),4==t&&Bw(this),this.i&&!this.J&&(4==t?uS(this.l,this):(this.i=!1,Uw(this)))}else(function(e){var t={};e=(e.g&&2<=qx(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Hb(e[n])){var r=Kk(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,vw(12)):(this.o=0,vw(13)),Bw(this),Vw(this)}}}catch(t){}},xb.mb=function(){if(this.g){var e=qx(this.g),t=this.g.ja();this.C<t.length&&(jw(this),Mw(this,e,t),this.i&&4!=e&&Uw(this))}},xb.cancel=function(){this.J=!0,Bw(this)},xb.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(hw(),vw(17)),Bw(this),this.o=2,Vw(this)):zw(this,this.Y-e)};var Kw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gw(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Gw){this.h=e.h,Qw(this,e.j),this.s=e.s,this.g=e.g,$w(this,e.m),this.l=e.l;var t=e.i,n=new ux;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Yw(this,n),this.o=e.o}else e&&(t=String(e).match(Kw))?(this.h=!1,Qw(this,t[1]||"",!0),this.s=Zw(t[2]||""),this.g=Zw(t[3]||"",!0),$w(this,t[4]),this.l=Zw(t[5]||"",!0),Yw(this,t[6]||"",!0),this.o=Zw(t[7]||"")):(this.h=!1,this.i=new ux(null,this.h))}function Hw(e){return new Gw(e)}function Qw(e,t,n){e.j=n?Zw(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function $w(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Yw(e,t,n){t instanceof ux?(e.i=t,function(e,t){t&&!e.j&&(sx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(cx(this,t),fx(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ex(t,ax)),e.i=new ux(t,e.h))}function Xw(e,t,n){e.i.set(t,n)}function Jw(e){return Xw(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Zw(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ex(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,tx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gw.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ex(t,nx,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ex(t,nx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ex(n,"/"==n.charAt(0)?ix:rx,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ex(n,ox)),e.join("")};var nx=/[#\/\?@]/g,rx=/[#\?:]/g,ix=/[#\?]/g,ax=/[#\?@]/g,ox=/#/g;function ux(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function sx(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function cx(e,t){sx(e),t=dx(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function lx(e,t){return sx(e),t=dx(e,t),e.g.has(t)}function fx(e,t,n){cx(e,t),0<n.length&&(e.i=null,e.g.set(dx(e,t),qb(n)),e.h+=n.length)}function dx(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xb=ux.prototype).add=function(e,t){sx(this),this.i=null,e=dx(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xb.forEach=function(e,t){sx(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xb.ta=function(){sx(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xb.Z=function(e){sx(this);var t=[];if("string"===typeof e)lx(this,e)&&(t=t.concat(this.g.get(dx(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},xb.set=function(e,t){return sx(this),this.i=null,lx(this,e=dx(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xb.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},xb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var hx=g((function e(t,n){p(this,e),this.g=t,this.map=n}));function px(e){this.l=e||vx,Nb.PerformanceNavigationTiming?e=0<(e=Nb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Nb.g&&Nb.g.Ka&&Nb.g.Ka()&&Nb.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var vx=10;function mx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function yx(e){return e.h?1:e.g?e.g.size:0}function gx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function bx(e,t){e.g?e.g.add(t):e.h=t}function kx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function wx(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return qb(e.i)}px.prototype.cancel=function(){if(this.i=wx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var xx,Sx=function(){function e(){p(this,e)}return g(e,[{key:"stringify",value:function(e){return Nb.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Nb.JSON.parse(e,void 0)}}]),e}();function _x(){this.g=new Sx}function Ix(e,t,n){var r=n||"";try{Ww(e,(function(e,n){var i=e;Ob(e)&&(i=zk(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ex(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Tx(e){this.l=e.ec||null,this.j=e.ob||!1}function Cx(e,t){Mk.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ax,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jb(Tx,kw),Tx.prototype.g=function(){return new Cx(this.l,this.j)},Tx.prototype.i=(xx={},function(){return xx}),jb(Cx,Mk);var Ax=0;function Rx(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Nx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Px(e)}function Px(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xb=Cx.prototype).open=function(e,t){if(this.readyState!=Ax)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Px(this)},xb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Nb).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},xb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nx(this)),this.readyState=Ax},xb.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Px(this)),this.g&&(this.readyState=3,Px(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Nb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rx(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},xb.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nx(this):Px(this),3==this.readyState&&Rx(this)}},xb.Za=function(e){this.g&&(this.response=this.responseText=e,Nx(this))},xb.Ya=function(e){this.g&&(this.response=e,Nx(this))},xb.ka=function(){this.g&&Nx(this)},xb.setRequestHeader=function(e,t){this.v.append(e,t)},xb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xb.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Cx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ox=Nb.JSON.parse;function Dx(e){Mk.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Lx,this.L=this.M=!1}jb(Dx,Mk);var Lx="",Mx=/^https?$/i,Fx=["POST","PUT"];function Ux(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zx(e),Vx(e)}function zx(e){e.F||(e.F=!0,Fk(e,"complete"),Fk(e,"error"))}function jx(e){if(e.h&&"undefined"!=typeof Rb&&(!e.C[1]||4!=qx(e)||2!=e.da()))if(e.v&&4==qx(e))ew(e.La,0,e);else if(Fk(e,"readystatechange"),4==qx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Kw)[1]||null;!a&&Nb.self&&Nb.self.location&&(a=Nb.self.location.protocol.slice(0,-1)),i=!Mx.test(a?a.toLowerCase():"")}t=i}if(t)Fk(e,"complete"),Fk(e,"success");else{e.m=6;try{var o=2<qx(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",zx(e)}}finally{Vx(e)}}}function Vx(e,t){if(e.g){Bx(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Fk(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Bx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Nb.clearTimeout(e.A),e.A=null)}function qx(e){return e.g?e.g.readyState:0}function Wx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Lx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(XS){return null}}function Kx(e){var t="";return yk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Gx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kx(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Xw(e,t,n))}function Hx(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qx(e){this.Ga=0,this.j=[],this.l=new uw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hx("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hx("baseRetryDelayMs",5e3,e),this.hb=Hx("retryDelaySeedMs",1e4,e),this.eb=Hx("forwardChannelMaxRetries",2,e),this.xa=Hx("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new px(e&&e.concurrentRequestLimit),this.Ja=new _x,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $x(e){if(Xx(e),3==e.H){var t=e.W++,n=Hw(e.I);if(Xw(n,"SID",e.K),Xw(n,"RID",t),Xw(n,"TYPE","terminate"),eS(e,n),(t=new Cw(e,e.l,t)).L=2,t.v=Jw(Hw(n)),n=!1,Nb.navigator&&Nb.navigator.sendBeacon)try{n=Nb.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Nb.Image&&((new Image).src=t.v,n=!0),n||(t.g=dS(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Uw(t)}lS(e)}function Yx(e){e.g&&(iS(e),e.g.cancel(),e.g=null)}function Xx(e){Yx(e),e.u&&(Nb.clearTimeout(e.u),e.u=null),oS(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Nb.clearTimeout(e.m),e.m=null)}function Jx(e){if(!mx(e.i)&&!e.m){e.m=!0;var t=e.Na;Hk||Yk(),Qk||(Hk(),Qk=!0),$k.add(t,e),e.C=0}}function Zx(e,t){var n;n=t?t.m:e.W++;var r=Hw(e.I);Xw(r,"SID",e.K),Xw(r,"RID",n),Xw(r,"AID",e.V),eS(e,r),e.o&&e.s&&Gx(r,e.o,e.s),n=new Cw(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=tS(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),bx(e.i,n),Ow(n,r,t)}function eS(e,t){e.na&&yk(e.na,(function(e,n){Xw(t,n,e)})),e.h&&Ww({},(function(e,n){Xw(t,n,e)}))}function tS(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ub(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Ix(l,o,"req"+c+"_")}catch(vI){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function nS(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Hk||Yk(),Qk||(Hk(),Qk=!0),$k.add(t,e),e.A=0}}function rS(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=yw(Ub(e.Ma,e),sS(e,e.A)),e.A++,!0)}function iS(e){null!=e.B&&(Nb.clearTimeout(e.B),e.B=null)}function aS(e){e.g=new Cw(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Hw(e.wa);Xw(t,"RID","rpc"),Xw(t,"SID",e.K),Xw(t,"AID",e.V),Xw(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Xw(t,"TO",e.qa),Xw(t,"TYPE","xmlhttp"),eS(e,t),e.o&&e.s&&Gx(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Jw(Hw(t)),n.s=null,n.S=!0,Dw(n,e)}function oS(e){null!=e.v&&(Nb.clearTimeout(e.v),e.v=null)}function uS(e,t){var n=null;if(e.g==t){oS(e),iS(e),e.g=null;var r=2}else{if(!gx(e.i,t))return;n=t.F,kx(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Fk(r=fw(),new mw(r,n)),Jx(e)}else nS(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(yx(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=yw(Ub(e.Na,e,t),sS(e,e.C)),e.C++,!0))}(e,t)||2==r&&rS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:cS(e,5);break;case 4:cS(e,10);break;case 3:cS(e,6);break;default:cS(e,2)}}function sS(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function cS(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ub(e.pb,e);n||(n=new Gw("//www.google.com/images/cleardot.gif"),Nb.location&&"http"==Nb.location.protocol||Qw(n,"https"),Jw(n)),function(e,t){var n=new uw;if(Nb.Image){var r=new Image;r.onload=zb(Ex,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zb(Ex,n,r,"TestLoadImage: error",!1,t),r.onabort=zb(Ex,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zb(Ex,n,r,"TestLoadImage: timeout",!1,t),Nb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else vw(2);e.H=0,e.h&&e.h.za(t),lS(e),Xx(e)}function lS(e){if(e.H=0,e.ma=[],e.h){var t=wx(e.i);0==t.length&&0==e.j.length||(Wb(e.ma,t),Wb(e.ma,e.j),e.i.i.length=0,qb(e.j),e.j.length=0),e.h.ya()}}function fS(e,t,n){var r=n instanceof Gw?Hw(n):new Gw(n);if(""!=r.g)t&&(r.g=t+"."+r.g),$w(r,r.m);else{var i=Nb.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Gw(null);r&&Qw(a,r),t&&(a.g=t),i&&$w(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Xw(r,n,t),Xw(r,"VER",e.ra),eS(e,r),r}function dS(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Dx(new Tx({ob:!0})):new Dx(e.va)).Oa(e.J),t}function hS(){}function pS(){if(ek&&!(10<=Number(lk)))throw Error("Environmental error: no available transport.")}function vS(e,t){Mk.call(this),this.g=new Qx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Hb(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Hb(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gS(this)}function mS(e){Iw.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yS(){Ew.call(this),this.status=1}function gS(e){this.g=e}function bS(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kS(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function wS(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(xb=Dx.prototype).Oa=function(e){this.M=e},xb.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sw.g(),this.C=this.u?ww(this.u):ww(Sw),this.g.onreadystatechange=Ub(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Ux(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Nb.FormData&&e instanceof Nb.FormData,!(0<=Bb(Fx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var l=f(s.value,2),d=l[0],h=l[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Bx(this),0<this.B&&((this.L=function(e){return ek&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ub(this.ua,this)):this.A=ew(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Ux(this,u)}},xb.ua=function(){"undefined"!=typeof Rb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fk(this,"timeout"),this.abort(8))},xb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Fk(this,"complete"),Fk(this,"abort"),Vx(this))},xb.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vx(this,!0)),Dx.$.N.call(this)},xb.La=function(){this.s||(this.G||this.v||this.l?jx(this):this.kb())},xb.kb=function(){jx(this)},xb.isActive=function(){return!!this.g},xb.da=function(){try{return 2<qx(this)?this.g.status:-1}catch(xx){return-1}},xb.ja=function(){try{return this.g?this.g.responseText:""}catch(xx){return""}},xb.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ox(t)}},xb.Ia=function(){return this.m},xb.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xb=Qx.prototype).ra=8,xb.H=1,xb.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Cw(this,this.l,e),n=this.s;if(this.U&&(n?kk(n=gk(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=tS(this,t,r),Xw(i=Hw(this.I),"RID",e),Xw(i,"CVER",22),this.F&&Xw(i,"X-HTTP-Session-Id",this.F),eS(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Kx(n)))+"&"+r:this.o&&Gx(i,this.o,n)),bx(this.i,t),this.bb&&Xw(i,"TYPE","init"),this.P?(Xw(i,"$req",r),Xw(i,"SID","null"),t.aa=!0,Ow(t,i,null)):Ow(t,i,r),this.H=2}}else 3==this.H&&(e?Zx(this,e):0==this.j.length||mx(this.i)||Zx(this))},xb.Ma=function(){if(this.u=null,aS(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=yw(Ub(this.jb,this),e)}},xb.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vw(10),Yx(this),aS(this))},xb.ib=function(){null!=this.v&&(this.v=null,Yx(this),rS(this),vw(19))},xb.pb=function(e){e?(this.l.info("Successfully pinged google.com"),vw(2)):(this.l.info("Failed to ping google.com"),vw(1))},xb.isActive=function(){return!!this.h&&this.h.isActive(this)},(xb=hS.prototype).Ba=function(){},xb.Aa=function(){},xb.za=function(){},xb.ya=function(){},xb.isActive=function(){return!0},xb.Va=function(){},pS.prototype.g=function(e,t){return new vS(e,t)},jb(vS,Mk),vS.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;vw(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=fS(e,null,e.Y),Jx(e)},vS.prototype.close=function(){$x(this.g)},vS.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=zk(e),e=n);t.j.push(new hx(t.fb++,e)),3==t.H&&Jx(t)},vS.prototype.N=function(){this.g.h=null,delete this.j,$x(this.g),delete this.g,vS.$.N.call(this)},jb(mS,Iw),jb(yS,Ew),jb(gS,hS),gS.prototype.Ba=function(){Fk(this.g,"a")},gS.prototype.Aa=function(e){Fk(this.g,new mS(e))},gS.prototype.za=function(e){Fk(this.g,new yS)},gS.prototype.ya=function(){Fk(this.g,"b")},jb(bS,(function(){this.blockSize=-1})),bS.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bS.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)kS(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){kS(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){kS(this,r),i=0;break}}this.h=i,this.i+=t},bS.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var xS={};function SS(e){return-128<=e&&128>e?function(e,t){var n=xS;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new wS([0|e],0>e?-1:0)})):new wS([0|e],0>e?-1:0)}function _S(e){if(isNaN(e)||!isFinite(e))return ES;if(0>e)return NS(_S(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=IS;return new wS(t,0)}var IS=4294967296,ES=SS(0),TS=SS(1),CS=SS(16777216);function AS(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function RS(e){return-1==e.h}function NS(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new wS(n,~e.h).add(TS)}function PS(e,t){return e.add(NS(t))}function OS(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function DS(e,t){this.g=e,this.h=t}function LS(e,t){if(AS(t))throw Error("division by zero");if(AS(e))return new DS(ES,ES);if(RS(e))return t=LS(NS(e),t),new DS(NS(t.g),NS(t.h));if(RS(t))return t=LS(e,NS(t)),new DS(NS(t.g),t.h);if(30<e.g.length){if(RS(e)||RS(t))throw Error("slowDivide_ only works with positive integers.");for(var n=TS,r=t;0>=r.X(e);)n=MS(n),r=MS(r);var i=FS(n,1),a=FS(r,1);for(r=FS(r,2),n=FS(n,2);!AS(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=FS(r,1),n=FS(n,1)}return t=PS(e,i.R(t)),new DS(i,t)}for(i=ES;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=_S(n)).R(t);RS(o)||0<o.X(e);)o=(a=_S(n-=r)).R(t);AS(a)&&(a=TS),i=i.add(a),e=PS(e,o)}return new DS(i,e)}function MS(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new wS(n,e.h)}function FS(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new wS(i,e.h)}(xb=wS.prototype).ea=function(){if(RS(this))return-NS(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:IS+r)*t,t*=IS}return e},xb.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(AS(this))return"0";if(RS(this))return"-"+NS(this).toString(e);for(var t=_S(Math.pow(e,6)),n=this,r="";;){var i=LS(n,t).g,a=((0<(n=PS(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(AS(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},xb.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},xb.X=function(e){return RS(e=PS(this,e))?-1:AS(e)?0:1},xb.abs=function(){return RS(this)?NS(this):this},xb.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new wS(n,-2147483648&n[n.length-1]?-1:0)},xb.R=function(e){if(AS(this)||AS(e))return ES;if(RS(this))return RS(e)?NS(this).R(NS(e)):NS(NS(this).R(e));if(RS(e))return NS(this.R(NS(e)));if(0>this.X(CS)&&0>e.X(CS))return _S(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,OS(n,2*r+2*i),n[2*r+2*i+1]+=a*s,OS(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,OS(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,OS(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new wS(n,0)},xb.gb=function(e){return LS(this,e).h},xb.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new wS(n,this.h&e.h)},xb.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new wS(n,this.h|e.h)},xb.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new wS(n,this.h^e.h)},pS.prototype.createWebChannel=pS.prototype.g,vS.prototype.send=vS.prototype.u,vS.prototype.open=vS.prototype.m,vS.prototype.close=vS.prototype.close,gw.NO_ERROR=0,gw.TIMEOUT=8,gw.HTTP_ERROR=6,bw.COMPLETE="complete",xw.EventType=_w,_w.OPEN="a",_w.CLOSE="b",_w.ERROR="c",_w.MESSAGE="d",Mk.prototype.listen=Mk.prototype.O,Dx.prototype.listenOnce=Dx.prototype.P,Dx.prototype.getLastError=Dx.prototype.Sa,Dx.prototype.getLastErrorCode=Dx.prototype.Ia,Dx.prototype.getStatus=Dx.prototype.da,Dx.prototype.getResponseJson=Dx.prototype.Wa,Dx.prototype.getResponseText=Dx.prototype.ja,Dx.prototype.send=Dx.prototype.ha,Dx.prototype.setWithCredentials=Dx.prototype.Oa,bS.prototype.digest=bS.prototype.l,bS.prototype.reset=bS.prototype.reset,bS.prototype.update=bS.prototype.j,wS.prototype.add=wS.prototype.add,wS.prototype.multiply=wS.prototype.R,wS.prototype.modulo=wS.prototype.gb,wS.prototype.compare=wS.prototype.X,wS.prototype.toNumber=wS.prototype.ea,wS.prototype.toString=wS.prototype.toString,wS.prototype.getBits=wS.prototype.D,wS.fromNumber=_S,wS.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return NS(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=_S(Math.pow(n,8)),i=ES,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=_S(Math.pow(n,o)),i=i.R(o).add(_S(u))):i=(i=i.R(r)).add(_S(u))}return i};var US=Ab.createWebChannelTransport=function(){return new pS},zS=Ab.getStatEventTarget=function(){return fw()},jS=Ab.ErrorCode=gw,VS=Ab.EventType=bw,BS=Ab.Event=cw,qS=Ab.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WS=(Ab.FetchXmlHttpFactory=Tx,Ab.WebChannel=xw),KS=Ab.XhrIo=Dx,GS=Ab.Md5=bS,HS=Ab.Integer=wS,QS="@firebase/firestore",$S=function(){function e(t){p(this,e),this.uid=t}return g(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();$S.UNAUTHENTICATED=new $S(null),$S.GOOGLE_CREDENTIALS=new $S("google-credentials-uid"),$S.FIRST_PARTY=new $S("first-party-uid"),$S.MOCK_USER=new $S("mock-user");var YS="10.4.0",XS=new Tu("@firebase/firestore");function JS(){return XS.logLevel}function ZS(e){if(XS.logLevel<=ku.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(n_);XS.debug.apply(XS,["Firestore (".concat(YS,"): ").concat(e)].concat(h(i)))}}function e_(e){if(XS.logLevel<=ku.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(n_);XS.error.apply(XS,["Firestore (".concat(YS,"): ").concat(e)].concat(h(i)))}}function t_(e){if(XS.logLevel<=ku.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(n_);XS.warn.apply(XS,["Firestore (".concat(YS,"): ").concat(e)].concat(h(i)))}}function n_(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function r_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(YS,") INTERNAL ASSERTION FAILED: ")+e;throw e_(t),new Error(t)}function i_(e,t){e||r_()}function a_(e,t){return e}var o_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u_=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return g(n)}(tu),s_=g((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),c_=g((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),l_=function(){function e(){p(this,e)}return g(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($S.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),f_=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return g(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),d_=function(){function e(t){p(this,e),this.t=t,this.currentUser=$S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new s_;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new s_,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ZS("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ZS("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new s_)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ZS("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(i_("string"==typeof n.accessToken),new c_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return i_(null===e||"string"==typeof e),new $S(e)}}]),e}(),h_=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=$S.FIRST_PARTY,this.I=new Map}return g(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),p_=function(){function e(t,n,r){p(this,e),this.l=t,this.h=n,this.P=r}return g(e,[{key:"getToken",value:function(){return Promise.resolve(new h_(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t($S.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),v_=g((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),m_=function(){function e(t){p(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return g(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ZS("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,ZS("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ZS("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):ZS("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(i_("string"==typeof t.token),e.R=t.token,new v_(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function y_(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var g_=function(){function e(){p(this,e)}return g(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=y_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function b_(e,t){return e<t?-1:e>t?1:0}function k_(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function w_(e){return e+"\0"}var x_=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new u_(o_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new u_(o_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new u_(o_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new u_(o_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return g(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?b_(this.nanoseconds,e.nanoseconds):b_(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),S_=function(){function e(t){p(this,e),this.timestamp=t}return g(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new x_(0,0))}},{key:"max",value:function(){return new e(new x_(253402300799,999999999))}}]),e}(),__=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&r_(),void 0===r?r=t.length-n:r>t.length-n&&r_(),this.segments=t,this.offset=n,this.len=r}return g(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),I_=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new u_(o_.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,h(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(__),E_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T_=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return E_.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new u_(o_.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new u_(o_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new u_(o_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new u_(o_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(__),C_=function(){function e(t){p(this,e),this.path=t}return g(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===I_.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(I_.fromString(t))}},{key:"fromName",value:function(t){return new e(I_.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(I_.emptyPath())}},{key:"comparator",value:function(e,t){return I_.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new I_(t.slice()))}}]),e}(),A_=g((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function R_(e){return e.fields.find((function(e){return 2===e.kind}))}function N_(e){return e.fields.filter((function(e){return 2!==e.kind}))}A_.UNKNOWN_ID=-1;var P_=g((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n}));var O_=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return g(e,null,[{key:"empty",value:function(){return new e(0,M_.min())}}]),e}();function D_(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=S_.fromTimestamp(1e9===r?new x_(n+1,0):new x_(n,r));return new M_(i,C_.empty(),t)}function L_(e){return new M_(e.readTime,e.key,-1)}var M_=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return g(e,null,[{key:"min",value:function(){return new e(S_.min(),C_.empty(),-1)}},{key:"max",value:function(){return new e(S_.max(),C_.empty(),-1)}}]),e}();function F_(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=C_.comparator(e.documentKey,t.documentKey))?n:b_(e.largestBatchId,t.largestBatchId)}var U_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",z_=function(){function e(){p(this,e),this.onCommittedListeners=[]}return g(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function j_(e){return V_.apply(this,arguments)}function V_(){return(V_=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===o_.FAILED_PRECONDITION&&t.message===U_){e.next=2;break}throw t;case 2:ZS("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B_=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return g(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&r_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),q_=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new s_,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new G_(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=X_(e.target.error);r.m.reject(new G_(t,n))}}return g(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(ZS("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Q_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new G_(n,t)}}}]),e}(),W_=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D($o())&&e_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return g(e,[{key:"N",value:function(){var e=Uo(Mo().mark((function e(t){var n=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ZS("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new G_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new u_(o_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new u_(o_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new G_(t,n))},i.onupgradeneeded=function(e){ZS("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){ZS("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Uo(Mo().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Mo().mark((function e(){var n,u,s,l;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=q_.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),B_.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.g;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,ZS("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ZS("SimpleDb","Removing database:",e),$_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!eu())return!1;if(e.v())return!0;var t=$o(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"v",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),K_=function(){function e(t){p(this,e),this.q=t,this.K=!1,this.$=null}return g(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return $_(this.q.delete())}}]),e}(),G_=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,o_.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return g(n)}(u_);function H_(e){return"IndexedDbTransactionError"===e.name}var Q_=function(){function e(t){p(this,e),this.store=t}return g(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ZS("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ZS("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),$_(n)}},{key:"add",value:function(e){return ZS("SimpleDb","ADD",this.store.name,e,e),$_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return $_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ZS("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ZS("SimpleDb","DELETE",this.store.name,e),$_(this.store.delete(e))}},{key:"count",value:function(){return ZS("SimpleDb","COUNT",this.store.name),$_(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new B_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new B_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){ZS("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new B_((function(n,r){t.onerror=function(e){var t=X_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new B_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new K_(i),o=t(i.primaryKey,i.value,a);if(o instanceof B_){var u=o.catch((function(e){return a.done(),B_.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return B_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function $_(e){return new B_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=X_(e.target.error);n(t)}}))}var Y_=!1;function X_(e){var t=W_.D($o());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new u_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Y_||(Y_=!0,setTimeout((function(){throw r}),0)),r}}return e}var J_=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return g(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;ZS("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ZS,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!H_(e.t4)){e.next=17;break}ZS("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,j_(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Z_=function(){function e(t,n){p(this,e),this.localStore=t,this.persistence=n}return g(e,[{key:"ne",value:function(){var e=Uo(Mo().mark((function e(){var t,n=this,r=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return B_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ZS("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return ZS("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=L_(t);F_(r,n)>0&&(n=r)})),new M_(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),eI=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return g(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function tI(e){return null==e}function nI(e){return 0===e&&1/e==-1/0}function rI(e){return"number"==typeof e&&Number.isInteger(e)&&!nI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function iI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oI(t)),t=aI(e.get(n),t);return oI(t)}function aI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function oI(e){return e+"\x01\x01"}function uI(e){var t=e.length;if(i_(t>=2),2===t)return i_("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),I_.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&r_(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:r_()}a=o+2}return new I_(r)}eI.ae=-1;var sI=["userId","batchId"];function cI(e,t){return[e,iI(t)]}function lI(e,t,n){return[e,iI(t),n]}var fI={},dI=["prefixPath","collectionGroup","readTime","documentId"],hI=["prefixPath","collectionGroup","documentId"],pI=["collectionGroup","readTime","prefixPath","documentId"],vI=["canonicalId","targetId"],mI=["targetId","path"],yI=["path","targetId"],gI=["collectionId","parent"],bI=["indexId","uid"],kI=["uid","sequenceNumber"],wI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xI=["indexId","uid","orderedDocumentKey"],SI=["userId","collectionPath","documentId"],_I=["userId","collectionPath","largestBatchId"],II=["userId","collectionGroup","largestBatchId"],EI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),TI=[].concat(h(EI),["documentOverlays"]),CI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AI=CI,RI=[].concat(AI,["indexConfiguration","indexState","indexEntries"]),NI=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return g(n)}(z_);function PI(e,t){var n=a_(e);return W_.O(n.ue,t)}function OI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function DI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var MI=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||UI.EMPTY}return g(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,UI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,UI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new FI(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new FI(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new FI(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new FI(this.root,e,this.comparator,!0)}}]),e}(),FI=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return g(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),UI=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return g(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw r_();if(this.right.isRed())throw r_();var e=this.left.check();if(e!==this.right.check())throw r_();return e+(this.isRed()?0:1)}}]),e}();UI.EMPTY=null,UI.RED=!0,UI.BLACK=!1,UI.EMPTY=new(function(){function e(){p(this,e),this.size=0}return g(e,[{key:"key",get:function(){throw r_()}},{key:"value",get:function(){throw r_()}},{key:"color",get:function(){throw r_()}},{key:"left",get:function(){throw r_()}},{key:"right",get:function(){throw r_()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new UI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var zI=function(){function e(t){p(this,e),this.comparator=t,this.data=new MI(this.comparator)}return g(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new jI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new jI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),jI=function(){function e(t){p(this,e),this.iter=t}return g(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function VI(e){return e.hasNext()?e.getNext():void 0}var BI=function(){function e(t){p(this,e),this.fields=t,t.sort(T_.comparator)}return g(e,[{key:"unionWith",value:function(t){var n,r=new zI(T_.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return k_(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),qI=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return g(n)}(E(Error));var WI=function(e){function t(e){p(this,t),this.binaryString=e}return g(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return b_(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new qI("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();WI.EMPTY_BYTE_STRING=new WI("");var KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function GI(e){if(i_(!!e),"string"==typeof e){var t=0,n=KI.exec(e);if(i_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:HI(e.seconds),nanos:HI(e.nanos)}}function HI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function QI(e){return"string"==typeof e?WI.fromBase64String(e):WI.fromUint8Array(e)}function $I(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function YI(e){var t=e.mapValue.fields.__previous_value__;return $I(t)?YI(t):t}function XI(e){var t=GI(e.mapValue.fields.__local_write_time__.timestampValue);return new x_(t.seconds,t.nanos)}var JI=g((function e(t,n,r,i,a,o,u,s,c){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),ZI=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return g(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),eE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tE={nullValue:"NULL_VALUE"};function nE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$I(e)?4:mE(e)?9007199254740991:10:r_()}function rE(e,t){if(e===t)return!0;var n=nE(e);if(n!==nE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return XI(e).isEqual(XI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=GI(e.timestampValue),r=GI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return QI(e.bytesValue).isEqual(QI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return HI(e.geoPointValue.latitude)===HI(t.geoPointValue.latitude)&&HI(e.geoPointValue.longitude)===HI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return HI(e.integerValue)===HI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=HI(e.doubleValue),r=HI(t.doubleValue);return n===r?nI(n)===nI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return k_(e.arrayValue.values||[],t.arrayValue.values||[],rE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(OI(n)!==OI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rE(n[i],r[i])))return!1;return!0}(e,t);default:return r_()}}function iE(e,t){return void 0!==(e.values||[]).find((function(e){return rE(e,t)}))}function aE(e,t){if(e===t)return 0;var n=nE(e),r=nE(t);if(n!==r)return b_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return b_(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=HI(e.integerValue||e.doubleValue),r=HI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return oE(e.timestampValue,t.timestampValue);case 4:return oE(XI(e),XI(t));case 5:return b_(e.stringValue,t.stringValue);case 6:return function(e,t){var n=QI(e),r=QI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=b_(n[i],r[i]);if(0!==a)return a}return b_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=b_(HI(e.latitude),HI(t.latitude));return 0!==n?n:b_(HI(e.longitude),HI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=aE(n[i],r[i]);if(a)return a}return b_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===eE.mapValue&&t===eE.mapValue)return 0;if(e===eE.mapValue)return 1;if(t===eE.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=b_(r[o],a[o]);if(0!==u)return u;var s=aE(n[r[o]],i[a[o]]);if(0!==s)return s}return b_(r.length,a.length)}(e.mapValue,t.mapValue);default:throw r_()}}function oE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return b_(e,t);var n=GI(e),r=GI(t),i=b_(n.seconds,r.seconds);return 0!==i?i:b_(n.nanos,r.nanos)}function uE(e){return sE(e)}function sE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=GI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return QI(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return C_.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=sE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(sE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):r_()}function cE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function lE(e){return!!e&&"integerValue"in e}function fE(e){return!!e&&"arrayValue"in e}function dE(e){return!!e&&"nullValue"in e}function hE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pE(e){return!!e&&"mapValue"in e}function vE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return DI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=vE(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vE(e.arrayValue.values[r]);return n}return Object.assign({},e)}function mE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function yE(e){return"nullValue"in e?tE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?cE(ZI.empty(),C_.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:r_()}function gE(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?cE(ZI.empty(),C_.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?eE:r_()}function bE(e,t){var n=aE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kE(e,t){var n=aE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var wE=function(){function e(t){p(this,e),this.value=t}return g(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!pE(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vE(t)}},{key:"setAll",value:function(e){var t=this,n=T_.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=vE(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());pE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return rE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];pE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){DI(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(vE(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function xE(e){var t=[];return DI(e.fields,(function(e,n){var r=new T_([e]);if(pE(n)){var i=xE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new BI(t)}var SE=function(){function e(t,n,r,i,a,o,u){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return g(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(S_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=wE.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=wE.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=S_.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,S_.min(),S_.min(),S_.min(),wE.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,S_.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,S_.min(),S_.min(),wE.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,S_.min(),S_.min(),wE.empty(),2)}}]),e}(),_E=g((function e(t,n){p(this,e),this.position=t,this.inclusive=n}));function IE(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?C_.comparator(C_.fromName(o.referenceValue),n.key):aE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function EE(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rE(e.position[n],t.position[n]))return!1;return!0}var TE=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function CE(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var AE=g((function e(){p(this,e)})),RE=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(aE(t,this.value)):null!==t&&nE(this.value)===nE(t)&&this.matchesComparison(aE(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return r_()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new jE(e,t,r):"array-contains"===t?new WE(e,r):"in"===t?new KE(e,r):"not-in"===t?new GE(e,r):"array-contains-any"===t?new HE(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new VE(e,n):new BE(e,n)}}]),n}(AE),NE=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return g(n,[{key:"matches",value:function(e){return PE(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(AE);function PE(e){return"and"===e.op}function OE(e){return"or"===e.op}function DE(e){return LE(e)&&PE(e)}function LE(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof NE)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ME(e){if(e instanceof RE)return e.field.canonicalString()+e.op.toString()+uE(e.value);if(DE(e))return e.filters.map((function(e){return ME(e)})).join(",");var t=e.filters.map((function(e){return ME(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function FE(e,t){return e instanceof RE?function(e,t){return t instanceof RE&&e.op===t.op&&e.field.isEqual(t.field)&&rE(e.value,t.value)}(e,t):e instanceof NE?function(e,t){return t instanceof NE&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&FE(n,t.filters[r])}),!0)}(e,t):void r_()}function UE(e,t){var n=e.filters.concat(t);return NE.create(n,e.op)}function zE(e){return e instanceof RE?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(uE(e.value))}(e):e instanceof NE?function(e){return e.op.toString()+" {"+e.getFilters().map(zE).join(" ,")+"}"}(e):"Filter"}var jE=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=C_.fromName(i.referenceValue),a}return g(n,[{key:"matches",value:function(e){var t=C_.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(RE),VE=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=qE("in",r),i}return g(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(RE),BE=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=qE("not-in",r),i}return g(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(RE);function qE(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return C_.fromName(e.referenceValue)}))}var WE=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return fE(t)&&iE(t.arrayValue,this.value)}}]),n}(RE),KE=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return g(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&iE(this.value.arrayValue,t)}}]),n}(RE),GE=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return g(n,[{key:"matches",value:function(e){if(iE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!iE(this.value.arrayValue,t)}}]),n}(RE),HE=function(e){k(n,e);var t=_(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return g(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!fE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return iE(t.value.arrayValue,e)}))}}]),n}(RE),QE=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.he=null}));function $E(e){return new QE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function YE(e){var t=a_(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ME(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),tI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return uE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return uE(e)})).join(",")),t.he=n}return t.he}function XE(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!CE(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!FE(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!EE(e.startAt,t.startAt)&&EE(e.endAt,t.endAt)}function JE(e){return C_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ZE(e,t){return e.filters.filter((function(e){return e instanceof RE&&e.field.isEqual(t)}))}function eT(e,t,n){var r,i=tE,a=!0,o=C(ZE(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=tE,c=!0;switch(u.op){case"<":case"<=":s=yE(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=tE}bE({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];bE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function tT(e,t,n){var r,i=eE,a=!0,o=C(ZE(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=eE,c=!0;switch(u.op){case">=":case">":s=gE(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=eE}kE({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var nT=g((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}));function rT(e,t,n,r,i,a,o,u){return new nT(e,t,n,r,i,a,o,u)}function iT(e){return new nT(e)}function aT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function oT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function uT(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function sT(e){return null!==e.collectionGroup}function cT(e){var t=a_(e);if(null===t.Pe){t.Pe=[];var n=uT(t),r=oT(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new TE(n)),t.Pe.push(new TE(T_.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.Pe.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new TE(T_.keyField(),s))}}}return t.Pe}function lT(e){var t=a_(e);return t.Ie||(t.Ie=fT(t,cT(e))),t.Ie}function fT(e,t){if("F"===e.limitType)return $E(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new TE(e.field,t)}));var n=e.endAt?new _E(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new _E(e.startAt.position,e.startAt.inclusive):null;return $E(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function dT(e,t){t.getFirstInequalityField(),uT(e);var n=e.filters.concat([t]);return new nT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function hT(e,t,n){return new nT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pT(e,t){return XE(lT(e),lT(t))&&e.limitType===t.limitType}function vT(e){return"".concat(YE(lT(e)),"|lt:").concat(e.limitType)}function mT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return zE(e)})).join(", "),"]")),tI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return uE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return uE(e)})).join(",")),"Target(".concat(t,")")}(lT(e)),"; limitType=").concat(e.limitType,")")}function yT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):C_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(cT(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=IE(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,cT(e),t))&&!(e.endAt&&!function(e,t,n){var r=IE(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,cT(e),t))}(e,t)}function gT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bT(e){return function(t,n){var r,i=!1,a=C(cT(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=kT(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function kT(e,t,n){var r=e.field.isKeyField()?C_.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?aE(r,i):r_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return r_()}}var wT=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return g(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){DI(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return LI(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xT=new MI(C_.comparator);function ST(){return xT}var _T=new MI(C_.comparator);function IT(){for(var e=_T,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ET(e){var t=_T;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function TT(){return AT()}function CT(){return AT()}function AT(){return new wT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var RT=new MI(C_.comparator),NT=new zI(C_.comparator);function PT(){for(var e=NT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var OT=new zI(b_);function DT(){return OT}function LT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nI(t)?"-0":t}}function MT(e){return{integerValue:""+e}}function FT(e,t){return rI(t)?MT(t):LT(e,t)}var UT=g((function e(){p(this,e),this._=void 0}));function zT(e,t,n){return e instanceof BT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&$I(t)&&(t=YI(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qT?WT(e,t):e instanceof KT?GT(e,t):function(e,t){var n=VT(e,t),r=QT(n)+QT(e.Te);return lE(n)&&lE(e.Te)?MT(r):LT(e.serializer,r)}(e,t)}function jT(e,t,n){return e instanceof qT?WT(e,t):e instanceof KT?GT(e,t):n}function VT(e,t){return e instanceof HT?function(e){return lE(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var BT=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(UT),qT=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(UT);function WT(e,t){var n,r=$T(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return rE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var KT=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return g(n)}(UT);function GT(e,t){var n,r=$T(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!rE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var HT=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return g(n)}(UT);function QT(e){return HI(e.integerValue||e.doubleValue)}function $T(e){return fE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var YT=g((function e(t,n){p(this,e),this.field=t,this.transform=n}));var XT=g((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),JT=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return g(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ZT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var eC=g((function e(){p(this,e)}));function tC(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new hC(e.key,JT.none()):new oC(e.key,e.data,JT.none());var n,r=e.data,i=wE.empty(),a=new zI(T_.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new uC(e.key,i,new BI(a.toArray()),JT.none())}function nC(e,t,n){e instanceof oC?function(e,t,n){var r=e.value.clone(),i=cC(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uC?function(e,t,n){if(ZT(e.precondition,t)){var r=cC(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sC(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rC(e,t,n,r){return e instanceof oC?function(e,t,n,r){if(!ZT(e.precondition,t))return n;var i=e.value.clone(),a=lC(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof uC?function(e,t,n,r){if(!ZT(e.precondition,t))return n;var i=lC(e.fieldTransforms,r,t),a=t.data;return a.setAll(sC(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return ZT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function iC(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=VT(a.transform,o||null);null!=u&&(null===r&&(r=wE.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function aC(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&k_(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qT&&t instanceof qT||e instanceof KT&&t instanceof KT?k_(e.elements,t.elements,rE):e instanceof HT&&t instanceof HT?rE(e.Te,t.Te):e instanceof BT&&t instanceof BT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var oC=function(e){k(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(eC),uC=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return g(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(eC);function sC(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cC(e,t,n){var r=new Map;i_(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,jT(o,u,n[i]))}return r}function lC(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,zT(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var fC,dC,hC=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(eC),pC=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return g(n,[{key:"getFieldMask",value:function(){return null}}]),n}(eC),vC=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return g(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&nC(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=rC(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=rC(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=CT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=tC(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(S_.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),PT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&k_(this.mutations,e.mutations,(function(e,t){return aC(e,t)}))&&k_(this.baseMutations,e.baseMutations,(function(e,t){return aC(e,t)}))}}]),e}(),mC=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return g(e,null,[{key:"from",value:function(t,n,r){i_(t.mutations.length===r.length);for(var i=RT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yC=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return g(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gC=g((function e(t,n){p(this,e),this.count=t,this.unchangedNames=n}));function bC(e){switch(e){default:return r_();case o_.CANCELLED:case o_.UNKNOWN:case o_.DEADLINE_EXCEEDED:case o_.RESOURCE_EXHAUSTED:case o_.INTERNAL:case o_.UNAVAILABLE:case o_.UNAUTHENTICATED:return!1;case o_.INVALID_ARGUMENT:case o_.NOT_FOUND:case o_.ALREADY_EXISTS:case o_.PERMISSION_DENIED:case o_.FAILED_PRECONDITION:case o_.ABORTED:case o_.OUT_OF_RANGE:case o_.UNIMPLEMENTED:case o_.DATA_LOSS:return!0}}function kC(e){if(void 0===e)return e_("GRPC error has no .code"),o_.UNKNOWN;switch(e){case fC.OK:return o_.OK;case fC.CANCELLED:return o_.CANCELLED;case fC.UNKNOWN:return o_.UNKNOWN;case fC.DEADLINE_EXCEEDED:return o_.DEADLINE_EXCEEDED;case fC.RESOURCE_EXHAUSTED:return o_.RESOURCE_EXHAUSTED;case fC.INTERNAL:return o_.INTERNAL;case fC.UNAVAILABLE:return o_.UNAVAILABLE;case fC.UNAUTHENTICATED:return o_.UNAUTHENTICATED;case fC.INVALID_ARGUMENT:return o_.INVALID_ARGUMENT;case fC.NOT_FOUND:return o_.NOT_FOUND;case fC.ALREADY_EXISTS:return o_.ALREADY_EXISTS;case fC.PERMISSION_DENIED:return o_.PERMISSION_DENIED;case fC.FAILED_PRECONDITION:return o_.FAILED_PRECONDITION;case fC.ABORTED:return o_.ABORTED;case fC.OUT_OF_RANGE:return o_.OUT_OF_RANGE;case fC.UNIMPLEMENTED:return o_.UNIMPLEMENTED;case fC.DATA_LOSS:return o_.DATA_LOSS;default:return r_()}}(dC=fC||(fC={}))[dC.OK=0]="OK",dC[dC.CANCELLED=1]="CANCELLED",dC[dC.UNKNOWN=2]="UNKNOWN",dC[dC.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dC[dC.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dC[dC.NOT_FOUND=5]="NOT_FOUND",dC[dC.ALREADY_EXISTS=6]="ALREADY_EXISTS",dC[dC.PERMISSION_DENIED=7]="PERMISSION_DENIED",dC[dC.UNAUTHENTICATED=16]="UNAUTHENTICATED",dC[dC.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dC[dC.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dC[dC.ABORTED=10]="ABORTED",dC[dC.OUT_OF_RANGE=11]="OUT_OF_RANGE",dC[dC.UNIMPLEMENTED=12]="UNIMPLEMENTED",dC[dC.INTERNAL=13]="INTERNAL",dC[dC.UNAVAILABLE=14]="UNAVAILABLE",dC[dC.DATA_LOSS=15]="DATA_LOSS";var wC=null;function xC(){return new TextEncoder}var SC=new HS([4294967295,4294967295],0);function _C(e){var t=xC().encode(e),n=new GS;return n.update(t),new Uint8Array(n.digest())}function IC(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new HS([n,r],0),new HS([i,a],0)]}var EC=function(){function e(t,n,r){if(p(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new TC("Invalid padding: ".concat(n));if(r<0)throw new TC("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new TC("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new TC("Invalid padding when bitmap length is 0: ".concat(n));this.Ae=8*t.length-n,this.Re=HS.fromNumber(this.Ae)}return g(e,[{key:"Ve",value:function(e,t,n){var r=e.add(t.multiply(HS.fromNumber(n)));return 1===r.compare(SC)&&(r=new HS([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Re).toNumber()}},{key:"me",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Ae)return!1;for(var t=f(IC(_C(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);if(!this.me(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Ae)for(var t=f(IC(_C(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Ve(n,r,i);this.fe(a)}}},{key:"fe",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),TC=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return g(n)}(E(Error)),CC=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return g(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,AC.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(S_.min(),i,new MI(b_),ST(),PT())}}]),e}(),AC=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return g(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,PT(),PT(),PT())}}]),e}(),RC=g((function e(t,n,r,i){p(this,e),this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i})),NC=g((function e(t,n){p(this,e),this.targetId=t,this.ye=n})),PC=g((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),OC=function(){function e(){p(this,e),this.we=0,this.Se=MC(),this.be=WI.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}return g(e,[{key:"current",get:function(){return this.De}},{key:"resumeToken",get:function(){return this.be}},{key:"ve",get:function(){return 0!==this.we}},{key:"Fe",get:function(){return this.Ce}},{key:"Me",value:function(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}},{key:"xe",value:function(){var e=PT(),t=PT(),n=PT();return this.Se.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:r_()}})),new AC(this.be,this.De,e,t,n)}},{key:"Oe",value:function(){this.Ce=!1,this.Se=MC()}},{key:"Ne",value:function(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}},{key:"Be",value:function(e){this.Ce=!0,this.Se=this.Se.remove(e)}},{key:"Le",value:function(){this.we+=1}},{key:"ke",value:function(){this.we-=1}},{key:"qe",value:function(){this.Ce=!0,this.De=!0}}]),e}(),DC=function(){function e(t){p(this,e),this.Qe=t,this.Ke=new Map,this.$e=ST(),this.Ue=LC(),this.We=new MI(b_)}return g(e,[{key:"Ge",value:function(e){var t,n=C(e.ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.pe&&e.pe.isFoundDocument()?this.ze(r,e.pe):this.je(r,e.key,e.pe)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.je(o,e.key,e.pe)}}catch(u){a.e(u)}finally{a.f()}}},{key:"He",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Je(n);switch(e.state){case 0:t.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||t.removeTarget(n);break;case 3:t.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:t.Ye(n)&&(t.Ze(n),r.Me(e.resumeToken));break;default:r_()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((function(e,r){n.Ye(r)&&t(r)}))}},{key:"Xe",value:function(e){var t=e.targetId,n=e.ye.count,r=this.et(t);if(r){var i=r.target;if(JE(i))if(0===n){var a=new C_(i.path);this.je(t,a,SE.newNoDocument(a,S_.min()))}else i_(1===n);else{var o=this.tt(t);if(o!==n){var u=this.nt(e),s=u?this.rt(u,e,o):1;if(0!==s){this.Ze(t);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(t,c)}null==wC||wC.it(function(e,t,n,r,i){var a,o,u,s,c,l,f={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(f.bloomFilter={applied:0===i,hashCount:null!==(a=null==d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),f}(o,e.ye,this.Qe.st(),u,s))}}}}},{key:"nt",value:function(e){var t=e.ye.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,c=t.hashCount,l=void 0===c?0:c;try{n=QI(o).toUint8Array()}catch(e){if(e instanceof qI)return t_("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new EC(n,s,l)}catch(e){return t_(e instanceof TC?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Ae?null:r}},{key:"rt",value:function(e,t,n){return t.ye.count===n-this.ot(e,t.targetId)?0:2}},{key:"ot",value:function(e,t){var n=this,r=this.Qe.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Qe.st(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.je(t,r,null),i++)})),i}},{key:"_t",value:function(e){var t=this,n=new Map;this.Ke.forEach((function(r,i){var a=t.et(i);if(a){if(r.current&&JE(a.target)){var o=new C_(a.target.path);null!==t.$e.get(o)||t.ut(i,o)||t.je(i,o,SE.newNoDocument(o,e))}r.Fe&&(n.set(i,r.xe()),r.Oe())}}));var r=PT();this.Ue.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.et(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$e.forEach((function(t,n){return n.setReadTime(e)}));var i=new CC(e,n,this.We,this.$e,r);return this.$e=ST(),this.Ue=LC(),this.We=new MI(b_),i}},{key:"ze",value:function(e,t){if(this.Ye(e)){var n=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,n),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}}},{key:"je",value:function(e,t,n){if(this.Ye(e)){var r=this.Je(e);this.ut(e,t)?r.Ne(t,1):r.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),n&&(this.$e=this.$e.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ke.delete(e)}},{key:"tt",value:function(e){var t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Le",value:function(e){this.Je(e).Le()}},{key:"Je",value:function(e){var t=this.Ke.get(e);return t||(t=new OC,this.Ke.set(e,t)),t}},{key:"ct",value:function(e){var t=this.Ue.get(e);return t||(t=new zI(b_),this.Ue=this.Ue.insert(e,t)),t}},{key:"Ye",value:function(e){var t=null!==this.et(e);return t||ZS("WatchChangeAggregator","Detected inactive target",e),t}},{key:"et",value:function(e){var t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}},{key:"Ze",value:function(e){var t=this;this.Ke.set(e,new OC),this.Qe.getRemoteKeysForTarget(e).forEach((function(n){t.je(e,n,null)}))}},{key:"ut",value:function(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function LC(){return new MI(C_.comparator)}function MC(){return new MI(C_.comparator)}var FC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zC={and:"AND",or:"OR"},jC=g((function e(t,n){p(this,e),this.databaseId=t,this.useProto3Json=n}));function VC(e,t){return e.useProto3Json||tI(t)?t:{value:t}}function BC(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WC(e,t){return BC(e,t.toTimestamp())}function KC(e){return i_(!!e),S_.fromTimestamp(function(e){var t=GI(e);return new x_(t.seconds,t.nanos)}(e))}function GC(e,t){return function(e){return new I_(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function HC(e){var t=I_.fromString(e);return i_(mA(t)),t}function QC(e,t){return GC(e.databaseId,t.path)}function $C(e,t){var n=HC(t);if(n.get(1)!==e.databaseId.projectId)throw new u_(o_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new u_(o_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new C_(ZC(n))}function YC(e,t){return GC(e.databaseId,t)}function XC(e){var t=HC(e);return 4===t.length?I_.emptyPath():ZC(t)}function JC(e){return new I_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ZC(e){return i_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function eA(e,t,n){return{name:QC(e,t),fields:n.value.mapValue.fields}}function tA(e,t,n){var r=$C(e,t.name),i=KC(t.updateTime),a=t.createTime?KC(t.createTime):S_.min(),o=new wE({mapValue:{fields:t.fields}}),u=SE.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function nA(e,t){return"found"in t?function(e,t){i_(!!t.found),t.found.name,t.found.updateTime;var n=$C(e,t.found.name),r=KC(t.found.updateTime),i=t.found.createTime?KC(t.found.createTime):S_.min(),a=new wE({mapValue:{fields:t.found.fields}});return SE.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){i_(!!t.missing),i_(!!t.readTime);var n=$C(e,t.missing),r=KC(t.readTime);return SE.newNoDocument(n,r)}(e,t):r_()}function rA(e,t){var n;if(t instanceof oC)n={update:eA(e,t.key,t.value)};else if(t instanceof hC)n={delete:QC(e,t.key)};else if(t instanceof uC)n={update:eA(e,t.key,t.data),updateMask:vA(t.fieldMask)};else{if(!(t instanceof pC))return r_();n={verify:QC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof BT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof KT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof HT)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw r_()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:WC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:r_()}(e,t.precondition)),n}function iA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?JT.updateTime(KC(e.updateTime)):void 0!==e.exists?JT.exists(e.exists):JT.none()}(t.currentDocument):JT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)i_("REQUEST_TIME"===t.setToServerValue),n=new BT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new qT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new KT(i)}else"increment"in t?n=new HT(e,t.increment):r_();var a=T_.fromServerFormat(t.fieldPath);return new YT(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=$C(e,t.update.name),a=new wE({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new BI(t.map((function(e){return T_.fromServerFormat(e)})))}(t.updateMask);return new uC(i,a,o,n,r)}return new oC(i,a,n,r)}if(t.delete){var u=$C(e,t.delete);return new hC(u,n)}if(t.verify){var s=$C(e,t.verify);return new pC(s,n)}return r_()}function aA(e,t){return{documents:[YC(e,t.path)]}}function oA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=YC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=YC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return pA(NE.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:dA(e.field),direction:cA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=VC(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function uA(e){var t=XC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){i_(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=sA(e);return t instanceof NE&&DE(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new TE(hA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return tI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new _E(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new _E(n,t)}(n.endAt)),rT(t,i,u,o,s,"F",c,l)}function sA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=hA(e.unaryFilter.field);return RE.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=hA(e.unaryFilter.field);return RE.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hA(e.unaryFilter.field);return RE.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hA(e.unaryFilter.field);return RE.create(i,"!=",{nullValue:"NULL_VALUE"});default:return r_()}}(e):void 0!==e.fieldFilter?function(e){return RE.create(hA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return r_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return NE.create(e.compositeFilter.filters.map((function(e){return sA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return r_()}}(e.compositeFilter.op))}(e):r_()}function cA(e){return FC[e]}function lA(e){return UC[e]}function fA(e){return zC[e]}function dA(e){return{fieldPath:e.canonicalString()}}function hA(e){return T_.fromServerFormat(e.fieldPath)}function pA(e){return e instanceof RE?function(e){if("=="===e.op){if(hE(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NAN"}};if(dE(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hE(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NOT_NAN"}};if(dE(e.value))return{unaryFilter:{field:dA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dA(e.field),op:lA(e.op),value:e.value}}}(e):e instanceof NE?function(e){var t=e.getFilters().map((function(e){return pA(e)}));return 1===t.length?t[0]:{compositeFilter:{op:fA(e.op),filters:t}}}(e):r_()}function vA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function mA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var yA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S_.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:S_.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:WI.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return g(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),gA=g((function e(t){p(this,e),this.ht=t}));function bA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:kA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:QC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:BC(e,t.version.toTimestamp()),createTime:BC(e,t.createTime.toTimestamp())}}(e.ht,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wA(t.version)};else{if(!t.isUnknownDocument())return r_();r.unknownDocument={path:n.path.toArray(),version:wA(t.version)}}return r}function kA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wA(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function xA(e){var t=new x_(e.seconds,e.nanoseconds);return S_.fromTimestamp(t)}function SA(e,t){for(var n=(t.baseMutations||[]).map((function(t){return iA(e.ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return iA(e.ht,t)})),u=x_.fromMillis(t.localWriteTimeMs);return new vC(t.batchId,u,n,o)}function _A(e){var t,n=xA(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?xA(e.lastLimboFreeSnapshotVersion):S_.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return i_(1===e.documents.length),lT(iT(XC(e.documents[0])))}(e.query):function(e){return lT(uA(e))}(e.query),new yA(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,WI.fromBase64String(e.resumeToken))}function IA(e,t){var n,r=wA(t.snapshotVersion),i=wA(t.lastLimboFreeSnapshotVersion);n=JE(t.target)?aA(e.ht,t.target):oA(e.ht,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:YE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function EA(e){var t=uA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hT(t,t.limit,"L"):t}function TA(e,t){return new yC(t.largestBatchId,iA(e.ht,t.overlayMutation))}function CA(e,t){var n=t.path.lastSegment();return[e,iI(t.path.popLast()),n]}function AA(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wA(r.readTime),documentKey:iI(r.documentKey.path),largestBatchId:r.largestBatchId}}var RA=function(){function e(){p(this,e)}return g(e,[{key:"getBundleMetadata",value:function(e,t){return NA(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:xA(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return NA(e).put(function(e){return{bundleId:e.id,createTime:wA(KC(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return PA(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:EA(e.bundledQuery),readTime:xA(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return PA(e).put(function(e){return{name:e.name,readTime:wA(KC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function NA(e){return PI(e,"bundles")}function PA(e){return PI(e,"namedQueries")}var OA=function(){function e(t,n){p(this,e),this.serializer=t,this.userId=n}return g(e,[{key:"getOverlay",value:function(e,t){var n=this;return DA(e).get(CA(this.userId,t)).next((function(e){return e?TA(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=TT();return B_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yC(t,a);i.push(r.It(e,o))})),B_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(iI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(DA(e).J("collectionPathOverlayIndex",i))})),B_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=TT(),a=iI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return DA(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=TA(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=TT(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return DA(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=TA(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"It",value:function(e,t){return DA(e).put(function(e,t,n){var r=f(CA(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:rA(e.ht,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"Pt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function DA(e){return PI(e,"documentOverlays")}var LA=function(){function e(){p(this,e)}return g(e,[{key:"dt",value:function(e,t){this.Tt(e,t),t.Et()}},{key:"Tt",value:function(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(HI(e.integerValue));else if("doubleValue"in e){var n=HI(e.doubleValue);isNaN(n)?this.At(t,13):(this.At(t,15),nI(n)?t.Rt(0):t.Rt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt("".concat(r.seconds||"")),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(QI(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.At(t,45),t.Rt(i.latitude||0),t.Rt(i.longitude||0)}else"mapValue"in e?mE(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):r_()}},{key:"ft",value:function(e,t){this.At(t,25),this.Dt(e,t)}},{key:"Dt",value:function(e,t){t.Vt(e)}},{key:"St",value:function(e,t){var n=e.fields||{};this.At(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ft(a,t),this.Tt(n[a],t)}}},{key:"bt",value:function(e,t){var n=e.values||[];this.At(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Tt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"wt",value:function(e,t){var n=this;this.At(t,37),C_.fromName(e).path.forEach((function(e){n.At(t,60),n.Dt(e,t)}))}},{key:"At",value:function(e,t){e.Rt(t)}},{key:"gt",value:function(e){e.Rt(2)}}]),e}();function MA(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function FA(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=MA(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}LA.Ct=new LA;var UA=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return g(e,[{key:"vt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ft(n.value),n=t.next();this.Mt()}},{key:"xt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ot(n.value),n=t.next();this.Nt()}},{key:"Bt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{var a=r.codePointAt(0);this.Ft(240|a>>>18),this.Ft(128|63&a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Mt()}},{key:"Lt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{var a=r.codePointAt(0);this.Ot(240|a>>>18),this.Ot(128|63&a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Nt()}},{key:"kt",value:function(e){var t=this.qt(e),n=FA(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Kt",value:function(e){var t=this.qt(e),n=FA(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"Wt",value:function(){this.Gt(255),this.Gt(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"zt",value:function(){return this.buffer.slice(0,this.position)}},{key:"qt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ft",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}},{key:"Ot",value:function(e){var t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}},{key:"Mt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Nt",value:function(){this.Gt(0),this.Gt(1)}},{key:"Ut",value:function(e){this.Qt(1),this.buffer[this.position++]=e}},{key:"Gt",value:function(e){this.Qt(1),this.buffer[this.position++]=~e}},{key:"Qt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),zA=function(){function e(t){p(this,e),this.jt=t}return g(e,[{key:"yt",value:function(e){this.jt.vt(e)}},{key:"Vt",value:function(e){this.jt.Bt(e)}},{key:"Rt",value:function(e){this.jt.kt(e)}},{key:"Et",value:function(){this.jt.$t()}}]),e}(),jA=function(){function e(t){p(this,e),this.jt=t}return g(e,[{key:"yt",value:function(e){this.jt.xt(e)}},{key:"Vt",value:function(e){this.jt.Lt(e)}},{key:"Rt",value:function(e){this.jt.Kt(e)}},{key:"Et",value:function(){this.jt.Wt()}}]),e}(),VA=function(){function e(){p(this,e),this.jt=new UA,this.Ht=new zA(this.jt),this.Jt=new jA(this.jt)}return g(e,[{key:"seed",value:function(e){this.jt.seed(e)}},{key:"Yt",value:function(e){return 0===e?this.Ht:this.Jt}},{key:"zt",value:function(){return this.jt.zt()}},{key:"reset",value:function(){this.jt.reset()}}]),e}(),BA=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return g(e,[{key:"Zt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qA(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=WA(e.arrayValue,t.arrayValue))?n:0!==(n=WA(e.directionalValue,t.directionalValue))?n:C_.comparator(e.documentKey,t.documentKey)}function WA(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var KA=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Xt=t.orderBy,this.en=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.tn=i:this.en.push(i)}}catch(a){r.e(a)}finally{r.f()}}return g(e,[{key:"nn",value:function(e){i_(e.collectionGroup===this.collectionId);var t=R_(e);if(void 0!==t&&!this.rn(t))return!1;for(var n=N_(e),r=new Set,i=0,a=0;i<n.length&&this.rn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.tn){if(!r.has(this.tn.field.canonicalString())){var o=n[i];if(!this.sn(this.tn,o)||!this.on(this.Xt[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Xt.length||!this.on(this.Xt[a++],u))return!1}return!0}},{key:"_n",value:function(){var e,t=new zI(T_.comparator),n=[],r=C(this.en);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new P_(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new P_(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.Xt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new P_(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new A_(A_.UNKNOWN_ID,this.collectionId,n,O_.empty())}},{key:"rn",value:function(e){var t,n=C(this.en);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.sn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"sn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"on",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function GA(e){var t,n;if(i_(e instanceof RE||e instanceof NE),e instanceof RE){if(e instanceof KE){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return RE.create(e.field,"==",t)})))||[];return NE.create(r,"or")}return e}var i=e.filters.map((function(e){return GA(e)}));return NE.create(i,e.op)}function HA(e){if(0===e.getFilters().length)return[];var t=XA(GA(e));return i_(YA(t)),QA(t)||$A(t)?[t]:t.getFilters()}function QA(e){return e instanceof RE}function $A(e){return e instanceof NE&&DE(e)}function YA(e){return QA(e)||$A(e)||function(e){if(e instanceof NE&&OE(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!QA(r)&&!$A(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function XA(e){if(i_(e instanceof RE||e instanceof NE),e instanceof RE)return e;if(1===e.filters.length)return XA(e.filters[0]);var t=e.filters.map((function(e){return XA(e)})),n=NE.create(t,e.op);return YA(n=eR(n))?n:(i_(n instanceof NE),i_(PE(n)),i_(n.filters.length>1),n.filters.reduce((function(e,t){return JA(e,t)})))}function JA(e,t){var n;return i_(e instanceof RE||e instanceof NE),i_(t instanceof RE||t instanceof NE),n=e instanceof RE?t instanceof RE?function(e,t){return NE.create([e,t],"and")}(e,t):ZA(e,t):t instanceof RE?ZA(t,e):function(e,t){if(i_(e.filters.length>0&&t.filters.length>0),PE(e)&&PE(t))return UE(e,t.getFilters());var n=OE(e)?e:t,r=OE(e)?t:e,i=n.filters.map((function(e){return JA(e,r)}));return NE.create(i,"or")}(e,t),eR(n)}function ZA(e,t){if(PE(t))return UE(t,e.getFilters());var n=t.filters.map((function(t){return JA(e,t)}));return NE.create(n,"or")}function eR(e){if(i_(e instanceof RE||e instanceof NE),e instanceof RE)return e;var t=e.getFilters();if(1===t.length)return eR(t[0]);if(LE(e))return e;var n=t.map((function(e){return eR(e)})),r=[];return n.forEach((function(t){t instanceof RE?r.push(t):t instanceof NE&&(t.op===e.op?r.push.apply(r,h(t.filters)):r.push(t))})),1===r.length?r[0]:NE.create(r,e.op)}var tR=function(){function e(){p(this,e),this.an=new nR}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.an.add(t),B_.resolve()}},{key:"getCollectionParents",value:function(e,t){return B_.resolve(this.an.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return B_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return B_.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return B_.resolve()}},{key:"createTargetIndexes",value:function(e,t){return B_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return B_.resolve(null)}},{key:"getIndexType",value:function(e,t){return B_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return B_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return B_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return B_.resolve(M_.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return B_.resolve(M_.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return B_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return B_.resolve()}}]),e}(),nR=function(){function e(){p(this,e),this.index={}}return g(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new zI(I_.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new zI(I_.comparator)).toArray()}}]),e}(),rR=new Uint8Array(0),iR=function(){function e(t,n){p(this,e),this.user=t,this.databaseId=n,this.un=new nR,this.cn=new wT((function(e){return YE(e)}),(function(e,t){return XE(e,t)})),this.uid=t.uid||""}return g(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.un.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.un.add(t)}));var a={collectionId:r,parent:iI(i)};return aR(e).put(a)}return B_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[w_(t),""],!1,!0);return aR(e).G(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(uI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=uR(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=sR(e);return a.next((function(e){o.put(AA(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=uR(e),r=sR(e),i=oR(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=uR(e),n=oR(e),r=sR(e);return t.J().next((function(){return n.J()})).next((function(){return r.J()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return B_.forEach(this.ln(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new KA(t);return n.addFieldIndex(e,i._n())}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=oR(e),i=!0,a=new Map;return B_.forEach(this.ln(t),(function(t){return n.hn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=PT(),o=[];return B_.forEach(a,(function(i,a){ZS("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(YE(t)));var u=function(e,t){var n=R_(t);if(void 0===n)return null;var r,i=C(ZE(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=C(N_(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(ZE(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=C(N_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?eT(e,o.fieldPath,e.startAt):tT(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _E(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(N_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?tT(e,o.fieldPath,e.endAt):eT(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new _E(r,i)}(a,i),f=n.Pn(i,a,c),d=n.Pn(i,a,l),h=n.In(i,a,s),p=n.dn(i.indexId,u,f,c.inclusive,d,l.inclusive,h);return B_.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=C_.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return B_.resolve(null)}))}},{key:"ln",value:function(e){var t=this.cn.get(e);return t||(t=0===e.filters.length?[e]:HA(NE.create(e.filters,"and")).map((function(t){return $E(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.cn.set(e,t),t)}},{key:"dn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.Tn(t[d/c]):rR,f=u.En(e,s,n[d%c],r),p=u.An(e,s,i[d%c],a),v=o.map((function(t){return u.En(e,s,t,!0)}));l.push.apply(l,h(u.createRange(f,p,v)))},d=0;d<s;++d)f();return l}},{key:"En",value:function(e,t,n,r){var i=new BA(e,C_.empty(),t,n);return r?i:i.Zt()}},{key:"An",value:function(e,t,n,r){var i=new BA(e,C_.empty(),t,n);return r?i.Zt():i}},{key:"hn",value:function(e,t){var n=new KA(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.nn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.ln(t);return B_.forEach(i,(function(t){return n.hn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new zI(T_.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"Rn",value:function(e,t){var n,r=new VA,i=C(N_(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Yt(a.kind);LA.Ct.dt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.zt()}},{key:"Tn",value:function(e){var t=new VA;return LA.Ct.dt(e,t.Yt(0)),t.zt()}},{key:"Vn",value:function(e,t){var n=new VA;return LA.Ct.dt(cE(this.databaseId,t),n.Yt(function(e){var t=N_(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}},{key:"In",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new VA);var i,a=0,o=C(N_(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.mn(t,s.fieldPath)&&fE(c))r=this.fn(r,s,c);else{var d=f.Yt(s.kind);LA.Ct.dt(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.gn(r)}},{key:"Pn",value:function(e,t,n){return this.In(e,t,n.position)}},{key:"gn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].zt();return t}},{key:"fn",value:function(e,t,n){var r,i=h(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=C(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new VA;f.seed(l.zt()),LA.Ct.dt(s,f.Yt(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"mn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof RE&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=uR(e),i=sR(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return B_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new O_(t.sequenceNumber,new M_(xA(t.readTime),new C_(uI(t.documentKey)),t.largestBatchId)):O_.empty(),r=e.fields.map((function(e){var t=f(e,2),n=t[0],r=t[1];return new P_(T_.fromServerFormat(n),r)}));return new A_(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:b_(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=uR(e),a=sR(e);return this.pn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return B_.forEach(t,(function(t){return a.put(AA(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return B_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?B_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),B_.forEach(a,(function(r){return n.yn(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?B_.resolve():n.Sn(e,i,r,t,a)}))}))}))}))}},{key:"bn",value:function(e,t,n,r){return oR(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Vn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Dn",value:function(e,t,n,r){return oR(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Vn(n,t.key),t.key.path.toArray()])}},{key:"yn",value:function(e,t,n){var r=oR(e),i=new zI(qA);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Vn(n,t)])},(function(e,r){i=i.add(new BA(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new zI(qA),r=this.Rn(t,e);if(null==r)return n;var i=R_(t);if(null!=i){var a=e.data.field(i.fieldPath);if(fE(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new BA(t.indexId,e.key,this.Tn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new BA(t.indexId,e.key,rR,r));return n}},{key:"Sn",value:function(e,t,n,r,i){var a=this;ZS("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=VI(a),s=VI(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=VI(o)):l?(i(u),u=VI(a)):(u=VI(a),s=VI(o))}}(r,i,qA,(function(r){o.push(a.bn(e,t,n,r))}),(function(r){o.push(a.Dn(e,t,n,r))})),B_.waitFor(o)}},{key:"pn",value:function(e){var t=1;return sR(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qA(e,t)})).filter((function(e,t,n){return!t||0!==qA(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qA(o,e),s=qA(o,t);if(0===u)r[0]=e.Zt();else if(u>0&&s<0)r.push(o),r.push(o.Zt());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Cn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,rR,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,rR,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Cn",value:function(e,t){return qA(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(cR)}},{key:"getMinOffset",value:function(e,t){var n=this;return B_.mapArray(this.ln(t),(function(t){return n.hn(e,t).next((function(e){return e||r_()}))})).next(cR)}}]),e}();function aR(e){return PI(e,"collectionParents")}function oR(e){return PI(e,"indexEntries")}function uR(e){return PI(e,"indexConfiguration")}function sR(e){return PI(e,"indexState")}function cR(e){i_(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;F_(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new M_(t.readTime,t.documentKey,n)}var lR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fR=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return g(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function dR(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){i_(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=lI(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return B_.waitFor(a).next((function(){return l}))}function hR(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw r_();t=e.noDocument}return JSON.stringify(t).length}fR.DEFAULT_COLLECTION_PERCENTILE=10,fR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fR.DEFAULT=new fR(41943040,fR.DEFAULT_COLLECTION_PERCENTILE,fR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fR.DISABLED=new fR(-1,0,0);var pR=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.vn={}}return g(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mR(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=yR(e),o=mR(e);return o.add({}).next((function(u){i_("number"==typeof u);var s,c=new vC(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return rA(e.ht,t)})),i=n.mutations.map((function(t){return rA(e.ht,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new zI((function(e,t){return b_(e.canonicalString(),t.canonicalString())})),h=C(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=lI(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,fI))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.vn[u]=c.keys()})),B_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return mR(e).get(t).next((function(e){return e?(i_(e.userId===n.userId),SA(n.serializer,e)):null}))}},{key:"Fn",value:function(e,t){var n=this;return this.vn[t]?B_.resolve(this.vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return mR(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(i_(t.batchId>=r),a=SA(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mR(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mR(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return SA(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=cI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return yR(e).Z({range:i},(function(r,i,o){var u=f(r,3),s=u[0],c=u[1],l=u[2],d=uI(c);if(s===n.userId&&t.path.isEqual(d))return mR(e).get(l).next((function(e){if(!e)throw r_();i_(e.userId===n.userId),a.push(SA(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zI(b_),i=[];return t.forEach((function(t){var a=cI(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=yR(e).Z({range:o},(function(e,i,a){var o=f(e,3),u=o[0],s=o[1],c=o[2],l=uI(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),B_.waitFor(i).next((function(){return n.Mn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=cI(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new zI(b_);return yR(e).Z({range:o},(function(e,t,a){var o=f(e,3),s=o[0],c=o[1],l=o[2],d=uI(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Mn(e,u)}))}},{key:"Mn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(mR(e).get(t).next((function(e){if(null===e)throw r_();i_(e.userId===n.userId),r.push(SA(n.serializer,e))})))})),B_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return dR(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.xn(t.batchId)})),B_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"xn",value:function(e){delete this.vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return B_.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return yR(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=uI(e[1]);i.push(a)}else r.done()})).next((function(){i_(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return vR(e,this.userId,t)}},{key:"On",value:function(e){var t=this;return gR(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Pt",value:function(t,n,r,i){return i_(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function vR(e,t,n){var r=cI(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return yR(e).Z({range:a,Y:!0},(function(e,n,r){var a=f(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function mR(e){return PI(e,"mutations")}function yR(e){return PI(e,"documentMutations")}function gR(e){return PI(e,"mutationQueues")}var bR=function(){function e(t){p(this,e),this.Nn=t}return g(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"Bn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}]),e}(),kR=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.serializer=n}return g(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.kn(e).next((function(n){var r=new bR(n.highestTargetId);return n.highestTargetId=r.next(),t.qn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.kn(e).next((function(e){return S_.fromTimestamp(new x_(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.kn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.kn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.qn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Qn(e,t).next((function(){return n.kn(e).next((function(r){return r.targetCount+=1,n.Kn(t,r),n.qn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return wR(e).delete(t.targetId)})).next((function(){return n.kn(e)})).next((function(t){return i_(t.targetCount>0),t.targetCount-=1,n.qn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return wR(e).Z((function(o,u){var s=_A(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return B_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return wR(e).Z((function(e,n){var r=_A(n);t(r)}))}},{key:"kn",value:function(e){return xR(e).get("targetGlobalKey").next((function(e){return i_(null!==e),e}))}},{key:"qn",value:function(e,t){return xR(e).put("targetGlobalKey",t)}},{key:"Qn",value:function(e,t){return wR(e).put(IA(this.serializer,t))}},{key:"Kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.kn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=YE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wR(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=_A(n);XE(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=SR(e);return t.forEach((function(t){var o=iI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),B_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=SR(e);return B_.forEach(t,(function(t){var a=iI(t.path);return B_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=SR(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=SR(e),i=PT();return r.Z({range:n,Y:!0},(function(e,t,n){var r=uI(e[1]),a=new C_(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=iI(t.path),r=IDBKeyRange.bound([n],[w_(n)],!1,!0),i=0;return SR(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=f(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"lt",value:function(e,t){return wR(e).get(t).next((function(e){return e?_A(e):null}))}}]),e}();function wR(e){return PI(e,"targets")}function xR(e){return PI(e,"targetGlobal")}function SR(e){return PI(e,"targetDocuments")}function _R(e,t){var n=f(e,2),r=n[0],i=n[1],a=f(t,2),o=a[0],u=a[1],s=b_(r,o);return 0===s?b_(i,u):s}var IR=function(){function e(t){p(this,e),this.$n=t,this.buffer=new zI(_R),this.Un=0}return g(e,[{key:"Wn",value:function(){return++this.Un}},{key:"Gn",value:function(e){var t=[e,this.Wn()];if(this.buffer.size<this.$n)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_R(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ER=function(){function e(t,n,r){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.zn=null}return g(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.jn(6e4)}},{key:"stop",value:function(){this.zn&&(this.zn.cancel(),this.zn=null)}},{key:"started",get:function(){return null!==this.zn}},{key:"jn",value:function(e){var t=this;ZS("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.zn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.zn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!H_(e.t0)){e.next=12;break}ZS("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,j_(e.t0);case 14:return e.next=16,t.jn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),TR=function(){function e(t,n){p(this,e),this.Hn=t,this.params=n}return g(e,[{key:"calculateTargetCount",value:function(e,t){return this.Hn.Jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return B_.resolve(eI.ae);var r=new IR(t);return this.Hn.forEachTarget(e,(function(e){return r.Gn(e.sequenceNumber)})).next((function(){return n.Hn.Yn(e,(function(e){return r.Gn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Hn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Hn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ZS("LruGarbageCollector","Garbage collection skipped; disabled"),B_.resolve(lR)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ZS("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),lR):n.Zn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Hn.getCacheSize(e)}},{key:"Zn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ZS("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),JS()<=ku.DEBUG&&ZS("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),B_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function CR(e,t){return new TR(e,t)}var AR=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=CR(this,n)}return g(e,[{key:"Jn",value:function(e){var t=this.Xn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Xn",value:function(e){var t=0;return this.Yn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Yn",value:function(e,t){return this.er(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return RR(e,n)}},{key:"removeReference",value:function(e,t,n){return RR(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return RR(e,t)}},{key:"tr",value:function(e,t){return function(e,t){var n=!1;return gR(e).X((function(r){return vR(e,r,t).next((function(e){return e&&(n=!0),B_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.er(e,(function(o,u){if(u<=t){var s=n.tr(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,S_.min()),SR(e).delete(function(e){return[0,iI(e.path)]}(o))}))}));i.push(s)}})).next((function(){return B_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return RR(e,t)}},{key:"er",value:function(e,t){var n,r=SR(e),i=eI.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=f(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==eI.ae&&t(new C_(uI(n)),i),i=s,n=u):i=eI.ae})).next((function(){i!==eI.ae&&t(new C_(uI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function RR(e,t){return SR(e).put(function(e,t){return{targetId:0,path:iI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var NR=function(){function e(){p(this,e),this.changes=new wT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return g(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,SE.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?B_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),PR=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return MR(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return MR(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],kA(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.nr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=SE.newInvalidDocument(t);return MR(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(FR(t))},(function(e,i){r=n.rr(t,i)})).next((function(){return r}))}},{key:"ir",value:function(e,t){var n=this,r={size:0,document:SE.newInvalidDocument(t)};return MR(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(FR(t))},(function(e,i){r={document:n.rr(t,i),size:hR(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ST();return this.sr(e,t,(function(e,t){var i=n.rr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"_r",value:function(e,t){var n=this,r=ST(),i=new MI(C_.comparator);return this.sr(e,t,(function(e,t){var a=n.rr(e,t);r=r.insert(e,a),i=i.insert(e,hR(t))})).next((function(){return{documents:r,ar:i}}))}},{key:"sr",value:function(e,t,n){if(t.isEmpty())return B_.resolve();var r=new zI(zR);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(FR(r.first()),FR(r.last())),a=r.getIterator(),o=a.getNext();return MR(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=C_.fromSegments([].concat(h(t.prefixPath),[t.collectionGroup,t.documentId]));o&&zR(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(FR(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),kA(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return MR(e).G(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=ST(),u=C(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,c=a.rr(C_.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);c.isFoundDocument()&&(yT(t,c)||r.has(c.key))&&(o=o.insert(c.key,c))}}catch(l){u.e(l)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ST(),o=UR(t,n),u=UR(t,M_.max());return MR(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.rr(C_.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new DR(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return LR(e).get("remoteDocumentGlobalKey").next((function(e){return i_(!!e),e}))}},{key:"nr",value:function(e,t){return LR(e).put("remoteDocumentGlobalKey",t)}},{key:"rr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=tA(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=C_.fromSegments(t.noDocument.path),i=xA(t.noDocument.readTime);n=SE.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return r_();var a=C_.fromSegments(t.unknownDocument.path),o=xA(t.unknownDocument.version);n=SE.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new x_(e[0],e[1]);return S_.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(S_.min()))return n}return SE.newInvalidDocument(e)}}]),e}();function OR(e){return new PR(e)}var DR=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).ur=e,i.trackRemovals=r,i.cr=new wT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new zI((function(e,t){return b_(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.cr.get(a);if(n.push(t.ur.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=bA(t.ur.serializer,o);i=i.add(a.path.popLast());var c=hR(s);r+=c-u.size,n.push(t.ur.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=bA(t.ur.serializer,o.convertToNoDocument(S_.min()));n.push(t.ur.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.ur.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ur.updateMetadata(e,r)),B_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ur.ir(e,t).next((function(e){return n.cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ur._r(e,t).next((function(e){var t=e.documents;return e.ar.forEach((function(e,r){n.cr.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(NR);function LR(e){return PI(e,"remoteDocumentGlobal")}function MR(e){return PI(e,"remoteDocumentsV14")}function FR(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function UR(e,t){var n=t.documentKey.path.toArray();return[e,kA(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function zR(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=b_(n[a],r[a]))return i;return(i=b_(n.length,r.length))||((i=b_(n[n.length-2],r[r.length-2]))||b_(n[n.length-1],r[r.length-1]))}var jR=g((function e(t,n){p(this,e),this.overlayedDocument=t,this.mutatedFields=n})),VR=function(){function e(t,n,r,i){p(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return g(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&rC(r.mutation,e,BI.empty(),x_.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,PT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PT(),i=TT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=IT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=TT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,PT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ST(),a=AT(),o=AT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof uC)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),rC(o.mutation,t,o.mutation.getFieldMask(),x_.now())):a.set(t.key,BI.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new jR(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=AT(),i=new MI((function(e,t){return e-t})),a=PT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||BI.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||PT()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=CT();c.forEach((function(e){if(!a.has(e)){var n=tC(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return B_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return C_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):B_.resolve(TT()),u=-1,s=a;return o.next((function(t){return B_.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?B_.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,PT())})).next((function(e){return{batchId:u,changes:ET(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new C_(t)).next((function(e){var t=IT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=IT();return this.indexManager.getCollectionParents(e,a).next((function(u){return B_.forEach(u,(function(u){var s=function(e,t){return new nT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,SE.newInvalidDocument(r)))}));var n=IT();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&rC(a.mutation,r,BI.empty(),x_.now()),yT(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),BR=function(){function e(t){p(this,e),this.serializer=t,this.lr=new Map,this.hr=new Map}return g(e,[{key:"getBundleMetadata",value:function(e,t){return B_.resolve(this.lr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:KC(e.createTime)}}(t)),B_.resolve()}},{key:"getNamedQuery",value:function(e,t){return B_.resolve(this.hr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hr.set(t.name,function(e){return{name:e.name,query:EA(e.bundledQuery),readTime:KC(e.readTime)}}(t)),B_.resolve()}}]),e}(),qR=function(){function e(){p(this,e),this.overlays=new MI(C_.comparator),this.Pr=new Map}return g(e,[{key:"getOverlay",value:function(e,t){return B_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=TT();return B_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.It(e,t,i)})),B_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Pr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Pr.delete(n)),B_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=TT(),i=t.length+1,a=new C_(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return B_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new MI((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=TT(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=TT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return B_.resolve(s)}},{key:"It",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Pr.get(r.largestBatchId).delete(n.key);this.Pr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yC(t,n));var a=this.Pr.get(t);void 0===a&&(a=PT(),this.Pr.set(t,a)),this.Pr.set(t,a.add(n.key))}}]),e}(),WR=function(){function e(){p(this,e),this.Ir=new zI(KR.dr),this.Tr=new zI(KR.Er)}return g(e,[{key:"isEmpty",value:function(){return this.Ir.isEmpty()}},{key:"addReference",value:function(e,t){var n=new KR(e,t);this.Ir=this.Ir.add(n),this.Tr=this.Tr.add(n)}},{key:"Ar",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Rr(new KR(e,t))}},{key:"Vr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"mr",value:function(e){var t=this,n=new C_(new I_([])),r=new KR(n,e),i=new KR(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Rr(e),a.push(e.key)})),a}},{key:"gr",value:function(){var e=this;this.Ir.forEach((function(t){return e.Rr(t)}))}},{key:"Rr",value:function(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}},{key:"pr",value:function(e){var t=new C_(new I_([])),n=new KR(t,e),r=new KR(t,e+1),i=PT();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new KR(e,0),n=this.Ir.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),KR=function(){function e(t,n){p(this,e),this.key=t,this.yr=n}return g(e,null,[{key:"dr",value:function(e,t){return C_.comparator(e.key,t.key)||b_(e.yr,t.yr)}},{key:"Er",value:function(e,t){return b_(e.yr,t.yr)||C_.comparator(e.key,t.key)}}]),e}(),GR=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new zI(KR.dr)}return g(e,[{key:"checkEmpty",value:function(e){return B_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new vC(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Sr=this.Sr.add(new KR(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return B_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return B_.resolve(this.br(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Dr(n),i=r<0?0:r;return B_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return B_.resolve(0===this.mutationQueue.length?-1:this.wr-1)}},{key:"getAllMutationBatches",value:function(e){return B_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new KR(t,0),i=new KR(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(function(e){var t=n.br(e.yr);a.push(t)})),B_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new zI(b_);return t.forEach((function(e){var t=new KR(e,0),i=new KR(e,Number.POSITIVE_INFINITY);n.Sr.forEachInRange([t,i],(function(e){r=r.add(e.yr)}))})),B_.resolve(this.Cr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;C_.isDocumentKey(i)||(i=i.child(""));var a=new KR(new C_(i),0),o=new zI(b_);return this.Sr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.yr)),!0)}),a),B_.resolve(this.Cr(o))}},{key:"Cr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.br(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;i_(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Sr;return B_.forEach(t.mutations,(function(i){var a=new KR(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Sr=r}))}},{key:"xn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new KR(t,0),r=this.Sr.firstAfterOrEqual(n);return B_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,B_.resolve()}},{key:"vr",value:function(e,t){return this.Dr(e)}},{key:"Dr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"br",value:function(e){var t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),HR=function(){function e(t){p(this,e),this.Fr=t,this.docs=new MI(C_.comparator),this.size=0}return g(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Fr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return B_.resolve(n?n.document.mutableCopy():SE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ST();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():SE.newInvalidDocument(e))})),B_.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ST(),a=t.path,o=new C_(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||F_(L_(l),n)<=0||(r.has(l.key)||yT(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return B_.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){r_()}},{key:"Mr",value:function(e,t){return B_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new QR(this)}},{key:"getSize",value:function(e){return B_.resolve(this.size)}}]),e}(),QR=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).ur=e,r}return g(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ur.addEntry(e,i)):t.ur.removeEntry(r)})),B_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ur.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ur.getEntries(e,t)}}]),n}(NR),$R=function(){function e(t){p(this,e),this.persistence=t,this.Or=new wT((function(e){return YE(e)}),XE),this.lastRemoteSnapshotVersion=S_.min(),this.highestTargetId=0,this.Nr=0,this.Br=new WR,this.targetCount=0,this.Lr=bR.Bn()}return g(e,[{key:"forEachTarget",value:function(e,t){return this.Or.forEach((function(e,n){return t(n)})),B_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return B_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return B_.resolve(this.Nr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),B_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Nr&&(this.Nr=t),B_.resolve()}},{key:"Qn",value:function(e){this.Or.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new bR(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Qn(t),this.targetCount+=1,B_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Qn(t),B_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,B_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Or.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Or.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),B_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return B_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Or.get(t)||null;return B_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Br.Ar(t,n),B_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Br.Vr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),B_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Br.mr(t),B_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Br.pr(t);return B_.resolve(n)}},{key:"containsKey",value:function(e,t){return B_.resolve(this.Br.containsKey(t))}}]),e}(),YR=function(){function e(t,n){var r=this;p(this,e),this.kr={},this.overlays={},this.qr=new eI(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new $R(this),this.indexManager=new tR,this.remoteDocumentCache=function(e){return new HR(e)}((function(e){return r.referenceDelegate.$r(e)})),this.serializer=new gA(n),this.Ur=new BR(this.serializer)}return g(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qR,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.kr[e.toKey()];return n||(n=new GR(t,this.referenceDelegate),this.kr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;ZS("MemoryPersistence","Starting transaction:",e);var i=new XR(this.qr.next());return this.referenceDelegate.Wr(),n(i).next((function(e){return r.referenceDelegate.Gr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zr",value:function(e,t){return B_.or(Object.values(this.kr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),XR=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return g(n)}(z_),JR=function(){function e(t){p(this,e),this.persistence=t,this.jr=new WR,this.Hr=null}return g(e,[{key:"Yr",get:function(){if(this.Hr)return this.Hr;throw r_()}},{key:"addReference",value:function(e,t,n){return this.jr.addReference(n,t),this.Yr.delete(n.toString()),B_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.jr.removeReference(n,t),this.Yr.add(n.toString()),B_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Yr.add(t.toString()),B_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.jr.mr(t.targetId).forEach((function(e){return n.Yr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Yr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Wr",value:function(){this.Hr=new Set}},{key:"Gr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B_.forEach(this.Yr,(function(r){var i=C_.fromPath(r);return t.Zr(e,i).next((function(e){e||n.removeEntry(i,S_.min())}))})).next((function(){return t.Hr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zr(e,t).next((function(e){e?n.Yr.delete(t.toString()):n.Yr.add(t.toString())}))}},{key:"$r",value:function(e){return 0}},{key:"Zr",value:function(e,t){var n=this;return B_.or([function(){return B_.resolve(n.jr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zr(e,t)}])}}],[{key:"Jr",value:function(t){return new e(t)}}]),e}(),ZR=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new q_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sI,{unique:!0}),e.createObjectStore("documentMutations")}(e),eN(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=B_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),eN(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:S_.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sI,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return B_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.ei(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ti(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ni(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ri(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ii(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:SI});t.createIndex("collectionPathOverlayIndex",_I,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",II,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:dI});t.createIndex("documentKeyIndex",hI),t.createIndex("collectionGroupIndex",pI)}(e)})).next((function(){return i.si(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.oi(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bI}).createIndex("sequenceNumberIndex",kI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wI}).createIndex("documentKeyIndex",xI,{unique:!1})}(e)}))),o}},{key:"ti",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=hR(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"ei",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return B_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return B_.forEach(r,(function(r){i_(r.userId===n.userId);var i=SA(t.serializer,r);return dR(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ni",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new I_(n),o=function(e){return[0,iI(e)]}(a);r.push(t.get(o).next((function(n){return n?B_.resolve():function(n){return t.put({targetId:0,path:iI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return B_.waitFor(r)}))}))}},{key:"ri",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:gI});var n=t.store("collectionParents"),r=new nR,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:iI(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new I_(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=f(e,3),r=(n[0],n[1]),a=(n[2],uI(r));return i(a.popLast())}))}))}},{key:"ii",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=_A(r),a=IA(t.serializer,i);return n.put(a)}))}},{key:"si",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new C_(I_.fromString(e.document.name).popFirst(5)):e.noDocument?C_.fromSegments(e.noDocument.path):e.unknownDocument?C_.fromSegments(e.unknownDocument.path):r_()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return B_.waitFor(r)}))}},{key:"oi",value:function(e,t){var n=this,r=t.store("mutations"),i=OR(this.serializer),a=new YR(JR.Jr,this.serializer.ht);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:PT();SA(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),B_.forEach(r,(function(e,r){var o=new $S(r),u=OA.Pt(n.serializer,o),s=a.getIndexManager(o),c=pR.Pt(o,n.serializer,s,a.referenceDelegate);return new VR(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new NI(t,eI.ae),e).next()}))}))}}]),e}();function eN(e){e.createObjectStore("targetDocuments",{keyPath:mI}).createIndex("documentTargetsIndex",yI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vI,{unique:!0}),e.createObjectStore("targetGlobal")}var tN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nN=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this._i=a,this.window=o,this.document=u,this.ai=c,this.ui=l,this.ci=f,this.qr=null,this.Qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.li=null,this.inForeground=!1,this.hi=null,this.Pi=null,this.Ii=Number.NEGATIVE_INFINITY,this.di=function(e){return Promise.resolve()},!e.C())throw new u_(o_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AR(this,i),this.Ti=n+"main",this.serializer=new gA(s),this.Ei=new W_(this.Ti,this.ci,new ZR(this.serializer)),this.Kr=new kR(this.referenceDelegate,this.serializer),this.remoteDocumentCache=OR(this.serializer),this.Ur=new RA,this.window&&this.window.localStorage?this.Ai=this.window.localStorage:(this.Ai=null,!1===l&&e_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return g(e,[{key:"start",value:function(){var e=this;return this.Ri().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new u_(o_.FAILED_PRECONDITION,tN);return e.Vi(),e.mi(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Kr.getHighestSequenceNumber(t)}))})).then((function(t){e.qr=new eI(t,e.ai)})).then((function(){e.Qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"gi",value:function(e){var t=this;return this.di=function(){var n=Uo(Mo().mark((function n(r){return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.k(function(){var t=Uo(Mo().mark((function t(n){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this._i.enqueueAndForget(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ri();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return iN(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.pi(t).next((function(t){t||(e.isPrimary=!1,e._i.enqueueRetryable((function(){return e.di(!1)})))}))})).next((function(){return e.yi(t)})).next((function(n){return e.isPrimary&&!n?e.wi(t).next((function(){return!1})):!!n&&e.Si(t).next((function(){return!0}))}))})).catch((function(t){if(H_(t))return ZS("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ZS("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e._i.enqueueRetryable((function(){return e.di(t)})),e.isPrimary=t}))}},{key:"pi",value:function(e){var t=this;return rN(e).get("owner").next((function(e){return B_.resolve(t.bi(e))}))}},{key:"Di",value:function(e){return iN(e).delete(this.clientId)}},{key:"Ci",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i,a=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vi(this.Ii,18e5)){e.next=6;break}return this.Ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=PI(e,"clientMetadata");return t.G().next((function(e){var n=a.Fi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return B_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ai){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ai.removeItem(this.Mi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.Pi=this._i.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ri().then((function(){return e.Ci()})).then((function(){return e.fi()}))}))}},{key:"bi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"yi",value:function(e){var t=this;return this.ui?B_.resolve(!0):rN(e).get("owner").next((function(n){if(null!==n&&t.vi(n.leaseTimestampMs,5e3)&&!t.xi(n.ownerId)){if(t.bi(n)&&t.networkEnabled)return!0;if(!t.bi(n)){if(!n.allowTabSynchronization)throw new u_(o_.FAILED_PRECONDITION,tN);return!1}}return!(!t.networkEnabled||!t.inForeground)||iN(e).G().next((function(e){return void 0===t.Fi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ZS("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Uo(Mo().mark((function e(){var t=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Qr=!1,this.Oi(),this.Pi&&(this.Pi.cancel(),this.Pi=null),this.Ni(),this.Bi(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new NI(e,eI.ae);return t.wi(n).next((function(){return t.Di(n)}))}));case 7:this.Ei.close(),this.Li();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fi",value:function(e,t){var n=this;return e.filter((function(e){return n.vi(e.updateTimeMs,t)&&!n.xi(e.clientId)}))}},{key:"ki",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return iN(t).G().next((function(t){return e.Fi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Qr}},{key:"getMutationQueue",value:function(e,t){return pR.Pt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new iR(e,this.serializer.ht.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return OA.Pt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ur}},{key:"runTransaction",value:function(e,t,n){var r=this;ZS("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?RI:14===e?AI:13===e?CI:12===e?TI:11===e?EI:void r_()}(this.ci);return this.Ei.runTransaction(e,a,o,(function(a){return i=new NI(a,r.qr?r.qr.next():eI.ae),"readwrite-primary"===t?r.pi(i).next((function(e){return!!e||r.yi(i)})).next((function(t){if(!t)throw e_("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r._i.enqueueRetryable((function(){return r.di(!1)})),new u_(o_.FAILED_PRECONDITION,U_);return n(i)})).next((function(e){return r.Si(i).next((function(){return e}))})):r.qi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"qi",value:function(e){var t=this;return rN(e).get("owner").next((function(e){if(null!==e&&t.vi(e.leaseTimestampMs,5e3)&&!t.xi(e.ownerId)&&!t.bi(e)&&!(t.ui||t.allowTabSynchronization&&e.allowTabSynchronization))throw new u_(o_.FAILED_PRECONDITION,tN)}))}},{key:"Si",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rN(e).put("owner",t)}},{key:"wi",value:function(e){var t=this,n=rN(e);return n.get("owner").next((function(e){return t.bi(e)?(ZS("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B_.resolve()}))}},{key:"vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(e_("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Vi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.hi=function(){e._i.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ri()}))},this.document.addEventListener("visibilitychange",this.hi),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.hi&&(this.document.removeEventListener("visibilitychange",this.hi),this.hi=null)}},{key:"mi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.li=function(){t.Oi();var e=/(?:Version|Mobile)\/1[456]/;!Yo()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t._i.enterRestrictedMode(!0),t._i.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.li))}},{key:"Bi",value:function(){this.li&&(this.window.removeEventListener("pagehide",this.li),this.li=null)}},{key:"xi",value:function(e){var t;try{var n=null!==(null===(t=this.Ai)||void 0===t?void 0:t.getItem(this.Mi(e)));return ZS("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return e_("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Oi",value:function(){if(this.Ai)try{this.Ai.setItem(this.Mi(this.clientId),String(Date.now()))}catch(e){e_("Failed to set zombie client id.",e)}}},{key:"Li",value:function(){if(this.Ai)try{this.Ai.removeItem(this.Mi(this.clientId))}catch(e){}}},{key:"Mi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return W_.C()}}]),e}();function rN(e){return PI(e,"owner")}function iN(e){return PI(e,"clientMetadata")}function aN(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var oN=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}return g(e,null,[{key:"$i",value:function(t,n){var r,i=PT(),a=PT(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),uN=function(){function e(){p(this,e),this._documentReadCount=0}return g(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),sN=function(){function e(){p(this,e),this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}return g(e,[{key:"initialize",value:function(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.Hi(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Ji(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new uN;return i.Yi(e,t,n).next((function(r){if(a.result=r,i.Wi)return i.Zi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Zi",value:function(e,t,n,r){return n.documentReadCount<this.Gi?(JS()<=ku.DEBUG&&ZS("QueryEngine","SDK will not create cache indexes for query:",mT(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),B_.resolve()):(JS()<=ku.DEBUG&&ZS("QueryEngine","Query:",mT(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.zi*r?(JS()<=ku.DEBUG&&ZS("QueryEngine","The SDK decides to create cache indexes for query:",mT(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lT(t))):B_.resolve())}},{key:"Hi",value:function(e,t){var n=this;if(aT(t))return B_.resolve(null);var r=lT(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=hT(t,null,"F"),r=lT(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=PT.apply(void 0,h(i));return n.ji.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Xi(t,i);return n.es(t,o,a,r.readTime)?n.Hi(e,hT(t,null,"F")):n.ts(e,o,t,r)}))}))})))}))}},{key:"Ji",value:function(e,t,n,r){var i=this;return aT(t)||r.isEqual(S_.min())?B_.resolve(null):this.ji.getDocuments(e,n).next((function(a){var o=i.Xi(t,a);return i.es(t,o,n,r)?B_.resolve(null):(JS()<=ku.DEBUG&&ZS("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mT(t)),i.ts(e,o,t,D_(r,-1)).next((function(e){return e})))}))}},{key:"Xi",value:function(e,t){var n=new zI(bT(e));return t.forEach((function(t,r){yT(e,r)&&(n=n.add(r))})),n}},{key:"es",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Yi",value:function(e,t,n){return JS()<=ku.DEBUG&&ZS("QueryEngine","Using full collection scan to execute query:",mT(t)),this.ji.getDocumentsMatchingQuery(e,t,M_.min(),n)}},{key:"ts",value:function(e,t,n,r){return this.ji.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),cN=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.ns=n,this.serializer=i,this.rs=new MI(b_),this.ss=new wT((function(e){return YE(e)}),XE),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}return g(e,[{key:"us",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VR(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.rs)}))}}]),e}();function lN(e,t,n,r){return new cN(e,t,n,r)}function fN(e,t){return dN.apply(this,arguments)}function dN(){return dN=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.us(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=PT(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=C(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{cs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function hN(e,t){var n=a_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n._s.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=B_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);i_(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=PT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function pN(e){var t=a_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Kr.getLastRemoteSnapshotVersion(e)}))}function vN(e,t){var n=a_(e),r=t.snapshotVersion,i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Kr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Kr.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(WI.EMPTY_BYTE_STRING,S_.min()).withLastLimboFreeSnapshotVersion(S_.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Kr.updateTargetData(e,c))}}));var u=ST(),s=PT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(mN(e,a,t.documentUpdates).next((function(e){u=e.ls,s=e.hs}))),!r.isEqual(S_.min())){var c=n.Kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return B_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.rs=i,e}))}function mN(e,t,n){var r=PT(),i=PT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ST();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(S_.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ZS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ls:r,hs:i}}))}function yN(e,t){var n=a_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function gN(e,t){var n=a_(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Kr.getTargetData(e,t).next((function(i){return i?(r=i,B_.resolve(r)):n.Kr.allocateTargetId(e).next((function(i){return r=new yA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.rs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.rs=n.rs.insert(e.targetId,e),n.ss.set(t,e.targetId)),e}))}function bN(e,t,n){return kN.apply(this,arguments)}function kN(){return kN=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a_(t),a=i.rs.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),H_(e.t1)){e.next=12;break}throw e.t1;case 12:ZS("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.rs=i.rs.remove(n),i.ss.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kN.apply(this,arguments)}function wN(e,t,n){var r=a_(e),i=S_.min(),a=PT();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=a_(e),i=r.ss.get(n);return void 0!==i?B_.resolve(r.rs.get(i)):r.Kr.getTargetData(t,n)}(r,e,lT(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ns.getDocumentsMatchingQuery(e,t,n?i:S_.min(),n?a:PT())})).next((function(e){return _N(r,gT(t),e),{documents:e,Ps:a}}))}))}function xN(e,t){var n=a_(e),r=a_(n.Kr),i=n.rs.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function SN(e,t){var n=a_(e),r=n.os.get(t)||S_.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n._s.getAllFromCollectionGroup(e,t,D_(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return _N(n,t,e),e}))}function _N(e,t,n){var r=e.os.get(t)||S_.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.os.set(t,r)}function IN(e,t,n,r){return EN.apply(this,arguments)}function EN(){return EN=Uo(Mo().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=a_(t),o=PT(),u=ST(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Is(l.metadata.name),l.document&&(o=o.add(f)),(d=n.ds(l)).setReadTime(n.Ts(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a._s.newChangeBuffer({trackRemovals:!0}),e.next=7,gN(a,function(e){return lT(iT(I_.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return mN(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ls,t.hs)})).next((function(){return t.ls}))}))})));case 9:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}function TN(e,t){return CN.apply(this,arguments)}function CN(){return CN=Uo(Mo().mark((function e(t,n){var r,i,a,o=arguments;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:PT(),e.next=3,gN(t,lT(EA(n.bundledQuery)));case 3:return i=e.sent,a=a_(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=KC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ur.saveNamedQuery(e,n);var o=i.withResumeToken(WI.EMPTY_BYTE_STRING,t);return a.rs=a.rs.insert(o.targetId,o),a.Kr.updateTargetData(e,o).next((function(){return a.Kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ur.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),CN.apply(this,arguments)}function AN(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function RN(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function NN(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var PN=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return g(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new u_(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(e_("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ON=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return g(e,[{key:"As",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new u_(i.error.code,i.error.message))),a?new e(t,i.state,r):(e_("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),DN=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return g(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=DT(),o=0;i&&o<r.activeTargetIds.length;++o)i=rI(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(e_("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),LN=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return g(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(e_("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),MN=function(){function e(){p(this,e),this.activeTargetIds=DT()}return g(e,[{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Vs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"As",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),FN=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this._i=n,this.persistenceKey=r,this.fs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.gs=this.ps.bind(this),this.ys=new MI(b_),this.started=!1,this.ws=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ss=AN(this.persistenceKey,this.fs),this.bs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ys=this.ys.insert(this.fs,new MN),this.Ds=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Cs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.vs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Fs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ms=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.gs)}return g(e,[{key:"start",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ki();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.fs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(AN(this.persistenceKey,i)))&&(o=DN.Es(i,a))&&(this.ys=this.ys.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.xs(),(u=this.storage.getItem(this.Fs))&&(s=this.Os(u))&&this.Ns(s),c=C(this.ws);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ps(f)}catch(h){c.e(h)}finally{c.f()}this.ws=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.bs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Bs(this.ys)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ys.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ls(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ls(e,t,n),this.ks(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(NN(this.persistenceKey,e));if(n){var r=ON.Es(e,n);r&&(t=r.state)}}return this.qs.Rs(e),this.xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.qs.Vs(e),this.xs()}},{key:"isLocalQueryTarget",value:function(e){return this.qs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(NN(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ks(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ks(e)}},{key:"notifyBundleLoaded",value:function(e){this.$s(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.gs),this.removeItem(this.Ss),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ZS("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ZS("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ZS("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ps",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ZS("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ss)return void e_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this._i.enqueueRetryable(Uo(Mo().mark((function e(){var r,i,a,o,u,s,c;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ds.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Us(n.key),e.abrupt("return",t.Ws(r,null));case 6:if(!(i=t.Gs(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ws(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Cs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.zs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.js(a));case 16:e.next=41;break;case 18:if(!t.vs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Hs(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Js(o));case 23:e.next=41;break;case 25:if(n.key!==t.Fs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Os(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ns(u));case 30:e.next=41;break;case 32:if(n.key!==t.bs){e.next=37;break}s=function(e){var t=eI.ae;if(null!=e)try{var n=JSON.parse(e);i_("number"==typeof n),t=n}catch(e){e_("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==eI.ae&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Ms){e.next=41;break}return c=t.Ys(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Zs(e)})));case 41:e.next=44;break;case 43:t.ws.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"qs",get:function(){return this.ys.get(this.fs)}},{key:"xs",value:function(){this.setItem(this.Ss,this.qs.As())}},{key:"Ls",value:function(e,t,n){var r=new PN(this.currentUser,e,t,n),i=RN(this.persistenceKey,this.currentUser,e);this.setItem(i,r.As())}},{key:"ks",value:function(e){var t=RN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ks",value:function(e){var t={clientId:this.fs,onlineState:e};this.storage.setItem(this.Fs,JSON.stringify(t))}},{key:"Qs",value:function(e,t,n){var r=NN(this.persistenceKey,e),i=new ON(e,t,n);this.setItem(r,i.As())}},{key:"$s",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Ms,t)}},{key:"Us",value:function(e){var t=this.Ds.exec(e);return t?t[1]:null}},{key:"Gs",value:function(e,t){var n=this.Us(e);return DN.Es(n,t)}},{key:"zs",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return PN.Es(new $S(i),r,t)}},{key:"Hs",value:function(e,t){var n=this.vs.exec(e),r=Number(n[1]);return ON.Es(r,t)}},{key:"Os",value:function(e){return LN.Es(e)}},{key:"Ys",value:function(e){return JSON.parse(e)}},{key:"js",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Xs(t.batchId,t.state,t.error));case 2:ZS("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Js",value:function(e){return this.syncEngine.eo(e.targetId,e.state,e.error)}},{key:"Ws",value:function(e,t){var n=this,r=t?this.ys.insert(e,t):this.ys.remove(e),i=this.Bs(this.ys),a=this.Bs(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.no(o,u).then((function(){n.ys=r}))}},{key:"Ns",value:function(e){this.ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Bs",value:function(e){var t=DT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),UN=function(){function e(){p(this,e),this.ro=new MN,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return g(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.ro.Rs(e),this.io[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.io[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.ro.Vs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.io[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.ro.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.ro.activeTargetIds.has(e)}},{key:"start",value:function(){return this.ro=new MN,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),zN=function(){function e(){p(this,e)}return g(e,[{key:"so",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),jN=function(){function e(){var t=this;p(this,e),this.oo=function(){return t._o()},this.ao=function(){return t.uo()},this.co=[],this.lo()}return g(e,[{key:"so",value:function(e){this.co.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}},{key:"lo",value:function(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}},{key:"_o",value:function(){ZS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"uo",value:function(){ZS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.co);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),VN=null;function BN(){return null===VN?VN=268435456+Math.round(2147483648*Math.random()):VN++,"0x"+VN.toString(16)}var qN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},WN=function(){function e(t){p(this,e),this.ho=t.ho,this.Po=t.Po}return g(e,[{key:"Io",value:function(e){this.To=e}},{key:"Eo",value:function(e){this.Ao=e}},{key:"onMessage",value:function(e){this.Ro=e}},{key:"close",value:function(){this.Po()}},{key:"send",value:function(e){this.ho(e)}},{key:"Vo",value:function(){this.To()}},{key:"mo",value:function(e){this.Ao(e)}},{key:"fo",value:function(e){this.Ro(e)}}]),e}(),KN="WebChannelConnection",GN=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return g(n,[{key:"vo",value:function(e,t,n,r){var i=BN();return new Promise((function(a,o){var u=new KS;u.setWithCredentials(!0),u.listenOnce(VS.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case jS.NO_ERROR:var t=u.getResponseJson();ZS(KN,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case jS.TIMEOUT:ZS(KN,"RPC '".concat(e,"' ").concat(i," timed out")),o(new u_(o_.DEADLINE_EXCEEDED,"Request time out"));break;case jS.HTTP_ERROR:var n=u.getStatus();if(ZS(KN,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(o_).indexOf(t)>=0?t:o_.UNKNOWN}(s.status);o(new u_(c,s.message))}else o(new u_(o_.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new u_(o_.UNAVAILABLE,"Connection failed."));break;default:r_()}}finally{ZS(KN,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);ZS(KN,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Mo",value:function(e,t,n){var r=BN(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=US(),o=zS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");ZS(KN,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,d=!1,h=new WN({ho:function(t){d?ZS(KN,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(ZS(KN,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),ZS(KN,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},Po:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,WS.EventType.OPEN,(function(){d||ZS(KN,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,WS.EventType.CLOSE,(function(){d||(d=!0,ZS(KN,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.mo())})),p(l,WS.EventType.ERROR,(function(t){d||(d=!0,t_(KN,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.mo(new u_(o_.UNAVAILABLE,"The operation could not be completed")))})),p(l,WS.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];i_(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ZS(KN,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=fC[e];if(void 0!==t)return kC(t)}(u),c=o.message;void 0===s&&(s=o_.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),d=!0,h.mo(new u_(s,c)),l.close()}else ZS(KN,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.fo(i)}})),p(o,BS.STAT_EVENT,(function(t){t.stat===qS.PROXY?ZS(KN,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===qS.NOPROXY&&ZS(KN,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.Vo()}),0),h}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo="projects/".concat(r,"/databases/").concat(i),this.wo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return g(e,[{key:"So",get:function(){return!1}},{key:"bo",value:function(e,t,n,r,i){var a=BN(),o=this.Do(e,t);ZS("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,r,i),this.vo(e,o,u,n).then((function(t){return ZS("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw t_("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Fo",value:function(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}},{key:"Co",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+YS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Do",value:function(e,t){var n=qN[e];return"".concat(this.po,"/v1/").concat(t,":").concat(n)}}]),e}());function HN(){return"undefined"!=typeof window?window:null}function QN(){return"undefined"!=typeof document?document:null}function $N(e){return new jC(e,!0)}var YN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}return g(e,[{key:"reset",value:function(){this.Bo=0}},{key:"qo",value:function(){this.Bo=this.No}},{key:"Qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&ZS("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Bo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,(function(){return t.ko=Date.now(),e()})),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}},{key:"$o",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Ko",value:function(){return(Math.random()-.5)*this.Bo}}]),e}(),XN=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this._i=t,this.Uo=r,this.Wo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new YN(t,n)}return g(e,[{key:"Jo",value:function(){return 1===this.state||5===this.state||this.Yo()}},{key:"Yo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Zo()}},{key:"stop",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Jo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xo",value:function(){this.state=0,this.Ho.reset()}},{key:"e_",value:function(){var e=this;this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,(function(){return e.t_()})))}},{key:"n_",value:function(e){this.r_(),this.stream.send(e)}},{key:"t_",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Yo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"i_",value:function(){this.jo&&(this.jo.cancel(),this.jo=null)}},{key:"close",value:function(){var e=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.r_(),this.i_(),this.Ho.cancel(),this.Go++,4!==t?this.Ho.reset():n&&n.code===o_.RESOURCE_EXHAUSTED?(e_(n.toString()),e_("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===o_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"s_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=f(t,2),i=r[0],a=r[1];e.Go===n&&e.__(i,a)}),(function(n){t((function(){var t=new u_(o_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.a_(t)}))}))}},{key:"__",value:function(e,t){var n=this,r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io((function(){r((function(){return n.state=2,n.jo=n._i.enqueueAfterDelay(n.Wo,1e4,(function(){return n.Yo()&&(n.state=3),Promise.resolve()})),n.listener.Io()}))})),this.stream.Eo((function(e){r((function(){return n.a_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Zo",value:function(){var e=this;this.state=5,this.Ho.Qo(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"a_",value:function(e){return ZS("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"o_",value:function(e){var t=this;return function(n){t._i.enqueueAndForget((function(){return t.Go===e?n():(ZS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),JN=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return g(n,[{key:"u_",value:function(e,t){return this.connection.Mo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ho.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:r_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(i_(void 0===t||"string"==typeof t),WI.fromBase64String(t||"")):(i_(void 0===t||t instanceof Uint8Array),WI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?o_.UNKNOWN:kC(e.code);return new u_(t,e.message||"")}(o);n=new PC(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=$C(e,s.document.name),l=KC(s.document.updateTime),f=s.document.createTime?KC(s.document.createTime):S_.min(),d=new wE({mapValue:{fields:s.document.fields}}),h=SE.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new RC(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=$C(e,m.document),g=m.readTime?KC(m.readTime):S_.min(),b=SE.newNoDocument(y,g),k=m.removedTargetIds||[];n=new RC([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=$C(e,w.document),S=w.removedTargetIds||[];n=new RC([],S,x,null)}else{if(!("filter"in t))return r_();t.filter;var _=t.filter;_.targetId;var I=_.count,E=void 0===I?0:I,T=_.unchangedNames,C=new gC(E,T),A=_.targetId;n=new NC(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return S_.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?S_.min():t.readTime?KC(t.readTime):S_.min()}(e);return this.listener.c_(t,n)}},{key:"l_",value:function(e){var t={};t.database=JC(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=JE(r)?{documents:aA(e,r)}:{query:oA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qC(e,t.resumeToken);var i=VC(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(S_.min())>0){n.readTime=BC(e,t.snapshotVersion.toTimestamp());var a=VC(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return r_()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.n_(t)}},{key:"h_",value:function(e){var t={};t.database=JC(this.serializer),t.removeTarget=e,this.n_(t)}}]),n}(XN),ZN=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.P_=!1,s}return g(n,[{key:"I_",get:function(){return this.P_}},{key:"start",value:function(){this.P_=!1,this.lastStreamToken=void 0,Lo(w(n.prototype),"start",this).call(this)}},{key:"s_",value:function(){this.P_&&this.d_([])}},{key:"u_",value:function(e,t){return this.connection.Mo("Write",e,t)}},{key:"onMessage",value:function(e){if(i_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();var t=function(e,t){return e&&e.length>0?(i_(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?KC(e.updateTime):KC(t);return n.isEqual(S_.min())&&(n=KC(t)),new XT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=KC(e.commitTime);return this.listener.T_(n,t)}return i_(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}},{key:"A_",value:function(){var e={};e.database=JC(this.serializer),this.n_(e)}},{key:"d_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return rA(t.serializer,e)}))};this.n_(n)}}]),n}(XN),eP=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.R_=!1,o}return g(n,[{key:"V_",value:function(){if(this.R_)throw new u_(o_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"bo",value:function(e,t,n){var r=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=f(i,2),o=a[0],u=a[1];return r.connection.bo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===o_.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new u_(o_.UNKNOWN,e.toString())}))}},{key:"Fo",value:function(e,t,n,r){var i=this;return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=f(a,2),u=o[0],s=o[1];return i.connection.Fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===o_.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new u_(o_.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.R_=!0}}]),n}(g((function e(){p(this,e)})));var tP=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}return g(e,[{key:"y_",value:function(){var e=this;0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.g_=null,e.S_("Backend didn't respond within 10 seconds."),e.w_("Offline"),Promise.resolve()})))}},{key:"b_",value:function(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.w_("Offline")))}},{key:"set",value:function(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}},{key:"w_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"S_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.p_?(e_(t),this.p_=!1):ZS("OnlineStateTracker",t)}},{key:"D_",value:function(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}]),e}(),nP=g((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so((function(e){r.enqueueAndForget(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hP(o),!e.t0){e.next=5;break}return ZS("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a_(t)).F_.add(4),e.next=4,aP(n);case 4:return n.O_.set("Unknown"),n.F_.delete(4),e.next=8,rP(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.O_=new tP(r,i)}));function rP(e){return iP.apply(this,arguments)}function iP(){return(iP=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hP(t)){e.next=18;break}n=C(t.M_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function aP(e){return oP.apply(this,arguments)}function oP(){return(oP=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.M_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function uP(e,t){var n=a_(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),dP(n)?fP(n):BP(n).Yo()&&cP(n,t))}function sP(e,t){var n=a_(e),r=BP(n);n.v_.delete(t),r.Yo()&&lP(n,t),0===n.v_.size&&(r.Yo()?r.e_():hP(n)&&n.O_.set("Unknown"))}function cP(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(S_.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}BP(e).l_(t)}function lP(e,t){e.N_.Le(t),BP(e).h_(t)}function fP(e){e.N_=new DC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.v_.get(t)||null},st:function(){return e.datastore.serializer.databaseId}}),BP(e).start(),e.O_.y_()}function dP(e){return hP(e)&&!BP(e).Jo()&&e.v_.size>0}function hP(e){return 0===a_(e).F_.size}function pP(e){e.N_=void 0}function vP(e){return mP.apply(this,arguments)}function mP(){return(mP=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.v_.forEach((function(e,n){cP(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yP(e,t){return gP.apply(this,arguments)}function gP(){return(gP=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pP(t),dP(t)?(t.O_.b_(n),fP(t)):t.O_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bP(e,t,n){return kP.apply(this,arguments)}function kP(){return kP=Uo(Mo().mark((function e(t,n,r){var i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.O_.set("Online"),!(n instanceof PC&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.v_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.v_.delete(o),t.N_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ZS("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,wP(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof RC?t.N_.Ge(n):n instanceof NC?t.N_.Xe(n):t.N_.He(n),r.isEqual(S_.min())){e.next=29;break}return e.prev=14,e.next=17,pN(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.N_._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.v_.get(r);i&&e.v_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.v_.get(t);if(r){e.v_.set(t,r.withResumeToken(WI.EMPTY_BYTE_STRING,r.snapshotVersion)),lP(e,t);var i=new yA(r.target,t,n,r.sequenceNumber);cP(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ZS("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,wP(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),kP.apply(this,arguments)}function wP(e,t,n){return xP.apply(this,arguments)}function xP(){return(xP=Uo(Mo().mark((function e(t,n,r){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H_(n)){e.next=2;break}throw n;case 2:return t.F_.add(1),e.next=5,aP(t);case 5:t.O_.set("Offline"),r||(r=function(){return pN(t.localStore)}),t.asyncQueue.enqueueRetryable(Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZS("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.F_.delete(1),e.next=6,rP(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SP(e,t){return t().catch((function(n){return wP(e,n,t)}))}function _P(e){return IP.apply(this,arguments)}function IP(){return IP=Uo(Mo().mark((function e(t){var n,r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a_(t),r=qP(n),i=n.C_.length>0?n.C_[n.C_.length-1].batchId:-1;case 2:if(!EP(n)){e.next=19;break}return e.prev=3,e.next=6,yN(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.C_.length&&r.e_(),e.abrupt("break",19);case 10:i=a.batchId,TP(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,wP(n,e.t0);case 17:e.next=2;break;case 19:CP(n)&&AP(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),IP.apply(this,arguments)}function EP(e){return hP(e)&&e.C_.length<10}function TP(e,t){e.C_.push(t);var n=qP(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function CP(e){return hP(e)&&!qP(e).Jo()&&e.C_.length>0}function AP(e){qP(e).start()}function RP(e){return NP.apply(this,arguments)}function NP(){return(NP=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qP(t).A_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PP(e){return OP.apply(this,arguments)}function OP(){return(OP=Uo(Mo().mark((function e(t){var n,r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qP(t),r=C(t.C_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.d_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function DP(e,t,n){return LP.apply(this,arguments)}function LP(){return LP=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.C_.shift(),a=mC.from(i,n,r),e.next=3,SP(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_P(t);case 5:case"end":return e.stop()}}),e)}))),LP.apply(this,arguments)}function MP(e,t){return FP.apply(this,arguments)}function FP(){return FP=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&qP(t).I_,!e.t0){e.next=4;break}return e.next=4,function(){var e=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return bC(e)&&e!==o_.ABORTED}(n.code)){e.next=7;break}return r=t.C_.shift(),qP(t).Xo(),e.next=5,SP(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_P(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:CP(t)&&AP(t);case 5:case"end":return e.stop()}}),e)}))),FP.apply(this,arguments)}function UP(e,t){return zP.apply(this,arguments)}function zP(){return zP=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=a_(t)).asyncQueue.verifyOperationInProgress(),ZS("RemoteStore","RemoteStore received new credentials"),i=hP(r),r.F_.add(3),e.next=6,aP(r);case 6:return i&&r.O_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.F_.delete(3),e.next=12,rP(r);case 12:case"end":return e.stop()}}),e)}))),zP.apply(this,arguments)}function jP(e,t){return VP.apply(this,arguments)}function VP(){return(VP=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a_(t),!n){e.next=7;break}return r.F_.delete(2),e.next=5,rP(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.F_.add(2),e.next=12,aP(r);case 12:r.O_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BP(e){return e.B_||(e.B_=function(e,t,n){var r=a_(e);return r.V_(),new JN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:vP.bind(null,e),Eo:yP.bind(null,e),c_:bP.bind(null,e)}),e.M_.push(function(){var t=Uo(Mo().mark((function t(n){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.B_.Xo(),dP(e)?fP(e):e.O_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.B_.stop();case 6:pP(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}function qP(e){return e.L_||(e.L_=function(e,t,n){var r=a_(e);return r.V_(),new ZN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Io:RP.bind(null,e),Eo:MP.bind(null,e),E_:PP.bind(null,e),T_:DP.bind(null,e)}),e.M_.push(function(){var t=Uo(Mo().mark((function t(n){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Xo(),t.next=4,_P(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.C_.length>0&&(ZS("RemoteStore","Stopping write stream with ".concat(e.C_.length," pending writes")),e.C_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_}var WP=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new s_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return g(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new u_(o_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function KP(e,t){if(e_("AsyncQueue","".concat(t,": ").concat(e)),H_(e))return new u_(o_.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var GP=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||C_.comparator(e.key,n.key)}:function(e,t){return C_.comparator(e.key,t.key)},this.keyedMap=IT(),this.sortedSet=new MI(this.comparator)}return g(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),HP=function(){function e(){p(this,e),this.k_=new MI(C_.comparator)}return g(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.k_.get(t);n?0!==e.type&&3===n.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==n.type?this.k_=this.k_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.k_=this.k_.remove(t):1===e.type&&2===n.type?this.k_=this.k_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):r_():this.k_=this.k_.insert(t,e)}},{key:"q_",value:function(){var e=[];return this.k_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),QP=function(){function e(t,n,r,i,a,o,u,s,c){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return g(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,GP.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),$P=g((function e(){p(this,e),this.Q_=void 0,this.listeners=[]})),YP=g((function e(){p(this,e),this.queries=new wT((function(e){return vT(e)}),pT),this.onlineState="Unknown",this.K_=new Set}));function XP(e,t){return JP.apply(this,arguments)}function JP(){return JP=Uo(Mo().mark((function e(t,n){var r,i,a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a_(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $P),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=KP(e.t0,"Initialization of query '".concat(mT(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.U_(r.onlineState),o.Q_&&n.W_(o.Q_)&&rO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),JP.apply(this,arguments)}function ZP(e,t){return eO.apply(this,arguments)}function eO(){return eO=Uo(Mo().mark((function e(t,n){var r,i,a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a_(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),eO.apply(this,arguments)}function tO(e,t){var n,r=a_(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.W_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&rO(r)}function nO(e,t,n){var r=a_(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function rO(e){e.K_.forEach((function(e){e.next()}))}var iO=function(){function e(t,n,r){p(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return g(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new QP(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=QP.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}(),aO=function(){function e(t,n){p(this,e),this.X_=t,this.byteLength=n}return g(e,[{key:"ea",value:function(){return"metadata"in this.X_}}]),e}(),oO=function(){function e(t){p(this,e),this.serializer=t}return g(e,[{key:"Is",value:function(e){return $C(this.serializer,e)}},{key:"ds",value:function(e){return e.metadata.exists?tA(this.serializer,e.document,!1):SE.newNoDocument(this.Is(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return KC(e)}}]),e}(),uO=function(){function e(t,n,r){p(this,e),this.ta=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sO(t)}return g(e,[{key:"na",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;var n=I_.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ra",value:function(e){var t,n=new Map,r=new oO(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Is(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||PT()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IN(this.localStore,new oO(this.serializer),this.documents,this.ta.id);case 2:t=e.sent,n=this.ra(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,TN(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var cO=g((function e(t){p(this,e),this.key=t})),lO=g((function e(t){p(this,e),this.key=t})),fO=function(){function e(t,n){p(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=PT(),this.mutatedKeys=PT(),this.ua=bT(t),this.ca=new GP(this.ua)}return g(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new HP,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yT(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Ia(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ua(f,s)>0||c&&n.ua(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:u,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var a=e.Pa.q_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return r_()}};return n(e)-n(t)}(e.type,t.type)||r.ua(e.doc,t.doc)})),this.da(n);var o=t?this.Ta():[],u=0===this.aa.size&&this.current?1:0,s=u!==this._a;return this._a=u,0!==a.length||s?{snapshot:new QP(this.query,e.ca,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new HP,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"da",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ta",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=PT(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new lO(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new cO(e))})),n}},{key:"Ra",value:function(e){this.oa=e.Ps,this.aa=PT();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return QP.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),dO=g((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),hO=g((function e(t){p(this,e),this.key=t,this.ma=!1})),pO=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new wT((function(e){return vT(e)}),pT),this.pa=new Map,this.ya=new Set,this.wa=new MI(C_.comparator),this.Sa=new Map,this.ba=new WR,this.Da={},this.Ca=new Map,this.va=bR.Ln(),this.onlineState="Unknown",this.Fa=void 0}return g(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function vO(e,t){return mO.apply(this,arguments)}function mO(){return mO=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sD(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,gN(r.localStore,lT(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,yO(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&uP(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),mO.apply(this,arguments)}function yO(e,t,n,r,i){return gO.apply(this,arguments)}function gO(){return gO=Uo(Mo().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){return function(){var e=Uo(Mo().mark((function e(t,n,r,i){var a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.es,!e.t0){e.next=6;break}return e.next=5,wN(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(UO(t,n.targetId,u.Ea),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,wN(t.localStore,n,!0);case 3:return o=e.sent,u=new fO(n,o.Ps),s=u.ha(o.documents),c=AC.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),UO(t,r,l.Ea),f=new dO(n,r,u),e.abrupt("return",(t.ga.set(n,f),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function bO(e,t){return kO.apply(this,arguments)}function kO(){return kO=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a_(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!pT(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,bN(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sP(r.remoteStore,i.targetId),MO(r,i.targetId)})).catch(j_);case 9:e.next=14;break;case 11:return MO(r,i.targetId),e.next=14,bN(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),kO.apply(this,arguments)}function wO(e,t,n){return xO.apply(this,arguments)}function xO(){return xO=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=a_(e),a=x_.now(),o=t.reduce((function(e,t){return e.add(t.key)}),PT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ST(),s=PT();return i._s.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=iC(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new uC(c.key,l,xE(l.value.mapValue),JT.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ET(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new MI(b_)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,VO(i,a.changes);case 9:return e.next=11,_P(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=KP(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),xO.apply(this,arguments)}function SO(e,t){return _O.apply(this,arguments)}function _O(){return _O=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.prev=1,e.next=4,vN(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(i_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?i_(n.ma):e.removedDocuments.size>0&&(i_(n.ma),n.ma=!1))})),e.next=8,VO(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,j_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_O.apply(this,arguments)}function IO(e,t,n){var r=a_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=a_(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&rO(n)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function EO(e,t,n){return TO.apply(this,arguments)}function TO(){return TO=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s,c;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=a_(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new MI(C_.comparator)).insert(o,SE.newNoDocument(o,S_.min())),s=PT().add(o),c=new CC(S_.min(),new Map,new MI(b_),u,s),e.next=9,SO(i,c);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),jO(i),e.next=16;break;case 14:return e.next=16,bN(i.localStore,n,!1).then((function(){return MO(i,n,r)})).catch(j_);case 16:case"end":return e.stop()}}),e)}))),TO.apply(this,arguments)}function CO(e,t){return AO.apply(this,arguments)}function AO(){return AO=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),i=n.batch.batchId,e.prev=1,e.next=4,hN(r.localStore,n);case 4:return a=e.sent,LO(r,i,null),DO(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,VO(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,j_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),AO.apply(this,arguments)}function RO(e,t,n){return NO.apply(this,arguments)}function NO(){return NO=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),e.prev=1,e.next=4,function(e,t){var n=a_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return i_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,LO(i,n,r),DO(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,VO(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,j_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),NO.apply(this,arguments)}function PO(e,t){return OO.apply(this,arguments)}function OO(){return OO=Uo(Mo().mark((function e(t,n){var r,i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hP((r=a_(t)).remoteStore)||ZS("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=a_(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ca.get(i)||[]).push(n),r.Ca.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=KP(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),OO.apply(this,arguments)}function DO(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function LO(e,t,n){var r=a_(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function MO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach((function(t){e.ba.containsKey(t)||FO(e,t)}))}function FO(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(sP(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),jO(e))}function UO(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof cO?(e.ba.addReference(a.key,t),zO(e,a)):a instanceof lO?(ZS("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||FO(e,a.key)):r_()}}catch(o){i.e(o)}finally{i.f()}}function zO(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(ZS("SyncEngine","New document in limbo: "+n),e.ya.add(r),jO(e))}function jO(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new C_(I_.fromString(t)),r=e.va.next();e.Sa.set(r,new hO(n)),e.wa=e.wa.insert(n,r),uP(e.remoteStore,new yA(lT(iT(n.path)),r,"TargetPurposeLimboResolution",eI.ae))}}function VO(e,t,n){return BO.apply(this,arguments)}function BO(){return BO=Uo(Mo().mark((function e(t,n,r){var i,a,o,u;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a_(t),a=[],o=[],u=[],e.t0=i.ga.isEmpty(),e.t0){e.next=9;break}return i.ga.forEach((function(e,t){u.push(i.Ma(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=oN.$i(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.fa.c_(a),e.next=9,function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return B_.forEach(n,(function(t){return B_.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return B_.forEach(t.Ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),H_(e.t0)){e.next=10;break}throw e.t0;case 10:ZS("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.rs.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.rs=r.rs.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),BO.apply(this,arguments)}function qO(e,t){return WO.apply(this,arguments)}function WO(){return(WO=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=a_(t)).currentUser.isEqual(n)){e.next=11;break}return ZS("SyncEngine","User change. New user:",n.toKey()),e.next=5,fN(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new u_(o_.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,VO(r,i.cs);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KO(e,t){var n=a_(e),r=n.Sa.get(t);if(r&&r.ma)return PT().add(r.key);var i=PT(),a=n.pa.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ga.get(s);i=i.unionWith(c.view.la)}}catch(l){u.e(l)}finally{u.f()}return i}function GO(e,t){return HO.apply(this,arguments)}function HO(){return HO=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.next=3,wN(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ra(i),e.abrupt("return",(r.isPrimaryClient&&UO(r,n.targetId,a.Ea),a));case 6:case"end":return e.stop()}}),e)}))),HO.apply(this,arguments)}function QO(e,t){return $O.apply(this,arguments)}function $O(){return($O=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.abrupt("return",SN(r.localStore,n).then((function(e){return VO(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YO(e,t,n,r){return XO.apply(this,arguments)}function XO(){return XO=Uo(Mo().mark((function e(t,n,r,i){var a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=a_(t),e.next=3,function(e,t){var n=a_(e),r=a_(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Fn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):B_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,_P(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(LO(a,n,i||null),DO(a,n),function(e,t){a_(a_(e).mutationQueue).xn(t)}(a.localStore,n)):r_();case 11:return e.next=13,VO(a,o);case 13:e.next=16;break;case 15:ZS("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),XO.apply(this,arguments)}function JO(e,t){return ZO.apply(this,arguments)}function ZO(){return(ZO=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sD(r=a_(t)),cD(r),!0!==n||!0===r.Fa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,eD(r,i.toArray());case 5:return a=e.sent,r.Fa=!0,e.next=9,jP(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,uP(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Fa){e.next=25;break}return c=[],l=Promise.resolve(),r.pa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return MO(r,t),bN(r.localStore,t,!0)})),sP(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,eD(r,c);case 21:return function(e){var t=a_(e);t.Sa.forEach((function(e,n){sP(t.remoteStore,n)})),t.ba.gr(),t.Sa=new Map,t.wa=new MI(C_.comparator)}(r),r.Fa=!1,e.next=25,jP(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eD(e,t,n){return tD.apply(this,arguments)}function tD(){return tD=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a_(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.pa.get(c))||0===f.length){e.next=34;break}return e.next=11,gN(i.localStore,lT(f[0]));case 11:l=e.sent,d=C(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.ga.get(p),e.next=20,GO(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,xN(i.localStore,c);case 36:return y=e.sent,e.next=39,gN(i.localStore,y);case 39:return l=e.sent,e.next=42,yO(i,nD(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.fa.c_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),tD.apply(this,arguments)}function nD(e){return rT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rD(e){return function(e){return a_(a_(e).persistence).ki()}(a_(e).localStore)}function iD(e,t,n,r){return aD.apply(this,arguments)}function aD(){return aD=Uo(Mo().mark((function e(t,n,r,i){var a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=a_(t)).Fa){e.next=3;break}return e.abrupt("return",void ZS("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.pa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,SN(a.localStore,gT(o[0]));case 10:return u=e.sent,s=CC.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,WI.EMPTY_BYTE_STRING),e.next=14,VO(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,bN(a.localStore,n,!0);case 17:return MO(a,n,i),e.abrupt("break",20);case 19:r_();case 20:case"end":return e.stop()}}),e)}))),aD.apply(this,arguments)}function oD(e,t,n){return uD.apply(this,arguments)}function uD(){return uD=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sD(t)).Fa){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.pa.has(u)){e.next=10;break}return ZS("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,xN(i.localStore,u);case 12:return s=e.sent,e.next=15,gN(i.localStore,s);case 15:return c=e.sent,e.next=18,yO(i,nD(s),c.targetId,!1,c.resumeToken);case 18:uP(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,d=Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.pa.has(t),!e.t0){e.next=5;break}return e.next=5,bN(i.localStore,t,!1).then((function(){sP(i.remoteStore,t),MO(i,t)})).catch(j_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),uD.apply(this,arguments)}function sD(e){var t=a_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EO.bind(null,t),t.fa.c_=tO.bind(null,t.eventManager),t.fa.xa=nO.bind(null,t.eventManager),t}function cD(e){var t=a_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RO.bind(null,t),t}function lD(e,t,n){var r=a_(e);(function(){var e=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=a_(e),r=KC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ur.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(sO(i)),a=new uO(i,t.localStore,n.serializer),e.next=15,n.Oa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.na(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Oa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,VO(t,s.sa,void 0);case 31:return e.next=33,function(e,t){var n=a_(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ur.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.ia));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(t_("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var fD=function(){function e(){p(this,e),this.synchronizeTabs=!1}return g(e,[{key:"initialize",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=$N(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return lN(this.persistence,new sN,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new YR(JR.Jr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new UN}},{key:"terminate",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),dD=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).Na=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return g(n,[{key:"initialize",value:function(){var e=Uo(Mo().mark((function e(t){var r=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Na.initialize(this,t);case 4:return e.next=6,cD(this.Na.syncEngine);case 6:return e.next=8,_P(this.Na.remoteStore);case 8:return e.next=10,this.persistence.gi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return lN(this.persistence,new sN,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new ER(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Z_(t,this.persistence);return new J_(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=aN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fR.withCacheSize(this.cacheSizeBytes):fR.DEFAULT;return new nN(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,HN(),QN(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new UN}}]),n}(fD),hD=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).Na=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return g(n,[{key:"initialize",value:function(){var e=Uo(Mo().mark((function e(t){var r,i=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Na.syncEngine,e.t0=this.sharedClientState instanceof FN,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Xs:YO.bind(null,r),eo:iD.bind(null,r),no:oD.bind(null,r),ki:rD.bind(null,r),Zs:QO.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.gi(function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JO(i.Na.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=HN();if(!FN.C(t))throw new u_(o_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=aN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new FN(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(dD),pD=function(){function e(){p(this,e)}return g(e,[{key:"initialize",value:function(){var e=Uo(Mo().mark((function e(t,n){var r=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return IO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),e.next=12,jP(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new YP}},{key:"createDatastore",value:function(e){var t=$N(e.databaseInfo.databaseId),n=function(e){return new GN(e)}(e.databaseInfo);return function(e,t,n,r){return new eP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new nP(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return IO(t.syncEngine,e,0)}),jN.C()?new jN:new zN)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new pO(e,t,n,r,i,a);return o&&(u.Fa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a_(t),ZS("RemoteStore","RemoteStore shutting down."),n.F_.add(5),e.next=5,aP(n);case 5:n.x_.shutdown(),n.O_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function vD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Uo(Mo().mark((function r(){var i;return Mo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var mD=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return g(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):e_("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yD=function(){function e(t,n){var r=this;p(this,e),this.ka=t,this.serializer=n,this.metadata=new s_,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((function(e){e&&e.ea()?r.metadata.resolve(e.X_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(function(e){return r.metadata.reject(e)}))}return g(e,[{key:"close",value:function(){return this.ka.cancel()}},{key:"getMetadata",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oa",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Qa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qa",value:function(){var e=Uo(Mo().mark((function e(){var t,n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.qa.decode(t),r=Number(n),isNaN(r)&&this.$a("length string (".concat(n,") is not valid number")),e.next=9,this.Ua(r);case 9:return i=e.sent,e.abrupt("return",new aO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ka",value:function(){var e=Uo(Mo().mark((function e(){var t,n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Wa()<0)){e.next=7;break}return e.next=3,this.Ga();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Wa())<0&&this.$a("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ga();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.$a("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.qa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$a",value:function(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ga",value:function(){var e=Uo(Mo().mark((function e(){var t,n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gD=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return g(e,[{key:"lookup",value:function(){var e=Uo(Mo().mark((function e(t){var n,r=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new u_(o_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),i=JC(r.serializer)+"/documents",a={documents:n.map((function(e){return QC(r.serializer,e)}))},e.next=5,r.Fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=nA(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());i_(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new hC(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Uo(Mo().mark((function e(){var t,n=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=C_.fromPath(t);n.mutations.push(new pC(r,n.precondition(r)))})),e.next=7,function(){var e=Uo(Mo().mark((function e(t,n){var r,i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),i=JC(r.serializer)+"/documents",a={writes:n.map((function(e){return rA(r.serializer,e)}))},e.next=3,r.bo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw r_();t=S_.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new u_(o_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(S_.min())?JT.exists(!1):JT.updateTime(t):JT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(S_.min()))throw new u_(o_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return JT.updateTime(t)}return JT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),bD=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.Ho=new YN(this.asyncQueue,"transaction_retry")}return g(e,[{key:"run",value:function(){this.za-=1,this.ja()}},{key:"ja",value:function(){var e=this;this.Ho.Qo(Uo(Mo().mark((function t(){var n,r;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gD(e.datastore),(r=e.Ha(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ja(t)}))}))})).catch((function(t){e.Ja(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ha",value:function(e){try{var t=this.updateFunction(e);return!tI(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ja",value:function(e){var t=this;this.za>0&&this.Ya(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((function(){return t.ja(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ya",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!bC(t)}return!1}}]),e}(),kD=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$S.UNAUTHENTICATED,this.clientId=g_.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZS("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ZS("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return g(e,[{key:"getConfiguration",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new u_(o_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new s_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Uo(Mo().mark((function n(){var r;return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=KP(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wD(e,t){return xD.apply(this,arguments)}function xD(){return xD=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ZS("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,fN(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),xD.apply(this,arguments)}function SD(e,t){return _D.apply(this,arguments)}function _D(){return _D=Uo(Mo().mark((function e(t,n){var r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ED(t);case 3:return r=e.sent,ZS("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return UP(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return UP(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function ID(e){return"FirebaseError"===e.name?e.code===o_.FAILED_PRECONDITION||e.code===o_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ED(e){return TD.apply(this,arguments)}function TD(){return(TD=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ZS("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,wD(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),ID(n=e.t0)){e.next=13;break}throw n;case 13:return t_("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,wD(t,new fD);case 16:e.next=21;break;case 18:return ZS("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,wD(t,new fD);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function CD(e){return AD.apply(this,arguments)}function AD(){return(AD=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ZS("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,SD(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ZS("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,SD(t,new pD);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RD(e){return ED(e).then((function(e){return e.persistence}))}function ND(e){return ED(e).then((function(e){return e.localStore}))}function PD(e){return CD(e).then((function(e){return e.remoteStore}))}function OD(e){return CD(e).then((function(e){return e.syncEngine}))}function DD(e){return CD(e).then((function(e){return e.datastore}))}function LD(e){return MD.apply(this,arguments)}function MD(){return(MD=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vO.bind(null,n.syncEngine),r.onUnlisten=bO.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function i(){return Mo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mD({next:function(a){t.enqueueAndForget((function(){return ZP(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new u_(o_.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new u_(o_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new iO(iT(n.path),a,{includeMetadataChanges:!0,Z_:!0});return XP(e,o)},i.next=3,LD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function UD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function i(){return Mo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mD({next:function(n){t.enqueueAndForget((function(){return ZP(e,o)})),n.fromCache&&"server"===r.source?i.reject(new u_(o_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new iO(n,a,{includeMetadataChanges:!0,Z_:!0});return XP(e,o)},i.next=3,LD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function zD(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var jD=new Map;function VD(e,t,n){if(!n)throw new u_(o_.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function BD(e,t,n,r){if(!0===t&&!0===r)throw new u_(o_.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function qD(e){if(!C_.isDocumentKey(e))throw new u_(o_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WD(e){if(C_.isDocumentKey(e))throw new u_(o_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function KD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":r_()}function GD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new u_(o_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=KD(e);throw new u_(o_.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function HD(e,t){if(t<=0)throw new u_(o_.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QD=function(){function e(t){var n,r;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new u_(o_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new u_(o_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}BD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zD(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new u_(o_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new u_(o_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new u_(o_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return g(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),$D=function(){function e(t,n,r,i){p(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QD({}),this._settingsFrozen=!1}return g(e,[{key:"app",get:function(){if(!this._app)throw new u_(o_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new u_(o_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QD(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new l_;switch(e.type){case"firstParty":return new p_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new u_(o_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=jD.get(e);t&&(ZS("ComponentProvider","Removing Datastore"),jD.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function YD(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=GD(e,$D))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&t_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=$S.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bo(JSON.stringify({alg:"none",type:"JWT"})),Bo(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new u_(o_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new $S(c)}e._authCredentials=new f_(new c_(u,s))}}var XD=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return g(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),JD=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return g(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ZD(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ZD=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,iT(i)))._path=i,a.type="collection",a}return g(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new JD(this.firestore,null,new C_(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(XD);function eL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pu(e),VD("collection","path",t),e instanceof $D){var a=I_.fromString.apply(I_,[t].concat(r));return WD(a),new ZD(e,null,a)}if(!(e instanceof JD||e instanceof ZD))throw new u_(o_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(I_.fromString.apply(I_,[t].concat(r)));return WD(o),new ZD(e.firestore,null,o)}function tL(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pu(e),1===arguments.length&&(t=g_.V()),VD("doc","path",t),e instanceof $D){var a=I_.fromString.apply(I_,[t].concat(r));return qD(a),new JD(e,null,new C_(a))}if(!(e instanceof JD||e instanceof ZD))throw new u_(o_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(I_.fromString.apply(I_,[t].concat(r)));return qD(o),new JD(e.firestore,e instanceof ZD?e.converter:null,new C_(o))}function nL(e,t){return e=pu(e),t=pu(t),(e instanceof JD||e instanceof ZD)&&(t instanceof JD||t instanceof ZD)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rL(e,t){return e=pu(e),t=pu(t),e instanceof XD&&t instanceof XD&&e.firestore===t.firestore&&pT(e._query,t._query)&&e.converter===t.converter}var iL=function(){function e(){var t=this;p(this,e),this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new YN(this,"async_queue_retry"),this.ou=function(){var e=QN();e&&ZS("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ho.$o()};var n=QN();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.ou)}return g(e,[{key:"isShuttingDown",get:function(){return this.eu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this._u(),this.au(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.eu){this.eu=!0,this.iu=e||!1;var t=QN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}},{key:"enqueue",value:function(e){var t=this;if(this._u(),this.eu)return new Promise((function(){}));var n=new s_;return this.au((function(){return t.eu&&t.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Xa.push(e),t.uu()}))}},{key:"uu",value:function(){var e=Uo(Mo().mark((function e(){var t=this;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Xa.length){e.next=14;break}return e.prev=1,e.next=4,this.Xa[0]();case 4:this.Xa.shift(),this.Ho.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),H_(e.t0)){e.next=12;break}throw e.t0;case 12:ZS("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Xa.length>0&&this.Ho.Qo((function(){return t.uu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"au",value:function(e){var t=this,n=this.Za.then((function(){return t.ru=!0,e().catch((function(e){t.nu=e,t.ru=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw e_("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.ru=!1,e}))}));return this.Za=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this._u(),this.su.indexOf(e)>-1&&(t=0);var i=WP.createAndSchedule(this,e,t,n,(function(e){return r.cu(e)}));return this.tu.push(i),i}},{key:"_u",value:function(){this.nu&&r_()}},{key:"verifyOperationInProgress",value:function(){}},{key:"lu",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Za,e.next=3,t;case 3:if(t!==this.Za){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hu",value:function(e){var t,n=C(this.tu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.lu().then((function(){t.tu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.tu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.lu()}))}},{key:"Iu",value:function(e){this.su.push(e)}},{key:"cu",value:function(e){var t=this.tu.indexOf(e);this.tu.splice(t,1)}}]),e}();function aL(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var oL=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new s_,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return g(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uL=function(e){k(n,e);var t=_(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new iL,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return g(n,[{key:"_terminate",value:function(){return this._firestoreClient||cL(this),this._firestoreClient.terminate()}}]),n}($D);function sL(e){return e._firestoreClient||cL(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cL(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new JI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,zD(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new kD(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function lL(e,t,n){var r=new s_;return e.asyncQueue.enqueue(Uo(Mo().mark((function i(){var a;return Mo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,wD(e,n);case 3:return i.next=5,SD(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),ID(a=i.t0)){i.next=13;break}throw a;case 13:t_("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fL(e){return function(e){var t=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function n(){return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=PO,n.next=3,OD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sL(e=GD(e,uL)))}function dL(e){return function(e){return e.asyncQueue.enqueue(Uo(Mo().mark((function t(){var n,r;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RD(e);case 2:return n=t.sent,t.next=5,PD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=a_(e);return t.F_.delete(0),rP(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sL(e=GD(e,uL)))}function hL(e){return function(e){return e.asyncQueue.enqueue(Uo(Mo().mark((function t(){var n,r;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,RD(e);case 2:return n=t.sent,t.next=5,PD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=a_(t)).F_.add(0),e.next=4,aP(n);case 4:n.O_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sL(e=GD(e,uL)))}function pL(e,t){var n=sL(e=GD(e,uL)),r=new oL;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new yD(e,t)}(function(e,t){if(e instanceof Uint8Array)return vD(e,t);if(e instanceof ArrayBuffer)return vD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?xC().encode(e):e),t)}(n,$N(t));e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lD,t.next=3,OD(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function vL(e,t){return function(e,t){return e.asyncQueue.enqueue(Uo(Mo().mark((function n(){return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=a_(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ur.getNamedQuery(e,t)}))},n.next=3,ND(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sL(e=GD(e,uL)),t).then((function(t){return t?new XD(e,null,t.query):null}))}function mL(e){if(e._initialized||e._terminated)throw new u_(o_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yL=function(){function e(t){p(this,e),this._byteString=t}return g(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(WI.fromBase64String(t))}catch(t){throw new u_(o_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(WI.fromUint8Array(t))}}]),e}(),gL=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new u_(o_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new T_(n)}return g(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var bL=g((function e(t){p(this,e),this._methodName=t})),kL=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new u_(o_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new u_(o_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return g(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return b_(this._lat,e._lat)||b_(this._long,e._long)}}]),e}(),wL=/^__.*__$/,xL=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new uC(e,this.data,this.fieldMask,t,this.fieldTransforms):new oC(e,this.data,t,this.fieldTransforms)}}]),e}(),SL=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return g(e,[{key:"toMutation",value:function(e,t){return new uC(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function _L(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw r_()}}var IL=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.du(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return g(e,[{key:"path",get:function(){return this.settings.path}},{key:"Tu",get:function(){return this.settings.Tu}},{key:"Eu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Au",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.Vu(e),r}},{key:"mu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Eu({path:n,Ru:!1});return r.du(),r}},{key:"fu",value:function(e){return this.Eu({path:void 0,Ru:!0})}},{key:"gu",value:function(e){return KL(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"du",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}},{key:"Vu",value:function(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(_L(this.Tu)&&wL.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}]),e}(),EL=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||$N(t)}return g(e,[{key:"wu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IL({Tu:e,methodName:t,yu:n,path:T_.emptyPath(),Ru:!1,pu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function TL(e){var t=e._freezeSettings(),n=$N(e._databaseId);return new EL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function CL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wu(a.merge||a.mergeFields?2:0,t,n,i);VL("Data must be an object, but it was:",o,r);var u,s,c=zL(r,o);if(a.merge)u=new BI(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=C(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=BL(t,l.value,n);if(!o.contains(h))throw new u_(o_.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));GL(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}u=new BI(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new xL(new wE(c),u,s)}var AL=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Tu)throw 1===e.Tu?e.gu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bL);function RL(e,t,n){return new IL({Tu:3,yu:t.settings.yu,methodName:e._methodName,Ru:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var NL=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"_toFieldTransform",value:function(e){return new YT(e.path,new BT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bL),PL=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).Su=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=RL(this,e,!0),n=this.Su.map((function(e){return UL(e,t)})),r=new qT(n);return new YT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bL),OL=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).Su=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=RL(this,e,!0),n=this.Su.map((function(e){return UL(e,t)})),r=new KT(n);return new YT(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bL),DL=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).bu=r,i}return g(n,[{key:"_toFieldTransform",value:function(e){var t=new HT(e.serializer,FT(e.serializer,this.bu));return new YT(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bL);function LL(e,t,n,r){var i=e.wu(1,t,n);VL("Data must be an object, but it was:",i,r);var a=[],o=wE.empty();DI(r,(function(e,r){var u=WL(t,e,n);r=pu(r);var s=i.mu(u);if(r instanceof AL)a.push(u);else{var c=UL(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new BI(a);return new SL(o,u,i.fieldTransforms)}function ML(e,t,n,r,i,a){var o=e.wu(1,t,n),u=[BL(t,r,n)],s=[i];if(a.length%2!=0)throw new u_(o_.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(BL(t,a[c])),s.push(a[c+1]);for(var l=[],f=wE.empty(),d=u.length-1;d>=0;--d)if(!GL(l,u[d])){var h=u[d],p=s[d];p=pu(p);var v=o.mu(h);if(p instanceof AL)l.push(h);else{var m=UL(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new BI(l);return new SL(f,y,o.fieldTransforms)}function FL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return UL(n,e.wu(r?4:3,t))}function UL(e,t){if(jL(e=pu(e)))return VL("Unsupported field value:",t,e),zL(e,t);if(e instanceof bL)return function(e,t){if(!_L(t.Tu))throw t.gu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&4!==t.Tu)throw t.gu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=UL(n.value,t.fu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=pu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return FT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=x_.fromDate(e);return{timestampValue:BC(t.serializer,n)}}if(e instanceof x_){var r=new x_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:BC(t.serializer,r)}}if(e instanceof kL)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yL)return{bytesValue:qC(t.serializer,e._byteString)};if(e instanceof JD){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.gu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:GC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.gu("Unsupported field value: ".concat(KD(e)))}(e,t)}function zL(e,t){var n={};return LI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):DI(e,(function(e,r){var i=UL(r,t.Au(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof x_||e instanceof kL||e instanceof yL||e instanceof JD||e instanceof bL)}function VL(e,t,n){if(!jL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=KD(n);throw"an object"===r?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function BL(e,t,n){if((t=pu(t))instanceof gL)return t._internalPath;if("string"==typeof t)return WL(e,t);throw KL("Field path arguments must be of type string or ",e,!1,void 0,n)}var qL=new RegExp("[~\\*/\\[\\]]");function WL(e,t,n){if(t.search(qL)>=0)throw KL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(gL,h(t.split(".")))._internalPath}catch(He){throw KL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function KL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new u_(o_.INVALID_ARGUMENT,u+e+s)}function GL(e,t){return e.some((function(e){return e.isEqual(t)}))}var HL=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return g(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new JD(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new QL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($L("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),QL=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){return Lo(w(n.prototype),"data",this).call(this)}}]),n}(HL);function $L(e,t){return"string"==typeof t?WL(e,t):t instanceof gL?t._internalPath:t._delegate._internalPath}function YL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new u_(o_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var XL=g((function e(){p(this,e)})),JL=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n)}(XL);function ZL(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof XL&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof tM})).length,n=e.filter((function(e){return e instanceof eM})).length;if(t>1||t>0&&n>0)throw new u_(o_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var eM=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return g(n,[{key:"_apply",value:function(e){var t=this._parse(e);return hM(e._query,t),new XD(e.firestore,e.converter,dT(e._query,t))}},{key:"_parse",value:function(e){var t=TL(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new u_(o_.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dM(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(fM(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=fM(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dM(o,a),u=FL(n,t,o,"in"===a||"not-in"===a);return RE.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JL);var tM=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return g(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:NE.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;hM(r,a),r=dT(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new XD(e.firestore,e.converter,dT(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(XL);var nM=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return g(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new u_(o_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new u_(o_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new TE(t,n);return function(e,t){if(null===oT(e)){var n=uT(e);null!==n&&pM(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new XD(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new nT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(JL);var rM=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return g(n,[{key:"_apply",value:function(e){return new XD(e.firestore,e.converter,hT(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JL);var iM=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=lM(e,this.type,this._docOrFields,this._inclusive);return new XD(e.firestore,e.converter,function(e,t){return new nT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JL);function aM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iM._create("startAt",t,!0)}function oM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iM._create("startAfter",t,!1)}var uM=function(e){k(n,e);var t=_(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return g(n,[{key:"_apply",value:function(e){var t=lM(e,this.type,this._docOrFields,this._inclusive);return new XD(e.firestore,e.converter,function(e,t){return new nT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JL);function sM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uM._create("endBefore",t,!1)}function cM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uM._create("endAt",t,!0)}function lM(e,t,n,r){if(n[0]=pu(n[0]),n[0]instanceof HL)return function(e,t,n,r,i){if(!r)throw new u_(o_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(cT(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(cE(t,r.key));else{var c=r.data.field(s.field);if($I(c))throw new u_(o_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new u_(o_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new _E(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=TL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new u_(o_.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new u_(o_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!sT(e)&&-1!==c.indexOf("/"))throw new u_(o_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(I_.fromString(c));if(!C_.isDocumentKey(l))throw new u_(o_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new C_(l);u.push(cE(t,f))}else{var d=FL(n,r,c);u.push(d)}}return new _E(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fM(e,t,n){if("string"==typeof(n=pu(n))){if(""===n)throw new u_(o_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(t)&&-1!==n.indexOf("/"))throw new u_(o_.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(I_.fromString(n));if(!C_.isDocumentKey(r))throw new u_(o_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return cE(e,new C_(r))}if(n instanceof JD)return cE(e,n._key);throw new u_(o_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(KD(n),"."))}function dM(e,t){if(!Array.isArray(e)||0===e.length)throw new u_(o_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hM(e,t){if(t.isInequality()){var n=uT(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new u_(o_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=oT(e);null!==i&&pM(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new u_(o_.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new u_(o_.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function pM(e,t,n){if(!n.isEqual(t))throw new u_(o_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vM=function(){function e(){p(this,e)}return g(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(nE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return HI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(QI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw r_()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return DI(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new kL(HI(e.latitude),HI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=YI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(XI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=GI(e);return new x_(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=I_.fromString(e);i_(mA(n));var r=new ZI(n.get(1),n.get(3)),i=new C_(n.popFirst(5));return r.isEqual(t)||e_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yM=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new yL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JD(this.firestore,null,t)}}]),n}(vM);var gM=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return g(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),bM=function(e){k(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return g(n,[{key:"exists",value:function(){return Lo(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new kM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($L("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(HL),kM=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lo(w(n.prototype),"data",this).call(this,e)}}]),n}(bM),wM=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gM(i.hasPendingWrites,i.fromCache),this.query=r}return g(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new kM(n._firestore,n._userDataWriter,r.key,r,new gM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new u_(o_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new kM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new kM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xM(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function xM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return r_()}}function SM(e,t){return e instanceof bM&&t instanceof bM?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wM&&t instanceof wM&&e._firestore===t._firestore&&rL(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var _M=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new yL(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JD(this.firestore,null,t)}}]),n}(vM);function IM(e){e=GD(e,JD);var t=GD(e.firestore,uL),n=sL(t),r=new _M(t);return function(e,t){var n=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function r(){return Mo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Uo(Mo().mark((function e(t,n,r){var i,a;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=a_(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new u_(o_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=KP(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ND(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new bM(t,r,e._key,n,new gM(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function EM(e){e=GD(e,XD);var t=GD(e.firestore,uL),n=sL(t),r=new _M(t);return YL(e._query),UD(n,e._query).then((function(n){return new wM(t,r,e,n)}))}function TM(e){e=GD(e,XD);var t=GD(e.firestore,uL),n=sL(t),r=new _M(t);return function(e,t){var n=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function r(){return Mo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wN(t,n,!0);case 3:i=e.sent,a=new fO(n,i.Ps),o=a.ha(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=KP(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ND(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new wM(t,r,e,n)}))}function CM(e){e=GD(e,XD);var t=GD(e.firestore,uL),n=sL(t),r=new _M(t);return UD(n,e._query,{source:"server"}).then((function(n){return new wM(t,r,e,n)}))}function AM(e,t,n){e=GD(e,JD);var r=GD(e.firestore,uL),i=mM(e.converter,t,n);return OM(r,[CL(TL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,JT.none())])}function RM(e,t,n){e=GD(e,JD);for(var r=GD(e.firestore,uL),i=TL(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return OM(r,[("string"==typeof(t=pu(t))||t instanceof gL?ML(i,"updateDoc",e._key,t,n,o):LL(i,"updateDoc",e._key,t)).toMutation(e._key,JT.exists(!0))])}function NM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=pu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aL(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(aL(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof JD)l=GD(e.firestore,uL),f=iT(e._key.path),c={next:function(t){n[s]&&n[s](DM(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=GD(e,XD);l=GD(p.firestore,uL),f=p._query;var v=new _M(l);c={next:function(e){n[s]&&n[s](new wM(l,v,p,e))},error:n[s+1],complete:n[s+2]},YL(e._query)}return function(e,t,n,r){var i=new mD(r),a=new iO(t,i,n);return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=XP,t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.La(),e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ZP,t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sL(l),f,d,c)}function PM(e,t){return function(e,t){var n=new mD(t);return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){a_(e).K_.add(t),t.next()},t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.La(),e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function t(){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){a_(e).K_.delete(t)},t.next=3,LD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sL(e=GD(e,uL)),aL(t)?t:{next:t})}function OM(e,t){return function(e,t){var n=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function r(){return Mo().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=wO,r.next=3,OD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sL(e),t)}function DM(e,t,n){var r=n.docs.get(t._key),i=new _M(e);return new bM(e,i,t._key,r,new gM(n.hasPendingWrites,n.fromCache),t.converter)}var LM={maxAttempts:5},MM=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=TL(t)}return g(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=FM(e,this._firestore),i=mM(r.converter,t,n),a=CL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,JT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=FM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pu(t))||t instanceof gL?ML(this._dataReader,"WriteBatch.update",i._key,t,n,o):LL(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,JT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=FM(e,this._firestore);return this._mutations=this._mutations.concat(new hC(t._key,JT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new u_(o_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function FM(e,t){if((e=pu(e)).firestore!==t)throw new u_(o_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var UM=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return g(n,[{key:"get",value:function(e){var t=this,r=FM(e,this._firestore),i=new _M(this._firestore);return Lo(w(n.prototype),"get",this).call(this,e).then((function(e){return new bM(t._firestore,i,r._key,e._document,new gM(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=TL(t)}return g(e,[{key:"get",value:function(e){var t=this,n=FM(e,this._firestore),r=new yM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return r_();var i=e[0];if(i.isFoundDocument())return new HL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new HL(t._firestore,r,n._key,null,n.converter);throw r_()}))}},{key:"set",value:function(e,t,n){var r=FM(e,this._firestore),i=mM(r.converter,t,n),a=CL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=FM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=pu(t))||t instanceof gL?ML(this._dataReader,"Transaction.update",i._key,t,n,o):LL(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=FM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zM(e,t,n){e=GD(e,uL);var r=Object.assign(Object.assign({},LM),n);return function(e){if(e.maxAttempts<1)throw new u_(o_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new s_;return e.asyncQueue.enqueueAndForget(Uo(Mo().mark((function i(){var a;return Mo().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,DD(e);case 2:a=i.sent,new bD(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sL(e),(function(n){return t(new UM(e,n))}),r)}function jM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new PL("arrayUnion",t)}function VM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OL("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){YS=e}(ds),as(new vu("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new uL(new d_(e.getProvider("auth-internal")),new m_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new u_(o_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ZI(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),gs(QS,"4.2.0",e),gs(QS,"4.2.0","esm2017")}();var BM=function(){return BM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},BM.apply(this,arguments)},qM=function(e){return{loading:void 0===e||null===e,value:e}},WM=function(e){var t=e?e():void 0,n=(0,i.useReducer)((function(e,t){switch(t.type){case"error":return BM(BM({},e),{error:t.error,loading:!1,value:void 0});case"reset":return qM(t.defaultValue);case"value":return BM(BM({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),qM(t)),r=n[0],a=n[1],o=(0,i.useCallback)((function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})}),[e]),u=(0,i.useCallback)((function(e){a({type:"error",error:e})}),[]),s=(0,i.useCallback)((function(e){a({type:"value",value:e})}),[]);return(0,i.useMemo)((function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:s,value:r.value}}),[r.error,r.loading,o,u,s,r.value])},KM=function(e,t,n){var r=(0,i.useRef)(e);return(0,i.useEffect)((function(){t(e,r.current)||(r.current=e,n&&n())})),r},GM=function(e,t){var n=!e&&!t,r=!!e&&!!t&&rL(e,t);return n||r},HM=function(e,t){return KM(e,GM,t)},QM=function(e,t){var n=function(e,t){var n=WM(),r=n.error,a=n.loading,o=n.reset,u=n.setError,s=n.setValue,c=n.value,l=HM(e,o);return(0,i.useEffect)((function(){if(l.current){var e=(null===t||void 0===t?void 0:t.snapshotListenOptions)?NM(l.current,t.snapshotListenOptions,s,u):NM(l.current,s,u);return function(){e()}}s(void 0)}),[l.current]),[c,a,r]}(e,t),r=n[0],a=n[1],o=n[2];return[$M(r,null===t||void 0===t?void 0:t.snapshotOptions,null===t||void 0===t?void 0:t.initialValue),a,o,r]},$M=function(e,t,n){return(0,i.useMemo)((function(){var r;return null!==(r=null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(t)})))&&void 0!==r?r:n}),[e,t])},YM=function(){return(0,Hi.jsx)(Sv,{children:(0,Hi.jsx)(_a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:(0,Hi.jsx)(_a,{container:!0,alignItems:"center",direction:"column",children:(0,Hi.jsx)("span",{className:"loader"})})})})},XM=function(){var e=(0,i.useContext)(HU),t=e.auth,n=e.firestore,r=e.firebase,a=f(vv(t),1)[0],o=f((0,i.useState)(""),2),u=o[0],s=o[1],c=f(QM(n.collection("messages").orderBy("createdAt")),2),l=c[0],d=c[1],h=f((0,i.useState)(""),2),p=h[0],v=h[1],m=function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u?(n.collection("messages").add({uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,text:u,createdAt:r.firestore.FieldValue.serverTimestamp()}),s(""),v("")):v("\u041d\u0430\u043f\u0438\u0448\u0438 \u0447\u0442\u043e-\u0442\u043e");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d?(0,Hi.jsx)(YM,{}):(0,Hi.jsx)(Sv,{children:(0,Hi.jsxs)(_a,{container:!0,style:{height:window.innerHeight-50,marginTop:15},alignItems:"center",justifyContent:"center",children:[(0,Hi.jsx)("div",{style:{width:"80%",height:"70vh",border:"1px solid gray",overflow:"auto"},children:l.map((function(e,t){return(0,Hi.jsxs)("div",{style:{margin:10,border:a.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:a.uid===e.uid?"auto":"10px",width:"fit-content"},children:[(0,Hi.jsxs)(_a,{container:!0,children:[(0,Hi.jsx)(Fv,{src:e.photoURL}),(0,Hi.jsx)("div",{children:e.displayName})]}),(0,Hi.jsx)("div",{children:e.text})]},t)}))}),(0,Hi.jsxs)(_a,{container:!0,direction:"column",alignItems:"center",style:{width:"80%"},children:[(0,Hi.jsx)(Tb,{variant:"outlined",placeholder:p,fullWidth:!0,maxRows:2,style:{margin:"10px 0"},value:u,onChange:function(e){return s(e.target.value)}}),(0,Hi.jsx)(Do,{onClick:m,variant:"outlined",style:{margin:"10px 0"},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})},JM=["className","component"];var ZM,eF=Ti(),tF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=e.defaultClassName,a=void 0===r?"MuiBox-root":r,o=e.generateClassName,u=Tn("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(Dr);return i.forwardRef((function(e,r){var i=Mi(n),s=fa(e),c=s.className,l=s.component,f=void 0===l?"div":l,d=Ke(s,JM);return(0,Hi.jsx)(u,Ge({as:f,ref:r,className:Qe(c,o?o(a):a),theme:t&&i[t]||i},d))}))}({themeId:Ai,defaultTheme:eF,defaultClassName:"MuiBox-root",generateClassName:Bi.generate}),nF=tF,rF=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,rs(t,new vu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return g(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ms(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){rs(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){is(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),iF=(Nn(ZM={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Nn(ZM,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ZM),aF=new nu("app-compat","Firebase",iF);var oF=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=hs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(iu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:gs,setLogLevel:ks,onLog:bs,apps:null,SDK_VERSION:ds,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(as(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw aF.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Wo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!iu(n,e=e||Zu))throw aF.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rF);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Wo(n,e)},createSubscribe:fu,ErrorFactory:nu,deepExtend:Wo}),n}(),uF=new Tu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){uF.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var sF=self.firebase.SDK_VERSION;sF&&sF.indexOf("LITE")>=0&&uF.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var cF=oF;!function(e){gs("@firebase/app-compat","0.2.19",e)}();cF.registerVersion("firebase","10.4.0","app-compat");var lF=function(){var e=(0,i.useContext)(HU).auth,t=function(){var t=Uo(Mo().mark((function t(){var n,r,i;return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new cF.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:r=t.sent,i=r.user,console.log(i);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,Hi.jsx)(Sv,{children:(0,Hi.jsx)(_a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justifyContent:"center",children:(0,Hi.jsx)(_a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:(0,Hi.jsx)(nF,{p:5,children:(0,Hi.jsx)(Do,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0448\u044c\u044e Google"})})})})})},fF=[{path:"/",element:(0,Hi.jsx)(lF,{})},{path:"*",element:(0,Hi.jsx)(De,{to:"/",replace:!0})}],dF=[{path:"/",element:(0,Hi.jsx)(XM,{})},{path:"*",element:(0,Hi.jsx)(De,{to:"/",replace:!0})}],hF=function(){var e=(0,i.useContext)(HU).auth;return f(vv(e),1)[0]?(0,Hi.jsx)(Fe,{children:dF.map((function(e){var t=e.path,n=e.element;return(0,Hi.jsx)(Le,{path:t,element:n},t)}))}):(0,Hi.jsx)(Fe,{children:fF.map((function(e){var t=e.path,n=e.element;return(0,Hi.jsx)(Le,{path:t,element:n},t)}))})};var pF=function(){var e=(0,i.useContext)(HU).auth,t=f(vv(e),2);return t[0],t[1]?(0,Hi.jsx)(YM,{}):(0,Hi.jsxs)(Be,{children:[(0,Hi.jsx)(mv,{}),(0,Hi.jsx)(hF,{})]})};function vF(){return window}var mF=2e3;function yF(e,t,n){return gF.apply(this,arguments)}function gF(){return gF=Uo(Mo().mark((function e(t,n,r){var i,a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vF(),o=a.BuildInfo,cc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_F(n.sessionId);case 4:return u=e.sent,s={},ml()?s.ibi=o.packageName:hl()?s.apn=o.packageName:nc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Hp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),gF.apply(this,arguments)}function bF(){return bF=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vF(),r=n.BuildInfo,i={},ml()?i.iosBundleId=r.packageName:hl()?i.androidPackageName=r.packageName:nc(t,"operation-not-supported-in-this-environment"),e.next=5,Sp(t,i);case 5:case"end":return e.stop()}}),e)}))),bF.apply(this,arguments)}function kF(e){var t=vF().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function wF(e,t,n){return xF.apply(this,arguments)}function xF(){return xF=Uo(Mo().mark((function e(t,n,r){var i,a,o;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vF(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(rc(t,"redirect-cancelled-by-user"))}),mF))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),hl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),xF.apply(this,arguments)}function SF(e){var t,n,r,i,a,o,u,s,c,l,f=vF();uc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),uc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),uc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),uc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _F(e){return IF.apply(this,arguments)}function IF(){return(IF=Uo(Mo().mark((function e(t){var n,r,i;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EF(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EF(e){if(cc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var TF=20,CF=function(e){k(n,e);var t=_(n);function n(){var e;return p(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return g(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Lo(w(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(kp);function AF(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:DF(),postBody:null,tenantId:e.tenantId,error:rc(e,"no-auth-event")}}function RF(e,t){return LF()._set(MF(e),t)}function NF(e){return PF.apply(this,arguments)}function PF(){return PF=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LF()._get(MF(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,LF()._remove(MF(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),PF.apply(this,arguments)}function OF(e,t){var n,r,i=function(e){var t=FF(e),n=t.link?decodeURIComponent(t.link):void 0,r=FF(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return FF(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=FF(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?rc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function DF(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<TF;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function LF(){return rl(qd)}function MF(e){return ol("authEvent",e.config.apiKey,e.name)}function FF(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return cu(t.slice(1).join("?"))}var UF=function(){function e(){p(this,e),this._redirectPersistence=Kd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mp,this._overrideRedirectResult=ap}return g(e,[{key:"_initialize",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new CF(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){nc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Uo(Mo().mark((function e(t,n,r,i){var a,o,u,s;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return SF(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Zh.clear(),e.next=10,this._originValidation(t);case 10:return o=AF(t,r,i),e.next=13,RF(t,o);case 13:return e.next=15,yF(t,o,n);case 15:return u=e.sent,e.next=18,kF(u);case 18:return s=e.sent,e.abrupt("return",wF(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bF.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=vF(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Uo(Mo().mark((function n(){return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,NF(e);case 2:t.onEvent(jF());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Uo(Mo().mark((function n(r){var i,a;return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,NF(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=OF(i,r.url)),t.onEvent(a||jF());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");vF().handleOpenURL=function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),zF=UF;function jF(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rc("no-auth-event")}}var VF=1e3;function BF(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function qF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return!("file:"!==BF()&&"ionic:"!==BF()&&"capacitor:"!==BF()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function WF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return Zo()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o();return/Edge\/\d+/.test(e)}(e)}function KF(){try{var e=self.localStorage,t=Qd();if(e)return e.setItem(t,"1"),e.removeItem(t),!WF()||eu()}catch(n){return GF()&&eu()}return!1}function GF(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function HF(){return("http:"===BF()||"https:"===BF()||Xo()||qF())&&!(Jo()||Yo())&&KF()&&!GF()}function QF(){return qF()&&"undefined"!==typeof document}function $F(){return YF.apply(this,arguments)}function YF(){return(YF=Uo(Mo().mark((function e(){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(QF()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),VF);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var XF={LOCAL:"local",NONE:"none",SESSION:"session"},JF=uc,ZF="persistence";function eU(e,t){JF(Object.values(XF).includes(t),e,"invalid-persistence-type"),Jo()?JF(t!==XF.SESSION,e,"unsupported-persistence-type"):Yo()?JF(t===XF.NONE,e,"unsupported-persistence-type"):GF()?JF(t===XF.NONE||t===XF.LOCAL&&eu(),e,"unsupported-persistence-type"):JF(t===XF.NONE||KF(),e,"unsupported-persistence-type")}function tU(e){return nU.apply(this,arguments)}function nU(){return nU=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=rU(),r=ol(ZF,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),nU.apply(this,arguments)}function rU(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var iU=uc,aU=function(){function e(){p(this,e),this.browserResolver=rl(Jp),this.cordovaResolver=rl(zF),this.underlyingResolver=null,this._redirectPersistence=Kd,this._completeRedirectFn=mp,this._overrideRedirectResult=ap}return g(e,[{key:"_initialize",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Uo(Mo().mark((function e(t,n,r,i){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Uo(Mo().mark((function e(t,n,r,i){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return QF()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return iU(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$F();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oU(e){return e.unwrap()}function uU(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new dU(e,function(e,t){var n,r=pu(e),i=t;return uc(t.customData.operationType,r,"argument-error"),uc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Od._fromError(r,i)}(e,t));else if(r){var i=sU(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function sU(e){var t=(e instanceof tu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof tu)&&"temporaryProof"in t&&"phoneNumber"in t)return Fh.credentialFromResult(e);var n,r=t.providerId;if(!r||r===zs.PASSWORD)return null;switch(r){case zs.GOOGLE:n=wf;break;case zs.FACEBOOK:n=kf;break;case zs.GITHUB:n=xf;break;case zs.TWITTER:n=If;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Sf._create(r,u):uf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new bf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof tu?n.credentialFromError(e):n.credentialFromResult(e)}function cU(e,t){return t.catch((function(t){throw t instanceof tu&&uU(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,sU(t)),additionalUserInfo:Nd(e),user:hU.getOrCreate(r)}}))}function lU(e,t){return fU.apply(this,arguments)}function fU(){return fU=Uo(Mo().mark((function e(t,n){var r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cU(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),fU.apply(this,arguments)}var dU=function(){function e(t,n){p(this,e),this.resolver=n,this.auth=t.wrapped()}return g(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cU(oU(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),hU=function(){function e(t){p(this,e),this._delegate=t,this.multiFactor=function(e){var t=pu(e);return zd.has(t)||zd.set(t,Ud._fromUser(t)),zd.get(t)}(t)}return g(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cU(this.auth,Gf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lU(this.auth,Nh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cU(this.auth,$h(this._delegate,t,aU)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tU(_l(this.auth));case 2:return e.abrupt("return",dp(this._delegate,t,aU));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cU(this.auth,Qf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return lU(this.auth,function(e,t,n){return Oh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cU(this.auth,function(e,t,n){return Qh.apply(this,arguments)}(this._delegate,e,aU))}},{key:"reauthenticateWithRedirect",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tU(_l(this.auth));case 2:return e.abrupt("return",lp(this._delegate,t,aU));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return gd.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Sd(pu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Sd(pu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Mh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return xd.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return bd.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();hU.USER_MAP=new WeakMap;var pU=uc,vU=function(){function e(t,n){if(p(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pU(r,"invalid-api-key",{appName:t.name}),pU(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?aU:void 0;this._delegate=n.initialize({options:{persistence:yU(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Ys),this.linkUnderlyingAuth()}return g(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?hU.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Nl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ud.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return sd(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return od.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Uo(Mo().mark((function e(t,n){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cU(this._delegate,fd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return yd.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=vf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Uo(Mo().mark((function e(){var t;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pU(HF(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pp(this._delegate,aU);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cU(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_l(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=mU(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=mU(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return hd.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ad.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Uo(Mo().mark((function e(t){var n,r;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eU(this._delegate,t),e.t0=t,e.next=e.t0===XF.SESSION?4:e.t0===XF.LOCAL?6:e.t0===XF.NONE?11:13;break;case 4:return n=Kd,e.abrupt("break",14);case 6:return e.next=8,rl(vh)._isAvailable();case 8:return r=e.sent,n=r?vh:qd,e.abrupt("break",14);case 11:return n=al,e.abrupt("break",14);case 13:return e.abrupt("return",nc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cU(this._delegate,function(e){return Rf.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cU(this._delegate,Wf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cU(this._delegate,function(e,t){return Jf.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cU(this._delegate,function(e,t,n){return Wf(pu(e),mf.credential(t,n)).catch(function(){var t=Uo(Mo().mark((function t(n){return Mo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw n.code==="auth/".concat("password-does-not-meet-requirements")&&rd(e),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cU(this._delegate,function(e,t,n){return pd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return lU(this._delegate,function(e,t,n){return Rh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pU(HF(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cU(this._delegate,Gh(this._delegate,t,aU)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Uo(Mo().mark((function e(t){return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pU(HF(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,tU(this._delegate);case 3:return e.abrupt("return",sp(this._delegate,t,aU));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ld.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function mU(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&hU.getOrCreate(e))},error:t,complete:n}}function yU(e,t){var n=function(e,t){var n=rU();if(!n)return[];var r=ol(ZF,e,t);switch(n.getItem(r)){case XF.NONE:return[al];case XF.LOCAL:return[vh,Kd];case XF.SESSION:return[Kd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(vh)||n.push(vh),"undefined"!==typeof window)for(var r=0,i=[qd,Kd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(al)||n.push(al),n}vU.Persistence=XF;var gU=function(){function e(){p(this,e),this.providerId="phone",this._delegate=new Fh(oU(cF.auth()))}return g(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Fh.credential(e,t)}}]),e}();gU.PHONE_SIGN_IN_METHOD=Fh.PHONE_SIGN_IN_METHOD,gU.PROVIDER_ID=Fh.PROVIDER_ID;var bU,kU=uc,wU=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cF.app();p(this,e),kU(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Th(i.auth(),t,n),this.type=this._delegate.type}return g(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(bU=cF).INTERNAL.registerComponent(new vu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vU(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:js,PASSWORD_RESET:Vs,RECOVER_EMAIL:Bs,REVERT_SECOND_FACTOR_ADDITION:qs,VERIFY_AND_CHANGE_EMAIL:Ws,VERIFY_EMAIL:Ks}},EmailAuthProvider:mf,FacebookAuthProvider:kf,GithubAuthProvider:xf,GoogleAuthProvider:wf,OAuthProvider:bf,SAMLAuthProvider:_f,PhoneAuthProvider:gU,PhoneMultiFactorGenerator:tv,RecaptchaVerifier:wU,TwitterAuthProvider:If,Auth:vU,AuthCredential:Dl,Error:tu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),bU.registerVersion("@firebase/auth-compat","0.4.6");function xU(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new u_("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function SU(){if("undefined"===typeof Uint8Array)throw new u_("unimplemented","Uint8Arrays are not available in this environment.")}function _U(){if("undefined"==typeof atob)throw new u_("unimplemented","Blobs are unavailable in Firestore in this environment.")}var IU=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"toBase64",value:function(){return _U(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return SU(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return _U(),new e(yL.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return SU(),new e(yL.fromUint8Array(t))}}]),e}();function EU(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var TU=function(){function e(){p(this,e)}return g(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){mL(e=GD(e,uL));var n=sL(e);if(n._uninitializedComponentsProvider)throw new u_(o_.FAILED_PRECONDITION,"SDK cache is already specified.");t_("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new pD;return lL(n,i,new dD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){mL(e=GD(e,uL));var t=sL(e);if(t._uninitializedComponentsProvider)throw new u_(o_.FAILED_PRECONDITION,"SDK cache is already specified.");t_("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new pD;return lL(t,r,new hD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new u_(o_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new s_;return e._queue.enqueueAndForgetEvenWhileRestricted(Uo(Mo().mark((function n(){return Mo().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Uo(Mo().mark((function e(t){var n;return Mo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W_.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,W_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(aN(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),CU=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ZI||(this._appCompat=t)}return g(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||t_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YD(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return dL(this._delegate)}},{key:"disableNetwork",value:function(){return hL(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&BD("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return fL(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return PM(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new u_("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new BU(this,eL(this._delegate,e))}catch(t){throw DU(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new OU(this,tL(this._delegate,e))}catch(t){throw DU(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new zU(this,function(e,t){if(e=GD(e,$D),VD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new u_(o_.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new XD(e,null,function(e){return new nT(I_.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw DU(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return zM(this._delegate,(function(n){return e(new RU(t,n))}))}},{key:"batch",value:function(){var e=this;return sL(this._delegate),new NU(new MM(this._delegate,(function(t){return OM(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return pL(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return vL(this._delegate,e).then((function(e){return e?new zU(t,e):null}))}}]),e}(),AU=function(e){k(n,e);var t=_(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return g(n,[{key:"convertBytes",value:function(e){return new IU(new yL(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return OU.forKey(t,this.firestore,null)}}]),n}(vM);var RU=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new AU(t)}return g(e,[{key:"get",value:function(e){var t=this,n=qU(e);return this._delegate.get(n).then((function(e){return new FU(t._firestore,new bM(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=qU(e);return n?(xU("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=qU(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=qU(e);return this._delegate.delete(t),this}}]),e}(),NU=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"set",value:function(e,t,n){var r=qU(e);return n?(xU("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=qU(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=qU(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),PU=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return g(e,[{key:"fromFirestore",value:function(e,t){var n=new kM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new UU(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new AU(t),n),i.set(n,a)),a}}]),e}();PU.INSTANCES=new WeakMap;var OU=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new AU(t)}return g(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new BU(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new BU(this.firestore,eL(this._delegate,e))}catch(t){throw DU(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=pu(e))instanceof JD&&nL(this._delegate,e)}},{key:"set",value:function(e,t){t=xU("DocumentReference.set",t);try{return t?AM(this._delegate,e,t):AM(this._delegate,e)}catch(n){throw DU(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?RM(this._delegate,e):RM.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw DU(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return OM(GD((e=this._delegate).firestore,uL),[new hC(e._key,JT.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=LU(n),a=MU(n,(function(t){return new FU(e.firestore,new bM(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return NM(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?IM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GD(e,JD);var t=GD(e.firestore,uL);return FD(sL(t),e._key,{source:"server"}).then((function(n){return DM(t,e,n)}))}(this._delegate):function(e){e=GD(e,JD);var t=GD(e.firestore,uL);return FD(sL(t),e._key).then((function(n){return DM(t,e,n)}))}(this._delegate)).then((function(e){return new FU(t.firestore,new bM(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PU.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new u_("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new JD(n._delegate,r,new C_(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new JD(n._delegate,r,t))}}]),e}();function DU(e,t,n){return e.message=e.message.replace(t,n),e}function LU(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!EU(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function MU(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=EU(e[0])?e[0]:EU(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var FU=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"ref",get:function(){return new OU(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return SM(this._delegate,e._delegate)}}]),e}(),UU=function(e){k(n,e);var t=_(n);function n(){return p(this,n),t.apply(this,arguments)}return g(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||r_(),t}}]),n}(FU),zU=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new AU(t)}return g(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ZL(this._delegate,function(e,t,n){var r=t,i=$L("where",e);return eM._create(i,r,n)}(t,n,r)))}catch(i){throw DU(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ZL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=$L("orderBy",e);return nM._create(n,t)}(t,n)))}catch(r){throw DU(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ZL(this._delegate,(HD("limit",n=t),rM._create("limit",n,"F"))))}catch(n){throw DU(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ZL(this._delegate,(HD("limitToLast",n=t),rM._create("limitToLast",n,"L"))))}catch(n){throw DU(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,ZL(this._delegate,aM.apply(void 0,arguments)))}catch(t){throw DU(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ZL(this._delegate,oM.apply(void 0,arguments)))}catch(t){throw DU(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ZL(this._delegate,sM.apply(void 0,arguments)))}catch(t){throw DU(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ZL(this._delegate,cM.apply(void 0,arguments)))}catch(t){throw DU(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rL(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?TM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?CM(this._delegate):EM(this._delegate)).then((function(e){return new VU(t.firestore,new wM(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=LU(n),a=MU(n,(function(t){return new VU(e.firestore,new wM(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return NM(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(PU.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),jU=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new UU(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VU=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return g(e,[{key:"query",get:function(){return new zU(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new UU(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new jU(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new UU(n._firestore,r))}))}},{key:"isEqual",value:function(e){return SM(this._delegate,e._delegate)}}]),e}(),BU=function(e){k(n,e);var t=_(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return g(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new OU(this.firestore,e):null}},{key:"doc",value:function(e){try{return new OU(this.firestore,void 0===e?tL(this._delegate):tL(this._delegate,e))}catch(t){throw DU(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=GD(e.firestore,uL),r=tL(e),i=mM(e.converter,t);return OM(n,[CL(TL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,JT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new OU(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nL(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(PU.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(zU);function qU(e){return GD(e,JD)}var WU=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(gL,n)}return g(e,[{key:"isEqual",value:function(e){return(e=pu(e))instanceof gL&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(T_.keyField().canonicalString())}}]),e}(),KU=function(){function e(t){p(this,e),this._delegate=t}return g(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new NL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new AL("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=jM.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=VM.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new DL("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),GU={Firestore:CU,GeoPoint:kL,Timestamp:x_,Blob:IU,Transaction:RU,WriteBatch:NU,DocumentReference:OU,DocumentSnapshot:FU,Query:zU,QueryDocumentSnapshot:UU,QuerySnapshot:VU,CollectionReference:BU,FieldPath:WU,FieldValue:KU,setLogLevel:function(e){var t;t=e,XS.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new vu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},GU)))}(e,(function(e,t){return new CU(e,t,new TU)})),e.registerVersion("@firebase/firestore-compat","0.3.18")}(cF),cF.initializeApp({apiKey:"AIzaSyCyKZmjAdSLD3nFg9fAdYEJtwwXdQB_T5w",authDomain:"chat-react-9b7a3.firebaseapp.com",projectId:"chat-react-9b7a3",storageBucket:"chat-react-9b7a3.appspot.com",messagingSenderId:"366454376365",appId:"1:366454376365:web:a3ca6ff357b0d6f6280324",measurementId:"G-PYPP84T7HD"});var HU=(0,i.createContext)(null),QU=cF.auth(),$U=cF.firestore();o.createRoot(document.getElementById("root")).render((0,Hi.jsx)(HU.Provider,{value:{firebase:cF,auth:QU,firestore:$U},children:(0,Hi.jsx)(pF,{})}))}()}();
//# sourceMappingURL=main.a28aa91e.js.map